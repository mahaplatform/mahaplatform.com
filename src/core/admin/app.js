import adminassignment from './components/assignment'
import adminattachmentsDrive from './components/attachments/drive'
import adminattachmentsFiles from './components/attachments/files'
import adminattachments from './components/attachments'
import adminattachmentsWeb from './components/attachments/web'
import adminauthorized from './components/authorized'
import admincarousel from './components/carousel'
import adminchooser from './components/chooser'
import admincollectionFilters from './components/collection/filters'
import admincollection from './components/collection'
import admincollectionTable from './components/collection/table'
import admincomments from './components/comments'
import admincontainer from './components/container'
import admincriteriaCriteria from './components/criteria/criteria'
import admindesigner from './components/designer'
import admindrawer from './components/drawer'
import adminemojis from './components/emojis'
import adminfields from './components/fields'
import adminformAddressfield from './components/form/addressfield'
import adminformAssignmentfield from './components/form/assignmentfield'
import adminformAttachmentfield from './components/form/attachmentfield'
import adminformColorfield from './components/form/colorfield'
import adminformCriteriafield from './components/form/criteriafield'
import adminformFilefield from './components/form/filefield'
import adminformHtmlfield from './components/form/htmlfield'
import adminformLinkfield from './components/form/linkfield'
import adminformLookup from './components/form/lookup'
import adminformLookup2 from './components/form/lookup2'
import adminformPhonenumberfield from './components/form/phonenumberfield'
import adminformProfilefield from './components/form/profilefield'
import adminform from './components/form'
import adminformSelectCheckboxes from './components/form/select/checkboxes'
import adminformSelectRadioGroup from './components/form/select/radio_group'
import adminformSelect from './components/form/select'
import adminformTablefield from './components/form/tablefield'
import adminformToggleList from './components/form/toggle_list'
import adminformVideofield from './components/form/videofield'
import adminimageEditor from './components/image_editor'
import adminimportConfigure from './components/import/configure'
import adminimportField from './components/import/field'
import adminimportFinalizing from './components/import/finalizing'
import adminimportIntro from './components/import/intro'
import adminimportMapping from './components/import/mapping'
import adminimportParsing from './components/import/parsing'
import adminimportPreview from './components/import/preview'
import adminimportProcessing from './components/import/processing'
import adminimport from './components/import'
import adminimportUpload from './components/import/upload'
import adminimportValidatingFix from './components/import/validating/fix'
import adminimportValidating from './components/import/validating'
import adminimportValidatingReview from './components/import/validating/review'
import admininfinite from './components/infinite'
import adminmenu from './components/menu'
import adminpage from './components/page'
import adminpicklist from './components/picklist'
import adminpopup from './components/popup'
import adminpreview from './components/preview'
import adminprompt from './components/prompt'
import adminsearch from './components/search'
import adminsearch2 from './components/search2'
import adminsearchbox from './components/searchbox'
import adminsortableList from './components/sortable_list'
import admintabs from './components/tabs'
import admintasks from './components/tasks'
import adminuploader from './components/uploader'
import appraisalsresponsibilities from '../../apps/appraisals/admin/components/responsibilities'
import automationflowchartDesigner from '../../apps/automation/admin/components/flowchart_designer'
import automationfollowsfield from '../../apps/automation/admin/components/followsfield'
import automationimagesfield from '../../apps/automation/admin/components/imagesfield'
import automationsharesfield from '../../apps/automation/admin/components/sharesfield'
import campaignsrecordingfield from '../../apps/campaigns/admin/components/recordingfield'
import chatchannel from '../../apps/chat/admin/components/channel'
import chatchannels from '../../apps/chat/admin/components/channels'
import chatfullchat from '../../apps/chat/admin/components/fullchat'
import chatsubscriptions from '../../apps/chat/admin/components/subscriptions'
import chatchat from '../../apps/chat/admin/roots/chat'
import crmaccess from '../../apps/crm/admin/components/access'
import crmcheckboxesfield from '../../apps/crm/admin/components/checkboxesfield'
import crmintro from '../../apps/crm/admin/components/contactimport/intro'
import crmformDesigner from '../../apps/crm/admin/components/form_designer'
import crmproductfield from '../../apps/crm/admin/components/productfield'
import crmrulesfield from '../../apps/crm/admin/components/rulesfield'
import crmtimeline from '../../apps/crm/admin/components/timeline'
import driveaccess from '../../apps/drive/admin/components/access'
import driveexplorer from '../../apps/drive/admin/components/explorer'
import drivemove from '../../apps/drive/admin/components/move'
import drivechat from '../../apps/drive/admin/components/share/chat'
import driveshare from '../../apps/drive/admin/components/share'
import driveuploader from '../../apps/drive/admin/components/uploader'
import driveversions from '../../apps/drive/admin/components/versions'
import financeallocations from '../../apps/finance/admin/components/allocations'
import financecardfield from '../../apps/finance/admin/components/cardfield'
import financelineItems from '../../apps/finance/admin/components/line_items'
import financeroutingnumberfield from '../../apps/finance/admin/components/routingnumberfield'
import financetripsImportFinalize from '../../apps/finance/admin/components/trips_import_finalize'
import competenciescommitments from '../../apps/learning/admin/components/commitments'
import competenciesgoals from '../../apps/learning/admin/components/goals'
import competenciesresources from '../../apps/learning/admin/components/resources'
import mahaprofiles from '../../apps/maha/admin/components/account/account/profiles'
import mahanotificationTypes from '../../apps/maha/admin/components/account/notifications/notification_types'
import mahaappitems from '../../apps/maha/admin/components/account/security/appitems'
import mahaactivate from '../../apps/maha/admin/components/activate'
import mahaadmin from '../../apps/maha/admin/components/admin'
import mahabrowser from '../../apps/maha/admin/components/device/browser'
import mahacordova from '../../apps/maha/admin/components/device/cordova'
import mahaelectron from '../../apps/maha/admin/components/device/electron'
import mahadevice from '../../apps/maha/admin/components/device'
import mahaarticles from '../../apps/maha/admin/components/help/articles'
import mahanavigation from '../../apps/maha/admin/components/navigation'
import mahanetwork from '../../apps/maha/admin/components/network'
import mahanotifications from '../../apps/maha/admin/components/notifications'
import mahaomnisearch from '../../apps/maha/admin/components/omnisearch'
import mahabadge from '../../apps/maha/admin/components/portal/badge'
import mahaportal from '../../apps/maha/admin/components/portal'
import mahapresence from '../../apps/maha/admin/components/presence'
import mahapush from '../../apps/maha/admin/components/push'
import mahareset from '../../apps/maha/admin/components/reset'
import maharouter from '../../apps/maha/admin/components/router'
import mahasignin from '../../apps/maha/admin/components/signin'
import mahareactions from '../../apps/maha/admin/roots/reactions'
import mahastars from '../../apps/maha/admin/roots/stars'
import newsnew from '../../apps/news/admin/components/new'
import newsnews from '../../apps/news/admin/roots/news'
import platformapps from '../../apps/platform/admin/components/apps'
import sitessitesImportFinalize from '../../apps/sites/admin/components/sites_import_finalize'
import storesmediafield from '../../apps/stores/admin/components/mediafield'
import teamaccess from '../../apps/team/admin/components/access'
import teamroles from '../../apps/team/admin/components/roles'
import trainingoptions from '../../apps/training/admin/components/options'
import traininganswers from '../../apps/training/admin/components/questions/answers'
import trainingquestions from '../../apps/training/admin/components/questions'
import trainingquiz from '../../apps/training/admin/components/quiz'
import trainingreview from '../../apps/training/admin/components/review'
import appraisalsRoutes from '../../apps/appraisals/admin/views/index.js'
import automationRoutes from '../../apps/automation/admin/views/index.js'
import campaignsRoutes from '../../apps/campaigns/admin/views/index.js'
import chatRoutes from '../../apps/chat/admin/views/index.js'
import crmRoutes from '../../apps/crm/admin/views/index.js'
import driveRoutes from '../../apps/drive/admin/views/index.js'
import eatfreshRoutes from '../../apps/eatfresh/admin/views/index.js'
import eventsRoutes from '../../apps/events/admin/views/index.js'
import faxRoutes from '../../apps/fax/admin/views/index.js'
import financeRoutes from '../../apps/finance/admin/views/index.js'
import formsRoutes from '../../apps/forms/admin/views/index.js'
import competenciesRoutes from '../../apps/learning/admin/views/index.js'
import mahaRoutes from '../../apps/maha/admin/views/index.js'
import newsRoutes from '../../apps/news/admin/views/index.js'
import platformRoutes from '../../apps/platform/admin/views/index.js'
import sitesRoutes from '../../apps/sites/admin/views/index.js'
import storesRoutes from '../../apps/stores/admin/views/index.js'
import teamRoutes from '../../apps/team/admin/views/index.js'
import trainingRoutes from '../../apps/training/admin/views/index.js'
import chatBadges from '../../apps/chat/admin/badges/index.js'
import crmBadges from '../../apps/crm/admin/badges/index.js'
import mahaBadges from '../../apps/maha/admin/badges/index.js'
import chatRoots from '../../apps/chat/admin/roots/index.js'
import crmRoots from '../../apps/crm/admin/roots/index.js'
import mahaRoots from '../../apps/maha/admin/roots/index.js'
import newsRoots from '../../apps/news/admin/roots/index.js'
import financeUserTasks from '../../apps/finance/admin/user_tasks.js'
import financeUserFields from '../../apps/finance/admin/user_fields.js'
import financeUserValues from '../../apps/finance/admin/user_values.js'
import automationActivityCards from '../../apps/automation/admin/activities/index.js'
import crmActivityCards from '../../apps/crm/admin/activities/index.js'
import eventsActivityCards from '../../apps/events/admin/activities/index.js'
import crmAdminDashboardEmailsIndexJs from '../../apps/crm/admin/dashboard/emails/index.js'
import crmAdminDashboardFormIndexJs from '../../apps/crm/admin/dashboard/form/index.js'
import eventsAdminDashboardEventDetailIndexJs from '../../apps/events/admin/dashboard/event_detail/index.js'
import financeAdminDashboardAdminOverviewIndexJs from '../../apps/finance/admin/dashboard/admin_overview/index.js'
import financeAdminDashboardExpenseApprovalsIndexJs from '../../apps/finance/admin/dashboard/expense_approvals/index.js'
import financeAdminDashboardNewItemIndexJs from '../../apps/finance/admin/dashboard/new_item/index.js'
import mahaAdminDashboardGreetingIndexJs from '../../apps/maha/admin/dashboard/greeting/index.js'
import financeSettings from '../../apps/finance/admin/settings.js'
import Platform from '../../apps/maha/admin/components/platform'
import Forbidden from '../../apps/maha/admin/views/forbidden'
import NotFound from '../../apps/maha/admin/views/not_found'
import Root from '../../apps/maha/admin/components/root'
import { hot } from 'react-hot-loader'
import PropTypes from 'prop-types'
import React from 'react'

class App extends React.Component {

  static childContextTypes = {
    configuration: PropTypes.object
  }

  static propTypes = {}

  render() {
    return (
      <Root reducers={ this._getReducers() }>
        <Platform { ...this._getPlatform() } />
      </Root>
    )
  }

  getChildContext() {
    return {
      configuration: {
        activityCards: this._getActivityCards(),
        appUserTasks: this._getAppUserTasks(),
        appUserFields: this._getAppUserFields(),
        appUserValues: this._getAppUserValues(),
        dashboardCards: this._getDashboardCards(),
        usage: this._getUsage(),
        settings: this._getSettings()
      }
    }
  }

  _getActivityCards() {
    return {
      ...automationActivityCards,
      ...crmActivityCards,
      ...eventsActivityCards,
    }
  }

  _getAppUserFields() {
    return [
      financeUserFields,
    ]
  }

  _getAppUserTasks() {
    return [
      financeUserTasks,
    ]
  }

  _getAppUserValues() {
    return [
      financeUserValues,
    ]
  }

  _getBadges() {
    return [
      ...chatBadges.map(badge => ({
        app: 'chat',
        ...badge
      })),
      ...crmBadges.map(badge => ({
        app: 'crm',
        ...badge
      })),
      ...mahaBadges.map(badge => ({
        app: 'maha',
        ...badge
      })),
    ]
  }

  _getDashboardCards() {
    return [
      {
        ...crmAdminDashboardEmailsIndexJs,
        app: 'crm',
        type: crmAdminDashboardEmailsIndexJs.code,
        code: 'crm:'+crmAdminDashboardEmailsIndexJs.code
      },
      {
        ...crmAdminDashboardFormIndexJs,
        app: 'crm',
        type: crmAdminDashboardFormIndexJs.code,
        code: 'crm:'+crmAdminDashboardFormIndexJs.code
      },
      {
        ...eventsAdminDashboardEventDetailIndexJs,
        app: 'events',
        type: eventsAdminDashboardEventDetailIndexJs.code,
        code: 'events:'+eventsAdminDashboardEventDetailIndexJs.code
      },
      {
        ...financeAdminDashboardAdminOverviewIndexJs,
        app: 'finance',
        type: financeAdminDashboardAdminOverviewIndexJs.code,
        code: 'finance:'+financeAdminDashboardAdminOverviewIndexJs.code
      },
      {
        ...financeAdminDashboardExpenseApprovalsIndexJs,
        app: 'finance',
        type: financeAdminDashboardExpenseApprovalsIndexJs.code,
        code: 'finance:'+financeAdminDashboardExpenseApprovalsIndexJs.code
      },
      {
        ...financeAdminDashboardNewItemIndexJs,
        app: 'finance',
        type: financeAdminDashboardNewItemIndexJs.code,
        code: 'finance:'+financeAdminDashboardNewItemIndexJs.code
      },
      {
        ...mahaAdminDashboardGreetingIndexJs,
        app: 'maha',
        type: mahaAdminDashboardGreetingIndexJs.code,
        code: 'maha:'+mahaAdminDashboardGreetingIndexJs.code
      },
    ]
  }

  _getPlatform() {
    return {
      badges: this._getBadges(),
      roots: this._getRoots(),
      routes: this._getRoutes()
    }
  }

  _getReducers() {
    return [
      adminassignment,
      adminattachmentsDrive,
      adminattachmentsFiles,
      adminattachments,
      adminattachmentsWeb,
      adminauthorized,
      admincarousel,
      adminchooser,
      admincollectionFilters,
      admincollection,
      admincollectionTable,
      admincomments,
      admincontainer,
      admincriteriaCriteria,
      admindesigner,
      admindrawer,
      adminemojis,
      adminfields,
      adminformAddressfield,
      adminformAssignmentfield,
      adminformAttachmentfield,
      adminformColorfield,
      adminformCriteriafield,
      adminformFilefield,
      adminformHtmlfield,
      adminformLinkfield,
      adminformLookup,
      adminformLookup2,
      adminformPhonenumberfield,
      adminformProfilefield,
      adminform,
      adminformSelectCheckboxes,
      adminformSelectRadioGroup,
      adminformSelect,
      adminformTablefield,
      adminformToggleList,
      adminformVideofield,
      adminimageEditor,
      adminimportConfigure,
      adminimportField,
      adminimportFinalizing,
      adminimportIntro,
      adminimportMapping,
      adminimportParsing,
      adminimportPreview,
      adminimportProcessing,
      adminimport,
      adminimportUpload,
      adminimportValidatingFix,
      adminimportValidating,
      adminimportValidatingReview,
      admininfinite,
      adminmenu,
      adminpage,
      adminpicklist,
      adminpopup,
      adminpreview,
      adminprompt,
      adminsearch,
      adminsearch2,
      adminsearchbox,
      adminsortableList,
      admintabs,
      admintasks,
      adminuploader,
      appraisalsresponsibilities,
      automationflowchartDesigner,
      automationfollowsfield,
      automationimagesfield,
      automationsharesfield,
      campaignsrecordingfield,
      chatchannel,
      chatchannels,
      chatfullchat,
      chatsubscriptions,
      chatchat,
      crmaccess,
      crmcheckboxesfield,
      crmintro,
      crmformDesigner,
      crmproductfield,
      crmrulesfield,
      crmtimeline,
      driveaccess,
      driveexplorer,
      drivemove,
      drivechat,
      driveshare,
      driveuploader,
      driveversions,
      financeallocations,
      financecardfield,
      financelineItems,
      financeroutingnumberfield,
      financetripsImportFinalize,
      competenciescommitments,
      competenciesgoals,
      competenciesresources,
      mahaprofiles,
      mahanotificationTypes,
      mahaappitems,
      mahaactivate,
      mahaadmin,
      mahabrowser,
      mahacordova,
      mahaelectron,
      mahadevice,
      mahaarticles,
      mahanavigation,
      mahanetwork,
      mahanotifications,
      mahaomnisearch,
      mahabadge,
      mahaportal,
      mahapresence,
      mahapush,
      mahareset,
      maharouter,
      mahasignin,
      mahareactions,
      mahastars,
      newsnew,
      newsnews,
      platformapps,
      sitessitesImportFinalize,
      storesmediafield,
      teamaccess,
      teamroles,
      trainingoptions,
      traininganswers,
      trainingquestions,
      trainingquiz,
      trainingreview,
    ]
  }

  _getRoots() {
    return [
      ...chatRoots.map(root => ({
        app: 'chat',
        component: root
      })),
      ...crmRoots.map(root => ({
        app: 'crm',
        component: root
      })),
      ...mahaRoots.map(root => ({
        app: 'maha',
        component: root
      })),
      ...newsRoots.map(root => ({
        app: 'news',
        component: root
      })),
    ]
  }

  _getRoutes() {
    return [
      { path: '/:team/appraisals', children: appraisalsRoutes },
      { path: '/:team/automation', children: automationRoutes },
      { path: '/:team/campaigns', children: campaignsRoutes },
      { path: '/:team/chat', children: chatRoutes },
      { path: '/:team/crm', children: crmRoutes },
      { path: '/:team/drive', children: driveRoutes },
      { path: '/:team/eatfresh', children: eatfreshRoutes },
      { path: '/:team/events', children: eventsRoutes },
      { path: '/:team/fax', children: faxRoutes },
      { path: '/:team/finance', children: financeRoutes },
      { path: '/:team/expenses', children: financeRoutes },
      { path: '/:team/forms', children: formsRoutes },
      { path: '/:team/learning', children: competenciesRoutes },
      { path: '/:team', children: mahaRoutes },
      { path: '/:team/news', children: newsRoutes },
      { path: '/:team/platform', children: platformRoutes },
      { path: '/:team/sites', children: sitesRoutes },
      { path: '/:team/stores', children: storesRoutes },
      { path: '/:team/team', children: teamRoutes },
      { path: '/:team/training', children: trainingRoutes },
      { path: '/forbidden', component: Forbidden },
      { path: '/*', component: NotFound }
    ]
  }

  _getSettings() {
    return {
      finance: financeSettings,
    }
  }

  _getUsage() {
    return {
    }
  }

}

export default hot(module)(App)
