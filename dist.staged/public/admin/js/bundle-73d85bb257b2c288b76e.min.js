!function(e){function t(t){for(var n,o,s=t[0],i=t[1],u=t[2],c=0,f=[];c<s.length;c++)o=s[c],l[o]&&f.push(l[o][0]),l[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(d&&d(t);f.length;)f.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var i=a[s];0!==l[i]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},l={0:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/admin";var s=window.webpackJsonp=window.webpackJsonp||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=i;r.push([528,2]),a()}([,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojify=t.Tooltip=t.SourceToken=t.Starred=t.Star=t.Reactions=t.Reaction=t.CompactPresenceToken=t.PresenceToken=t.CompactReviewToken=t.ReviewToken=t.CompactUserToken=t.UserToken=t.Tour=t.Help=t.AssigneeToken=t.AppToken=t.Uploader=t.RichText=t.Reviews=t.Page=t.Logo=t.ImportToken=t.Import=t.Image=t.Feed=t.Emoji=t.Editor=t.Composer=t.Comments=t.Chooser=t.Audit=t.Avatar=t.AttachmentField=t.Attachments=t.Attachment=t.Assignment2=t.Assignment=t.AssetViewer=t.AssetToken=t.AssetThumbnail=t.AssetPreview=t.AssetInfo=t.AssetIcon=t.Routes=void 0;var n=a(24);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var l=a(414);Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return l.Page}});var r=W(a(929)),o=W(a(82)),s=W(a(417)),i=W(a(1067)),u=W(a(1068)),d=W(a(88)),c=W(a(186)),f=W(a(458)),m=W(a(459)),p=W(a(456)),h=W(a(116)),_=W(a(460)),v=W(a(25)),y=W(a(1081)),g=W(a(1082)),b=W(a(171)),E=W(a(172)),k=W(a(461)),C=W(a(185)),S=W(a(462)),T=W(a(36)),P=W(a(463)),M=W(a(1140)),O=W(a(117)),N=W(a(477)),j=W(a(455)),x=W(a(480)),A=W(a(1152)),w=W(a(1153)),I=W(a(188)),R=W(a(1159)),U=W(a(1161)),F=W(a(1162)),D=W(a(479)),L=W(a(187)),q=W(a(1163)),B=W(a(221)),H=W(a(453)),V=W(a(452)),Y=W(a(1164)),Q=W(a(1167)),G=W(a(1170)),z=W(a(454)),K=W(a(457));function W(e){return e&&e.__esModule?e:{default:e}}t.Routes=r.default,t.AssetIcon=o.default,t.AssetInfo=s.default,t.AssetPreview=i.default,t.AssetThumbnail=u.default,t.AssetToken=d.default,t.AssetViewer=c.default,t.Assignment=f.default,t.Assignment2=m.default,t.Attachment=p.default,t.Attachments=h.default,t.AttachmentField=_.default,t.Avatar=v.default,t.Audit=y.default,t.Chooser=g.default,t.Comments=b.default,t.Composer=E.default,t.Editor=k.default,t.Emoji=C.default,t.Feed=S.default,t.Image=T.default,t.Import=P.default,t.ImportToken=M.default,t.Logo=O.default,t.Reviews=N.default,t.RichText=j.default,t.Uploader=x.default,t.AppToken=A.default,t.AssigneeToken=w.default,t.Help=I.default,t.Tour=R.default,t.UserToken=U.default,t.CompactUserToken=F.default,t.ReviewToken=D.default,t.CompactReviewToken=L.default,t.PresenceToken=q.default,t.CompactPresenceToken=B.default,t.Reaction=H.default,t.Reactions=V.default,t.Star=Y.default,t.Starred=Q.default,t.SourceToken=G.default,t.Tooltip=z.default,t.emojify=K.default},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7)),l=i(a(658)),r=i(a(892)),o=i(a(397)),s=i(a(913));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.default=(0,n.default)({},l,r,o,s),Object.keys(t.default).map(function(e){t[e]=t.default[e]})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=c(a(36)),d=c(a(221));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleLoad=l._handleLoad.bind(l),l._handleFail=l._handleFail.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.presence,n=e.user,l=n.initials,r=n.photo;return n?s.default.createElement("div",{className:"maha-avatar"},s.default.createElement("div",{className:"maha-avatar-badge"},s.default.createElement("div",{className:"maha-avatar-wrapper"},r&&s.default.createElement(u.default,this._getImage()),!r&&t&&s.default.createElement("i",{className:"fa fa-fw fa-"+t}),!r&&!t&&s.default.createElement("div",{className:"maha-avatar-text"},l))),a&&s.default.createElement(d.default,n)):s.default.createElement("div",{className:"maha-avatar"})}},{key:"_getImage",value:function(){var e=this.props,t=e.width,a=e.user;return{src:a.photo,title:this._getTitle(),alt:a.initials,transforms:{fit:"cover",w:t,h:t},onLoad:this._handleLoad}}},{key:"_getTitle",value:function(){var e=this.props,t=e.title,a=e.user;return!1===t?null:t||a.full_name}},{key:"_handleLoad",value:function(){this.props.onLoad()}},{key:"_handleFail",value:function(){this.props.onFail()}}]),t}(s.default.Component);f.propTypes={icon:i.default.string,presence:i.default.bool,title:i.default.oneOfType([i.default.bool,i.default.string]),user:i.default.object,width:i.default.oneOfType([i.default.number,i.default.string]),onFail:i.default.func,onLoad:i.default.func},f.defaultProps={width:150,presence:!0,onFail:function(){},onLoad:function(){}},t.default=f},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.integration,a=e.title;return l.default.createElement("div",{className:"token project-token"},t&&t.project_code&&l.default.createElement("strong",null,t.project_code," - "),a)};o.propTypes={integration:n.default.string,title:n.default.string},t.default=o},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(44)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=m(a(0)),u=m(a(1)),d=m(a(9)),c=m(a(8)),f=m(a(154));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.format;if(d.default.isString(e)){var t=e.match(/([^|]*)\|?(.*)/),a=(0,n.default)(t,3),l=a[1],r=a[2];if("status"===l)return g(this.props);if("currency"===l)return k(this.props);if("number"===l){var o=r||"0";return C(this.props,o)}if("date"===l){var s=r||"MM/DD/YY";return S(this.props,s)}if("datetime"===l){var i=r||"MM/DD/YY @ hh:mm A";return S(this.props,i)}if("time"===l){var u=r||"hh:mm A";return S(this.props,u)}return"check_times"===l?b(this.props,!0):"yes_no"===l?E(this.props,!0):"check"===l?b(this.props,!1):"capitalize"===l?T(this.props):"email"===l?P(this.props):"link"===l?M(this.props):"raw"===l?v(this.props):"element"===l?_(this.props):""===this.props.value?y(this.props):h(this.props)}return d.default.isFunction(e)?e(this.props):h(this.props)}}]),t}(i.default.Component);p.propTypes={format:u.default.oneOfType([u.default.element,u.default.func,u.default.string]),value:u.default.any};var h=function(e){return i.default.createElement("span",null,e.value)},_=function(e){return i.default.createElement(e.value,null)},v=function(e){return i.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.value}})},y=function(){return i.default.createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}})},g=function(e){return e.value?i.default.createElement("span",{className:e.value.toLowerCase()},e.value.toUpperCase()):i.default.createElement("span",null)},b=function(e,t){return!0===e.value?i.default.createElement("i",{className:"icon green check"}):t&&!1===e.value?i.default.createElement("i",{className:"icon red remove"}):i.default.createElement("span",null)},E=function(e){return!1===e.value?i.default.createElement("span",{className:"no"},"NO"):!0===e.value?i.default.createElement("span",{className:"yes"},"YES"):null},k=function(e){return i.default.createElement("span",null,(0,f.default)(e.value).format("$0,0.00"))},C=function(e,t){return i.default.createElement("span",null,(0,f.default)(e.value).format(t))},S=function(e,t){return i.default.createElement("span",null,e.value?function(e){var t=e.toString();return t.match(/^\d{4}-\d{2}-\d{2} \d{2}\:\d{2}\:\d{2}$/)?(0,c.default)(e,"YYYY-MM-DD hh:mm:ss"):t.toString().match(/^\d{2}\:\d{2}\:\d{2}$/)?(0,c.default)(e,"hh:mm:ss"):(0,c.default)(e)}(e.value).format(t):"")},T=function(e){return i.default.createElement("span",null,e.value.toUpperCase())},P=function(e){return i.default.createElement("a",{href:"mailto:"+e.value},e.value)},M=function(e){return i.default.createElement("a",{href:e.value,target:"_blank"},e.value)};t.default=p},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.description,a=e.integration,n=e.title;return l.default.createElement("div",{className:"token expense-type-token"},a&&a.expense_code&&l.default.createElement("strong",null,a.expense_code," - "),n,l.default.createElement("br",null),l.default.createElement("div",{className:"expense-type-token-description"},t))};o.propTypes={description:n.default.string,integration:n.default.string,title:n.default.string},t.default=o},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(51));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={loaded:!1},l._handleClick=l._handleClick.bind(l),l._handleLoad=l._handleLoad.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.state.loaded;return this.props.src?s.default.createElement("div",{className:"maha-image",onClick:this._handleClick},!e&&s.default.createElement("i",{className:"fa fa-fw fa-spin fa-circle-o-notch"}),s.default.createElement("img",this._getImage())):s.default.createElement("div",{className:"maha-image"})}},{key:"componentDidUpdate",value:function(e,t){this.state.loaded!==t.loaded&&this.props.onLoad()}},{key:"_getImage",value:function(){var e=this.props,t=e.alt,a=e.src,n=e.className,l=e.title,r=e.transforms,o=u.default.stringify(r,{encode:!1}),s="/imagecache/"+o+"&dpi=1"+a;return{alt:t,className:n,src:s,srcSet:s+" 1x, "+("/imagecache/"+o+"&dpi=2"+a)+" 2x",title:l,onLoad:this._handleLoad}}},{key:"_handleClick",value:function(){this.props.onClick()}},{key:"_handleLoad",value:function(){this.setState({loaded:!0})}}]),t}(s.default.Component);c.propTypes={alt:i.default.string,className:i.default.string,src:i.default.string,title:i.default.string,transforms:i.default.object,onClick:i.default.func,onLoad:i.default.func},c.defaultProps={onLoad:function(){},onClick:function(){}},t.default=c},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.project;return t?l.default.createElement("div",{className:"compact-project-token"},t.integration.project_code,l.default.createElement("span",null," - "),t.title,!1===t.is_active&&l.default.createElement("span",{className:"compact-project-token-activity"},"(INACTIVE)")):null};o.propTypes={project:n.default.object},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.name,a=e.full_address,n=e.integration;return l.default.createElement("div",{className:"token vendor-token"},l.default.createElement("strong",null,n&&n.vendor_id&&n.vendor_id+" - ",t),a&&l.default.createElement("span",null,l.default.createElement("br",null),a))};o.propTypes={name:n.default.string,full_address:n.default.string,integration:n.default.string},t.default=o},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.expense_type;return t?l.default.createElement("div",{className:"compact-expense-type-token"},t.integration.expense_code,l.default.createElement("span",null," - "),t.title):null};o.propTypes={expense_type:n.default.object},t.default=o},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(661)),r=s(a(662)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(663));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.button",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(678)),r=s(a(679)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(681));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.infinite",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(683)),r=s(a(684)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(685));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.searchbox",component:r.default,reducer:l.default,actions:o})},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.description,a=e.level,n=e.title;return l.default.createElement("div",{className:"token competency-token"},l.default.createElement("strong",null,n,a?l.default.createElement("span",null," - level ",a):""),l.default.createElement("br",null),t)};o.propTypes={description:n.default.string,level:n.default.string,title:n.default.string},t.default=o},,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.leftItems,n=t.position,l=t.rightItems,r=t.title;return i.default.createElement("div",{className:this._getClass()},"top"===n&&i.default.createElement("div",{className:"reframe-modal-panel-header"},a&&i.default.createElement("div",{className:"reframe-modal-panel-header-navigation"},a.map(function(t,a){return i.default.createElement("div",{key:"left_"+a,className:"reframe-modal-panel-header-navigation-item",onClick:t.handler},e._getElement(t))})),i.default.createElement("div",{className:"reframe-modal-panel-header-title"},r),l&&i.default.createElement("div",{className:"reframe-modal-panel-header-navigation"},l.map(function(t,a){return i.default.createElement("div",{key:"right_"+a,className:"reframe-modal-panel-header-navigation-item",onClick:t.handler},e._getElement(t))}))),i.default.createElement("div",{className:"reframe-modal-panel-body"},this.props.children),"bottom"===n&&i.default.createElement("div",{className:"reframe-modal-panel-footer"},a&&i.default.createElement("div",{className:"reframe-modal-panel-footer-navigation"},a.map(function(t,a){return i.default.createElement("div",{key:"left_"+a,className:"ui button",onClick:t.handler},e._getElement(t))})),l&&i.default.createElement("div",{className:"reframe-modal-panel-footer-navigation"},l.map(function(t,a){return i.default.createElement("div",{key:"right_"+a,className:"ui red button",onClick:t.handler},e._getElement(t))}))))}},{key:"_getClass",value:function(){var e=this.props.className,t=["reframe-modal-panel"];return e&&t.push(e),t.join(" ")}},{key:"_getElement",value:function(e){return e.component?u.default.isFunction(e.component)?i.default.createElement(e.component):e.component:e.icon?i.default.createElement("div",{className:"reframe-modal-panel-header-navigation-button"},i.default.createElement("i",{className:"fa fa-fw fa-"+e.icon})):e.label?i.default.createElement("div",{className:"reframe-modal-panel-header-navigation-button"},i.default.createElement("span",null,e.label)):void 0}},{key:"_getLeftClass",value:function(){var e=["reframe-modal-panel-header-navigation"];return this.props.leftEnabled||e.push("disabled"),e.join(" ")}},{key:"_getRightClass",value:function(){var e=["reframe-modal-panel-header-navigation"];return this.props.rightEnabled||e.push("disabled"),e.join(" ")}}]),t}(i.default.Component);c.propTypes={children:s.default.any,className:s.default.string,leftItems:s.default.array,rightItems:s.default.array,position:s.default.string,title:s.default.string},c.defaultProps={position:"top"},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"maha-asset-icon"},i.default.createElement("i",{className:"fa fa-fw fa-"+this._getIcon()}))}},{key:"_getIcon",value:function(){var e=this.props.content_type;return e.match(/image/)?"file-image-o":e.match(/drawing/)?"file-image-o":e.match(/audio/)?"file-audio-o":e.match(/video/)?"file-video-o":e.match(/pdf/)?"file-pdf-o":e.match(/excel/)?"file-excel-o":e.match(/spreadsheet/)?"file-excel-o":e.match(/msword/)?"file-word-o":e.match(/powerpoint/)?"file-powerpoint-o":e.match(/presentation/)?"file-powerpoint-o":e.match(/wordprocessing/)?"file-word-o":e.match(/document/)?"file-word-o":e.match(/map/)?"map-o":e.match(/zip/)?"file-archive-o":e.match(/xml/)?"file-code-o":e.match(/html/)?"file-code-o":"file-text-o"}}]),t}(i.default.Component);d.propTypes={content_type:s.default.string},t.default=d},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1030)),r=s(a(1031)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1033));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.attachments_files",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(1)),i=f(a(82)),u=f(a(36)),d=f(a(0)),c=f(a(1059));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),l._handleDownload=l._handleDownload.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.content_type,n=t.original_file_name,l=t.file_size,r=t.has_preview,o=t.id,s=t.path,f=t.preview,m=t.source,p=t.source_url,h=r?"/assets/"+o+"/preview.jpg":s;return d.default.createElement("div",{className:this._getClass(),onClick:this._handleClick},d.default.createElement("div",{className:"maha-asset-token-details"},d.default.createElement("div",{className:"maha-asset-token-icon"},d.default.createElement(i.default,{content_type:a}),d.default.createElement("div",{className:"maha-asset-token-badge"},d.default.createElement("img",{src:"/admin/images/"+m+".png"}))),d.default.createElement("div",{className:"maha-asset-token-text"},d.default.createElement("div",{className:"maha-asset-token-filename"},n),d.default.createElement("div",{className:"maha-asset-token-filesize"},(0,c.default)(l)),d.default.createElement("div",{className:"maha-asset-token-links"},d.default.createElement("div",{className:"maha-asset-token-link",onClick:this._handleDownload},"Download"),p&&d.default.createElement("span",null,"|"),p&&d.default.createElement("div",{className:"maha-asset-token-link",onClick:this._handleEdit.bind(this,p)},"google"===m&&"Open in Google Drive","microsoft"===m&&"Open in Microsoft OneDrive",d.default.createElement("a",{href:p,rel:"noopener noreferrer",target:"_blank",ref:function(t){return e.link=t}}))))),f&&d.default.createElement("div",{className:"maha-asset-token-preview"},d.default.createElement("div",{className:"maha-asset-token-preview-frame"},d.default.createElement(u.default,{src:h,title:n,transforms:{h:300}}))))}},{key:"_getClass",value:function(){var e=this.props,t=e.file_name,a=e.onClick,n=["maha-asset-token"];return n.push(t.split(".").pop().substr(0,3)),a&&n.push("link"),n.join(" ")}},{key:"_handleClick",value:function(){var e=this.props.onClick;if(e)return e()}},{key:"_handleDownload",value:function(){var e=this.context.admin.team.token,t=this.props,a=t.download,n=t.id;a&&(window.location.href="/api/admin/assets/"+n+"/download?token="+e)}},{key:"_handleEdit",value:function(e,t){this.link.href=e,this.link.click(),t.stopPropagation()}}]),t}(d.default.Component);m.contextTypes={admin:s.default.object},m.propTypes={content_type:s.default.string,download:s.default.bool,file_name:s.default.string,file_size:s.default.number,has_preview:s.default.bool,id:s.default.number,original_file_name:s.default.string,path:s.default.string,preview:s.default.bool,source:s.default.string,source_url:s.default.string,onClick:s.default.func},m.defaultProps={download:!0,preview:!1},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(523),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));t.default=function(e,t,a,r){var o=r.admin.user;return"pending"===a.status&&o.id===a.user.id?[{color:"red",text:"Submit for Approval",disabled:"incomplete"===a.status,request:{endpoint:"/api/admin/expenses/"+t+"s/"+a.id+"/submit",method:"patch"}}]:"submitted"===a.status&&l.default.includes(a.approver_ids,o.id)&&a.user.id!==o.id?[{color:"red",text:"Reject",request:{endpoint:"/api/admin/expenses/"+t+"s/"+a.id+"/reject",method:"patch"}},{color:"green",text:"Approve",request:{endpoint:"/api/admin/expenses/"+t+"s/"+a.id+"/approve",method:"patch"}}]:"approved"===a.status&&l.default.includes(o.rights,"expenses:manage_configuration")?[{color:"red",text:"Reject",request:{endpoint:"/api/admin/expenses/"+t+"s/"+a.id+"/reject",method:"patch"}},{color:"pink",text:"Review",request:{endpoint:"/api/admin/expenses/"+t+"s/"+a.id+"/review",method:"patch"}}]:"reviewed"===a.status&&l.default.includes(o.rights,"expenses:manage_configuration")?(0,n.getIntegrationTask)(e.integration,r,t,a.id):null}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(14)),l=s(a(0)),r=s(a(9)),o=s(a(1443));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,a,s){var i={items:[]},u=a.admin.user,d=u.id===t.user.id&&r.default.includes(["incomplete","pending","submitted","rejected"],t.status),c=r.default.includes(t.approver_ids,u.id)&&r.default.includes(["incomplete","pending","submitted","rejected"],t.status),f=r.default.includes(u.rights,"expenses:manage_configuration"),m=f&&"approved"===t.status;if(d||c||m){var p=(0,n.default)({projectEndpoint:"/api/admin/expenses/users/"+t.user.id+"/projects"},e,t);i.items.push({label:"Edit "+r.default.capitalize(e),modal:function(e){return l.default.createElement(s,p)}})}if(f){var h={item_type:e,item_id:t.id};i.items.push({label:"Revert Status",modal:function(e){return l.default.createElement(o.default,h)}})}return u.id===t.user.id&&r.default.includes(["incomplete","pending","rejected"],t.status)&&i.items.push({label:"Delete "+r.default.capitalize(e),confirm:"Are you sure you want to delete this "+e,request:{method:"DELETE",endpoint:"/api/admin/expenses/"+e+"s/"+t.id,onSuccess:function(t){a.flash.set("success","Successfully deleted this "+e),a.router.goBack()},onFailure:function(t){return a.flash.set("error","Unable to delete this "+e)}}}),i.items.length>0?i:null}},,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(68));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.button,a=e.component,n=e.icon,l=e.image,r=e.text,o=e.title;return s.default.createElement("div",{className:"reframe-message"},s.default.createElement("div",{className:"reframe-message-panel"},n&&s.default.createElement("div",{className:"reframe-message-panel-icon"},s.default.createElement("h2",null,s.default.createElement("i",{className:this._getIconClass()}))),l&&s.default.createElement("div",{className:"reframe-message-panel-icon"},s.default.createElement("img",{src:l})),o&&s.default.createElement("h3",null,o),r&&s.default.createElement("p",null,r),a,t&&s.default.createElement(u.default,this._getButton())))}},{key:"_getIconClass",value:function(){var e=this.props,t=e.animation,a=e.color,n=["fa","fa-"+e.icon];return t&&n.push("animated "+t),a&&n.push(a),n.join(" ")}},{key:"_getButton",value:function(){var e=this.props.button;return{basic:!0,color:"red",label:e.label,modal:e.modal,handler:e.handler,request:e.request}}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={animation:i.default.string,icon:i.default.string,image:i.default.string,text:i.default.string,title:i.default.string,color:i.default.string,component:i.default.object,button:i.default.object},c.defaultProps={animation:null,color:null},t.default=c},,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1022)),r=u(a(1023)),o=i(a(1047)),s=i(a(1048));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.attachments",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(36));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.team,a=e.width;return s.default.createElement("div",{className:"maha-logo"},s.default.createElement("div",{className:"maha-logo-badge"},s.default.createElement("div",{className:"maha-logo-wrapper"},t.logo&&s.default.createElement(u.default,{src:t.logo,title:t.title,transforms:{fit:"cover",w:a,h:a}}),!t.logo&&s.default.createElement("div",{className:"logo-text"},t.title[0]))))}}]),t}(s.default.Component);c.propTypes={team:i.default.object,width:i.default.string},c.defaultProps={width:150},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1250)),r=u(a(1251)),o=i(a(1253)),s=i(a(1254));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"chat.channel",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1255)),r=u(a(1256)),o=i(a(1261)),s=i(a(1262));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"chat.channels",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1269)),r=s(a(1270)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1271));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"chat.subscriptions",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Channel",method:"post",action:"/api/admin/chat/channels",onCancel:this._handleCancel,onSuccess:this._handleSuccess,saveText:"Create",sections:[{fields:[{label:"Name",name:"name",type:"textfield",placeholder:"Give this channel a name"},{label:"Description",name:"description",type:"textfield",placeholder:"Describe the purpose of this channel"},{label:"Members",name:"ids",type:"lookup2",required:!0,multiple:!0,endpoint:"/api/admin/users",filters:{app_id:{$eq:6}},value:"id",text:"full_name",format:s.CompactUserToken,placeholder:"Add members to this channel"}]}]}}},{key:"_handleCancel",value:function(){this.props.onCancel()}},{key:"_handleSuccess",value:function(e){this.props.onSuccess(e)}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={onCancel:i.default.func,onSuccess:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(518),l=a(20),r=function(e){return e&&e.__esModule?e:{default:e}}(a(501));t.default=(0,l.connect)(function(e,t){return{channels:(0,n.channels)(e,t),status:e.chat.root.channels_status}})(r.default)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.description,a=e.title;return l.default.createElement("div",{className:"token"},l.default.createElement("strong",null,a),l.default.createElement("br",null),t)};o.propTypes={description:n.default.string,title:n.default.string},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return{label:e.label,type:e.input_type,name:"values."+e.code,options:e.options,required:e.is_required}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.photo,a=e.title;return r.default.createElement("div",{className:"category-token"},r.default.createElement("div",{className:"category-token-photo"},r.default.createElement(n.Image,{src:t,title:a,transforms:{fit:"cover",w:32,h:32}})),r.default.createElement("div",{className:"category-token-title"},a))};s.propTypes={photo:l.default.string,title:l.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.photo,a=e.title;return r.default.createElement("div",{className:"offering-token"},r.default.createElement("div",{className:"offering-token-photo"},r.default.createElement(n.Image,{src:t,title:a,transforms:{fit:"cover",w:32,h:32}})),r.default.createElement("div",{className:"offering-token-title"},a))};s.propTypes={photo:l.default.string,title:l.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.status;return l.default.createElement("span",{className:"expense-item-status "+t},t)};o.propTypes={status:n.default.string},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.vendor;return t?l.default.createElement("div",{className:"compact-vendor-token"},t.integration&&t.integration.vendor_id&&t.integration.vendor_id+" - ",t.name,t.full_address&&l.default.createElement("span",null,l.default.createElement("br",null),t.full_address)):null};o.propTypes={vendor:n.default.object},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.title,a=e.description;return l.default.createElement("div",{className:"token role-token"},l.default.createElement("strong",null,t),l.default.createElement("br",null),a)};o.propTypes={description:n.default.string,title:n.default.string},t.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(688)),r=s(a(689)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(798));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.sortable_list",component:r.default,reducer:l.default,actions:o})},,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=u(a(799)),r=u(a(800)),o=i(a(813)),s=i(a(814));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,n.Factory)({namespace:"reframe.filters",component:r.default,reducer:l.default,actions:o,selectors:s});t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(804)),r=s(a(805)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(810));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.search",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.default=function(e){var t=e.value;return n.default.createElement("div",{className:"token"},t)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(930)),r=u(a(931)),o=i(a(1065)),s=i(a(1066));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.comments",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(932)),r=s(a(933)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1050));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.composer",component:r.default,reducer:l.default,actions:o})},,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1025)),r=s(a(1026)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1027));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.authorized",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("span",{className:this._getClass()},"foo",this._getCodePoint())}},{key:"_getClass",value:function(){var e=this.props,t=e.unicode,a=e.vendor,n=["emoji"];return a&&n.push("emoji-"+a),t&&n.push("emoji-"+t),n.join(" ")}},{key:"_getCodePoint",value:function(){return this.props.unicode.split("-").map(function(e){return String.fromCodePoint("0x"+e)}).join("")}}]),t}(i.default.Component);d.propTypes={unicode:s.default.string,vendor:s.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.asset,t=this._getViewer(e);return e.status&&"processed"!==e.status?u.default.createElement("div",{className:this._getClass()},u.default.createElement("div",{className:"maha-asset-viewer-body"},u.default.createElement(s.Message,this._getProcesssing()))):t?u.default.createElement("div",{className:this._getClass()},u.default.createElement("div",{className:"maha-asset-viewer-body"},u.default.createElement("iframe",{allowFullScreen:!0,frameBorder:"0",src:t}))):u.default.createElement("div",{className:this._getClass()},u.default.createElement("div",{className:"maha-asset-viewer-body"},u.default.createElement(s.Message,this._getMessage())))}},{key:"_getClass",value:function(){var e=this._getType(),t=["maha-asset-viewer"];return t.push(e),t.join(" ")}},{key:"_getProcesssing",value:function(){return{icon:"circle-o-notch fa-spin",title:"Preview unavailable",text:"We're currently processing this item. Please check back later."}}},{key:"_getMessage",value:function(){var e=this.props.asset;return{icon:this._getIcon(),text:e.file_name,button:{label:"Download File",handler:function(){}}}}},{key:"_getIcon",value:function(e){var t=this._getType();return"image"===t?"picture-o":"audio"===t?"volume-up":"video"===t?"video-camera":"pdf"===t?"file-pdf-o":"excel"===t?"file-excel-o":"word"===t?"file-word-o":"powerpoint"===t?"file-powerpoint-o":"file-text-o"}},{key:"_getHost",value:function(){return[void 0,"http://dev.cdn.mahaplatform.com"].reduce(function(e,t){return e||(d.default.isEmpty(t)?null:t)},null)||""}},{key:"_getViewer",value:function(){var e=this.props.asset,t=this._getHost(),a=encodeURIComponent(t+"/assets/"+e.id+"/"+e.file_name),n=this._getType();return"pdf"===n?"/admin/doc.html?file="+a:"word"===n?"/admin/doc.html?file="+a:"powerpoint"===n?"/admin/doc.html?file="+a:"excel"===n?"/admin/doc.html?file="+a:"audio"===n?"/admin/audio.html?file="+a:"video"===n?"/admin/video.html?file="+a:"image"===n?"/admin/image.html?file="+a:"html"===n?t+e.path:null}},{key:"_getType",value:function(){var e=this.props.asset.content_type;return e.match(/image/)?"image":e.match(/audio/)?"audio":e.match(/video/)?"video":e.match(/pdf/)?"pdf":e.match(/excel/)?"excel":e.match(/spreadsheetml/)?"excel":e.match(/msword/)?"word":e.match(/wordprocessingml/)?"word":e.match(/powerpoint/)?"powerpoint":e.match(/presentationml/)?"powerpoint":e.match(/html/)?"html":void 0}}]),t}(u.default.Component);f.propTypes={asset:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(10)),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.score,a=Math.round(2*t)/2,l=Math.floor(a),o=2*a%2,s=5-l-o;return r.default.createElement("div",{className:"maha-review-token"},[].concat((0,n.default)(Array(l))).map(function(e,t){return r.default.createElement("i",{className:"fa fa-star",key:"review_full_"+t})}),o>0&&r.default.createElement("i",{className:"fa fa-star-half-o"}),[].concat((0,n.default)(Array(s))).map(function(e,t){return r.default.createElement("i",{className:"fa fa-star-o",key:"review_empty_"+t})}))};s.propTypes={score:l.default.number},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1154)),r=s(a(1155)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1158));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.help",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=a(6),i=m(a(493)),u=m(a(1)),d=m(a(1252)),c=m(a(8)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={show:!1},l._handleShow=l._handleShow.bind(l),l._handleHideActions=l._handleHideActions.bind(l),l._handleQuoteMessage=l._handleQuoteMessage.bind(l),l._handleShowActions=l._handleShowActions.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.context.admin,a=this.state.show,n=this.props,l=n.actions,r=n.created_at,o=n.full,u=n.quoted_message,m=n.receipts,p=n.type,h=n.user;return f.default.createElement("div",this._getMessage(),f.default.createElement("div",{className:"maha-message-avatar"},o&&f.default.createElement(s.Avatar,{user:h,width:50})),f.default.createElement("div",{className:"maha-message-content"},o&&f.default.createElement("div",{className:"maha-message-author"},f.default.createElement("div",{className:"maha-message-name"},h.full_name),f.default.createElement("div",{className:"maha-message-timestamp",onClick:this._handleShow},(0,c.default)(r).format("h:mm A"))),u&&f.default.createElement(i.default,{message:u}),f.default.createElement("div",{className:"maha-message-text"},f.default.createElement(s.RichText,this._getRichtext())),f.default.createElement(s.Reactions,this._getReactions()),f.default.createElement(s.Starred,this._getStarred())),l&&a&&"message"===p&&f.default.createElement(d.default,this._getActions()),m&&f.default.createElement("div",{className:"maha-message-receipts"},m.filter(function(e){return e.id!==t.user.id}).map(function(t){return f.default.createElement("div",{className:"maha-message-receipt",key:"receipt_"+t.id},f.default.createElement(s.Avatar,e._getReceipt(t)))})))}},{key:"_getMessage",value:function(){return{className:this._getClass(),onMouseEnter:this._handleShowActions,onMouseLeave:this._handleHideActions}}},{key:"_getClass",value:function(){var e=this.props,t=e.full,a=e.inline,n=["maha-message",e.type];return t&&n.push("full"),a&&n.push("inline"),n.join(" ")}},{key:"_getRichtext",value:function(){var e=this.props;return{attachments:e.attachments,text:e.text}}},{key:"_getReactions",value:function(){var e=this.props;return{id:e.id,reactions:e.reactions,table:"chat_messages"}}},{key:"_getStarred",value:function(){var e=this.props;return{id:e.id,is_starred:e.is_starred,table:"chat_messages"}}},{key:"_getReceipt",value:function(e){return{user:e,title:"Seen by "+e.full_name+" on "+(0,c.default)(e.viewed_at).format("dddd")+" at "+(0,c.default)(e.viewed_at).format("h:mma"),width:16,presence:!1}}},{key:"_getActions",value:function(){var e=this.props;return{channel:e.channel,id:e.id,is_starred:e.is_starred,likers:e.likers,reactions:e.reactions,user:e.user,onQuoteMessage:this._handleQuoteMessage}}},{key:"_handleShow",value:function(){this.props.onShow()}},{key:"_handleHideActions",value:function(){this.setState({show:!1})}},{key:"_handleShowActions",value:function(){this.setState({show:!0})}},{key:"_handleQuoteMessage",value:function(){this.props.onQuoteMessage()}}]),t}(f.default.Component);p.contextTypes={admin:u.default.object,confirm:u.default.object},p.propTypes={actions:u.default.bool,attachments:u.default.array,channel:u.default.object,created_at:u.default.string,full:u.default.bool,inline:u.default.bool,is_starred:u.default.bool,quoted_message:u.default.object,reactions:u.default.array,receipts:u.default.array,text:u.default.string,user:u.default.object,onQuoteMessage:u.default.func,onShow:u.default.func},p.defaultProps={inline:!0,actions:!0},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Channel",method:"patch",endpoint:"/api/admin/chat/channels/"+e+"/edit",action:"/api/admin/chat/channels/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Description",name:"description",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.props.onCancel()}},{key:"_handleSuccess",value:function(e){this.props.onSuccess(e)}}]),t}(s.default.Component);c.propTypes={id:i.default.number,onCancel:i.default.func,onSuccess:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=a(6),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1274)),d=m(a(1)),c=m(a(1275)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleShowMessage=n._handleShowMessage.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"chat-starred"},f.default.createElement(i.Infinite,this._getInfinite()))}},{key:"_getInfinite",value:function(){var e=this;return{empty:function(){return f.default.createElement(i.Message,e._getEmpty())},endpoint:"/api/admin/chat/starred",layout:function(t){return f.default.createElement(c.default,(0,n.default)({},t,{onShowMessage:e._handleShowMessage}))},selectors:u}}},{key:"_getEmpty",value:function(){return{icon:"star",title:"No Starred Messages",text:"You have not starred any messages"}}},{key:"_handleShowMessage",value:function(e){this.props.onShowMessage(e)}}]),t}(f.default.Component);p.contextTypes={},p.propTypes={messages:d.default.array,onShowMessage:d.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=m(a(1279)),i=m(a(1)),u=a(6),d=m(a(500)),c=m(a(496)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleArchive=l._handleArchive.bind(l),l._handleDelete=l._handleDelete.bind(l),l._handleLeave=l._handleLeave.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.channel,a=e.showHeader;return t?f.default.createElement("div",{className:this._getClass()},a&&f.default.createElement(d.default,this._getHeader()),f.default.createElement("div",{className:"chat-info-body"},f.default.createElement(c.default,this._getTasks()),f.default.createElement(u.List,this._getList()))):null}},{key:"_getClass",value:function(){var e=["chat-info"];return this.props.channel.is_archived&&e.push("archived"),e.join(" ")}},{key:"_getHeader",value:function(){return this.props.channel}},{key:"_getTasks",value:function(){var e=this.props,t=e.channel,a=e.id,n=e.onEdit,l=e.onSubscriptions;return{channel:t,id:a,title:!1,onArchive:this._handleArchive,onDelete:this._handleDelete,onEdit:n,onLeave:this._handleLeave,onSubscriptions:l}}},{key:"_getList",value:function(){var e=this.props.channel;return{items:[{component:f.default.createElement(s.default,{channel:e})}]}}},{key:"_handleArchive",value:function(e){var t=this.context,a=t.network,n=t.confirm,l=e.is_archived?"activate":"archive";n.open("Are you sure you want to "+l+" this channel?",function(){return a.request({method:"PATCH",endpoint:"/api/admin/chat/channels/"+e.id+"/archive"})})}},{key:"_handleDelete",value:function(e){var t=this.context,a=t.network;t.confirm.open("Are you sure you want to permanently delete this channel?",function(){return a.request({method:"DELETE",endpoint:"/api/admin/chat/channels/"+e.id})})}},{key:"_handleLeave",value:function(e){var t=this.context,a=t.network;t.confirm.open("Are you sure you want to leave this channel?",function(){return a.request({method:"PATCH",endpoint:"/api/admin/chat/channels/"+e.id+"/leave"})})}}]),t}(f.default.Component);p.contextTypes={admin:i.default.object,confirm:i.default.object,network:i.default.object},p.propTypes={channel:i.default.object,id:i.default.number,showHeader:i.default.bool,onEdit:i.default.func,onSubscriptions:i.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1332)),r=u(a(1333)),o=i(a(1334)),s=i(a(1335));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"expenses.memberships",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1343)),r=s(a(1344)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1345));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"team.access",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1353)),r=u(a(1354)),o=i(a(1356)),s=i(a(1357));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.search",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=t.channels=void 0;var n=i(a(14)),l=i(a(10)),r=i(a(7)),o=a(12),s=i(a(9));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.channels=(0,o.createSelector)(function(e,t){return e.chat.root.active},function(e,t){return e.chat.root.channels||[]},function(e,t){return e.chat.root.typing},function(e,t){return e.chat.root.messages},function(e,t){return e.chat.root.unread},function(e,t){return e.maha.stars.stars.chat_channels||{}},function(e,t,a,o,i,u){return t.map(function(t){return(0,r.default)({},t,{is_starred:void 0!==u[t.id]?u[t.id]:t.is_starred,typing:s.default.find(a,{channel_id:t.id}),subscriptions:t.subscriptions.map(function(n){return(0,r.default)({},n,{active:s.default.findIndex(e,{channel_id:t.id,user_id:n.id})>=0,typing:s.default.findIndex(a,{channel_id:t.id,user_id:n.id})>=0})}),last_viewed:t.subscriptions.reduce(function(e,o){var i;return(0,r.default)({},e,(i={},(0,n.default)(i,o.last_message.id,[].concat((0,l.default)(e[o.last_message.id]||[]),[{id:o.id,full_name:o.full_name,photo:o.photo,viewed_at:o.last_message.viewed_at}])),(0,n.default)(i,"typing",s.default.findIndex(a,{channel_id:t.id,user_id:o.id})>=0),i))},{}),unread:i[t.id]||0})}).sort(function(e,t){return e.last_message_at<t.last_message_at?1:e.last_message_at>t.last_message_at?-1:0})});t.channel=(0,o.createSelector)(u,function(e,t){return parseInt(t.params.id)},function(e,t){return s.default.find(e,{id:t})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeToken=t.CompactTypeToken=void 0;var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}(t.CompactTypeToken=function(e){var t=e.value;return l.default.createElement("div",{className:"compact-type-token"},l.default.createElement("div",{className:"type-token-badge "+t},"advance"===t&&l.default.createElement("i",{className:"fa fa-fw fa-arrow-right"}),"check"===t&&l.default.createElement("i",{className:"fa fa-fw fa-check"}),"expense"===t&&l.default.createElement("i",{className:"fa fa-fw fa-credit-card"}),"reimbursement"===t&&l.default.createElement("i",{className:"fa fa-fw fa-dollar"}),"trip"===t&&l.default.createElement("i",{className:"fa fa-fw fa-car"}),"import"===t&&l.default.createElement("i",{className:"fa fa-fw fa-table"})))}).propTypes={value:n.default.string},(t.TypeToken=function(e){var t=e.value;return l.default.createElement("div",{className:"type-token"},l.default.createElement("div",{className:"type-token-badge "+t},"Cash Advance"===t&&l.default.createElement("i",{className:"fa fa-fw fa-arrow-right"}),"Check Request"===t&&l.default.createElement("i",{className:"fa fa-fw fa-check"}),"Expense"===t&&l.default.createElement("i",{className:"fa fa-fw fa-credit-card"}),"Reimbursement"===t&&l.default.createElement("i",{className:"fa fa-fw fa-dollar"}),"Mileage"===t&&l.default.createElement("i",{className:"fa fa-fw fa-car"})),t)}).propTypes={value:n.default.string}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(127)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.text;return r.default.createElement("div",{className:"token"},r.default.createElement(l.default,{status:t}))};s.propTypes={text:n.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(14)),l=i(a(10)),r=i(a(7)),o=i(a(9)),s=i(a(56));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,a,i,u,d,c){return{text:o.default.upperFirst(i)+" "+(0,s.default)("item",t.selected.length,!0),color:a,handler:function(){return 0===t.selected.length?e.alert.open("Please select one or more items"):t.selected.reduce(function(e,t){return!!e&&t.status===d},!0)?void e.confirm.open("Are you sure you want to "+i+" these "+(0,s.default)("item",t.selected.length,!0)+"?",function(){e.network.request({method:"PATCH",endpoint:c,body:t.selected.reduce(function(e,t){return(0,r.default)({},e,(0,n.default)({},t.type+"_ids",[].concat((0,l.default)(e[t.type+"_ids"]||[]),[t.item_id])))},{}),onFailure:function(a){return e.flash.set("error","Unable to "+i+" these "+(0,s.default)("item",t.selected.length,!0))},onSuccess:function(a){return e.flash.set("success","You successfully "+u+" "+(0,s.default)("item",t.selected.length,!0))}})}):e.alert.open("You can only "+i+" "+d+" items")}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(7)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.value,a=e.preview;return d.default.createElement(m,(0,s.default)({},t,{preview:a}))};f.propTypes={value:u.default.object,preview:u.default.bool};var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.asset_id,a=e.file_name,n=e.has_preview;if(e.preview){var l=n?"/assets/"+t+"/preview.jpg":"/assets/"+t+"/"+a;return d.default.createElement("div",{className:"receipt-thumbnail",onClick:this._handleImage.bind(this,l)},d.default.createElement(i.Image,{src:l,title:a,transforms:{h:360}})," :")}return d.default.createElement(i.AssetToken,this._getAsset())}},{key:"_getAsset",value:function(){var e=this.props,t=e.asset_id,a=e.file_name,n=e.file_size;return{id:t,original_file_name:e.original_file_name,file_name:a,file_size:n,content_type:e.content_type,icon:e.icon,source:e.source,source_url:e.source_url}}},{key:"_handleImage",value:function(e){var t=this.props.id;this.context.router.push("/admin/expenses/receipts/"+t)}}]),t}(d.default.Component);m.contextTypes={admin:u.default.object,router:u.default.object},m.propTypes={asset_id:u.default.number,content_type:u.default.string,file_name:u.default.string,file_size:u.default.number,icon:u.default.string,id:u.default.number,has_preview:u.default.bool,original_file_name:u.default.string,preview:u.default.bool,source:u.default.string,source_url:u.default.string},m.defaultProps={preview:!0},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.title;return l.default.createElement("div",{className:"token group-token"},t)};o.propTypes={title:n.default.string},t.default=o},,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(589)),r=s(a(590)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(594));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.notifications",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(25)),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.context,n=t.description,l=t.object,r=t.subject_text,o=t.object_text,s=n;s=(s=(s=s.replace(o,'<span class="maha-feed-item-object">'+o+"</span>")).replace(l.owner_full_name+"'s",'<span class="maha-feed-item-object">'+l.owner_full_name+"'s</span>")).replace(r,'<span class="maha-feed-item-subject">'+r+"</span>");var u=["maha-feed-item",t.app.color];"feed"===a&&!1===t.is_visited&&u.push("unread");var c=t.app.color||"blue",f=t.app.icon||"user";return d.default.createElement("a",{className:u.join(" "),onClick:this._handleClick},d.default.createElement("div",{className:"maha-feed-item-avatar"},d.default.createElement(i.default,{user:t.subject,width:"40"})),d.default.createElement("div",{className:"maha-feed-item-details"},d.default.createElement("div",{className:"maha-feed-item-story"},d.default.createElement("span",{dangerouslySetInnerHTML:{__html:s}})),d.default.createElement("div",{className:"maha-feed-item-timestamp"},d.default.createElement("div",{className:"maha-feed-item-app-icon "+c},d.default.createElement("i",{className:"fa fa-fw fa-"+f})),this._formatRelativeTime(t.created_at))),d.default.createElement("div",{className:"maha-feed-item-icon"},d.default.createElement("i",{className:"chevron right icon"})))}},{key:"_formatRelativeTime",value:function(e){var t=(0,u.default)(),a=(0,u.default)(e),n=t.diff(a,"minutes");return 0===n?"a few seconds ago":1===n?"1 minute ago":n<60?n+" minutes ago":a.format("hh:mm A")}},{key:"_handleClick",value:function(){this.props.onClick()}},{key:"_getDescription",value:function(e,t,a){var n=a.type?" "+a.type:"",l="",r=a.text;return"user"===a.type&&a.id===e.id?r="yourself":"user"===a.type&&a.id===t.id?r="themself":l=null===a.owner_id?"the"+n+" ":a.owner_id!==e.id||t.id===a.owner_id&&a.id?a.owner_id!==e.id&&t.id!==a.owner_id?'<span class="maha-feed-item-object">'+a.owner_full_name+"'s</span>"+n+" ":a.owner_id!==e.id&&a.owner_id===t.id?"their"+n+" ":"the"+n+" ":"your"+n+" ",l+'<span class="maha-feed-item-object">'+r+"</span>"}}]),t}(d.default.Component);f.propTypes={context:s.default.string,item:s.default.object,user:s.default.object,onClick:s.default.func},t.default=f},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(20),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this._getStatus();return u.default.createElement("div",{className:"presence-token"},e&&u.default.createElement("div",{className:"presence-token-dot "+e}))}},{key:"_getStatus",value:function(){var e=this.props.id,t=d.default.find(this.props.presence,{user_id:e});return t?t.status:null}}]),t}(u.default.Component);f.contextTypes={admin:i.default.object},f.propTypes={id:i.default.number,presence:i.default.array};t.default=(0,s.connect)(function(e,t){return{presence:e.maha.admin.presence}})(f)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=c(a(68));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.buttons;return i.default.createElement("div",{className:"reframe-buttons"},e&&e.map(function(t,a){return i.default.createElement("div",{className:"reframe-buttons-item",key:"button_item_"+a},i.default.createElement(d.default,(0,n.default)({},e[a],{key:"button_"+a})))}))}}]),t}(i.default.Component);f.propTypes={buttons:u.default.array},t.default=f},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(31)),u=f(a(1)),d=f(a(9)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleResize=d.default.debounce(n._resizeColumns,100),n.state={widths:[]},r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.columns,l=t.link,r=t.records,o=t.recordTasks,s=t.selectable,u=t.selected,f=t.selectAll,m=t.sort;return c.default.createElement("div",{className:"reframe-table"},c.default.createElement("table",{className:"reframe-table-pinned"},c.default.createElement("thead",null,c.default.createElement("tr",null,s&&c.default.createElement("td",{className:"reframe-table-check-cell mobile",onClick:this._handleSelectAll.bind(this)},f?c.default.createElement("i",{className:"fa fa-fw fa-check-circle"}):c.default.createElement("i",{className:"fa fa-fw fa-circle-o"})),a.filter(function(e){return!1!==e.visible}).map(function(t,a){return c.default.createElement("td",{key:"header-"+a,className:e._getHeaderClass(t),style:e._getHeadStyle(a+(s?1:0)),onClick:e._handleSort.bind(e,t)},t.label,m&&(t.key===m.key||t.sort===m.key)&&("asc"===m.order?c.default.createElement("i",{className:"fa fa-fw fa-chevron-up"}):c.default.createElement("i",{className:"fa fa-fw fa-chevron-down"})))}),(l||o)&&c.default.createElement("td",{className:"reframe-table-head-cell mobile collapsing next",style:this._getHeadStyle()})))),c.default.createElement("table",{className:"reframe-table-data"},c.default.createElement("thead",null,c.default.createElement("tr",{ref:function(t){return e.head=t}},s&&c.default.createElement("td",{className:"reframe-table-check-cell mobile",onClick:this._handleSelectAll.bind(this)},f?c.default.createElement("i",{className:"fa fa-fw fa-check-circle"}):c.default.createElement("i",{className:"fa fa-fw fa-circle-o"})),a.filter(function(e){return!1!==e.visible}).map(function(t,a){return c.default.createElement("td",{key:"header-"+a,className:e._getHeaderClass(t),style:e._getHeadStyle(a+(s?1:0)),onClick:e._handleSort.bind(e,t)},t.label,m&&(t.key===m.key||t.sort===m.key)&&("asc"===m.order?c.default.createElement("i",{className:"fa fa-fw fa-chevron-up"}):c.default.createElement("i",{className:"fa fa-fw fa-chevron-down"})))}),(l||o)&&c.default.createElement("td",{className:"reframe-table-head-cell mobile collapsing next",style:this._getHeadStyle()}))),c.default.createElement("tbody",null,r.map(function(t,r){return c.default.createElement("tr",{key:"record_"+r,className:e._getBodyRowClass(t)},s&&c.default.createElement("td",{key:"cell_"+r+"_select",className:"reframe-table-check-cell mobile",onClick:e._handleSelect.bind(e,t.id)},d.default.includes(u,t.id)?c.default.createElement("i",{className:"fa fa-fw fa-check-circle"}):c.default.createElement("i",{className:"fa fa-fw fa-circle-o"})),a.filter(function(e){return!1!==e.visible}).map(function(a,l){return c.default.createElement("td",{key:"cell_"+r+"_"+l,className:e._getBodyClass(a),onClick:e._handleClick.bind(e,t,r)},c.default.createElement(i.default,(0,n.default)({},t,{format:a.format,value:d.default.get(t,a.key)})))}),o&&c.default.createElement("td",{className:"icon mobile collapsing centered",onClick:e._handleTasks.bind(e,t.id)},c.default.createElement("i",{className:"fa fa-fw fa-ellipsis-v"})),l&&c.default.createElement("td",{className:"reframe-table-body-cell icon mobile collapsing centered"},c.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}))))}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e._resizeColumns()},250),window.addEventListener("resize",this._handleResize.bind(this))}},{key:"componentDidUpdate",value:function(e){var t=this.props.columns;d.default.isEqual(e.columns,t)||this._resizeColumns()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize.bind(this))}},{key:"_getHeaderClass",value:function(e){var t=["padded"];return!0===e.primary&&t.push("mobile"),"check"!==e.format&&!0!==e.collapsing||t.push("collapsing"),t.join(" ")}},{key:"_getBodyClass",value:function(e){var t=[];return!0===e.primary&&t.push("mobile"),"check"!==e.format&&!0!==e.collapsing||t.push("collapsing"),"check"!==e.format&&!0!==e.centered||t.push("centered"),"currency"===e.format&&t.push("right"),d.default.isFunction(e.format)||d.default.isElement(e.format)||t.push("padded"),t.join(" ")}},{key:"_getBodyRowClass",value:function(e){var t=this.props,a=t.link,n=t.modal,l=t.handler,r=t.rowClass,o=[];return(a||n||l)&&o.push("reframe-table-link"),r&&d.default.isString(r)&&o.push(r),r&&d.default.isFunction(r)&&o.push(r(e)),o.join(" ")}},{key:"_getHeadStyle",value:function(e){var t=this.state.widths,a=void 0!==e?t[e]:t[t.length-1];return a?{width:a+"px"}:{}}},{key:"_resizeColumns",value:function(){if(this.head){var e=Array.from(this.head.childNodes).map(function(e,t){return e.offsetWidth});this.setState({widths:e})}}},{key:"_handleClick",value:function(e,t){var a=this.props,n=a.link,l=a.modal,r=a.handler;return n?this._handleLink(e,t):l?this._handleModal(e,t):r?this._handleHandler(e,t):void 0}},{key:"_handleSelect",value:function(e){this.props.onSelect(e)}},{key:"_handleSelectAll",value:function(){this.props.onSelectAll()}},{key:"_handleLink",value:function(e,t){var a=(0,this.props.link)(e);this.context.router.push(a)}},{key:"_handleModal",value:function(e,t){var a=this;this.context.model.open(function(){return c.default.createElement(a.props.modal,{record:e,index:t})})}},{key:"_handleHandler",value:function(e,t){this.props.handler(e,t)}},{key:"_handleSort",value:function(e){var t=e.sort||e.key;this.props.onSort(t)}},{key:"_handleTasks",value:function(e){var t=this.props.recordTasks.map(function(t){return(0,n.default)({},t,{handler:t.handler?function(){return t.handler(e)}:null,modal:t.modal?function(){return c.default.createElement(t.modal,{id:e})}:null,request:t.request?t.request(e):null})});this.context.tasks.open(t)}}]),t}(c.default.Component);m.contextTypes={modal:u.default.object,router:u.default.object,tasks:u.default.object},m.propTypes={columns:u.default.array,handler:u.default.func,link:u.default.func,modal:u.default.any,records:u.default.array,recordTasks:u.default.array,rowClass:u.default.func,selectable:u.default.bool,selected:u.default.array,selectAll:u.default.bool,sort:u.default.object,onSelect:u.default.func,onSelectAll:u.default.func,onSort:u.default.func},m.defaultProps={onSelect:function(e){},onSelectAll:function(){}},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(21),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={signpost:!1},n.headers=[],n.notified=!1,r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.signpost;return d.default.createElement("div",{className:"reframe-scrollpane"},d.default.createElement("div",{className:"reframe-scrollpane-inner",ref:function(t){return e.scrollpane=t}},t),d.default.createElement(i.CSSTransition,{in:a,classNames:"popin",timeout:250,mountOnEnter:!0,unmountOnExit:!0},d.default.createElement("div",{className:"chat-signpost-bottom",onClick:this._handleScrollToTop.bind(this)},d.default.createElement("i",{className:"fa fa-chevron-up"}))))}},{key:"componentDidMount",value:function(){this.fixed=-1,this.headers=this._getHeaders(),this.listener=c.default.throttle(this._scrollListener.bind(this),100),this._attachScrollListener()}},{key:"componentDidUpdate",value:function(){this.notified=!1}},{key:"componentWillUnmount",value:function(){this._detachScrollListener()}},{key:"_attachScrollListener",value:function(){this.scrollpane.addEventListener("scroll",this.listener,!0),this.scrollpane.addEventListener("resize",this.listener,!0),this._scrollListener()}},{key:"_detachScrollListener",value:function(){this.scrollpane.removeEventListener("scroll",this.listener,!0),this.scrollpane.removeEventListener("resize",this.listener,!0)}},{key:"_getHeaders",value:function(){var e=this;return Array.from(this.scrollpane.getElementsByClassName("reframe-scrollpane-header")).reduce(function(t,a){var l=parseInt(a.getBoundingClientRect().top-e.scrollpane.getBoundingClientRect().top);return[].concat((0,n.default)(t),[{node:a,top:l,fixed:!1}])},[])}},{key:"_scrollListener",value:function(){var e=this,t=this.state.signpost,a=this.props,n=a.notificationPercent,l=a.onReachBottom,r=(this.scrollpane.scrollHeight-(this.scrollpane.scrollTop+this.scrollpane.offsetHeight))/this.scrollpane.scrollHeight*100,o=this.scrollpane.scrollTop>100;t!==o&&this.setState({signpost:o}),!this.notified&&r<=n&&(l&&l(),this.notified=!0),this.headers.length>0&&this.headers.map(function(t,a){var n=t.node;!t.fixed&&a>e.fixed&&e.scrollpane.scrollTop>=t.top?(e.scrollpane.style.paddingTop=n.offsetHeight+"px",n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.right=0,e.fixed=a,e.headers[a].fixed=!0):t.fixed&&a<=e.fixed&&e.scrollpane.scrollTop<t.top&&(0===a&&e.scrollpane.removeAttribute("style"),n.removeAttribute("style"),e.headers[a].fixed=!1,e.fixed=e.fixed-1)})}},{key:"_handleScrollToTop",value:function(){this.scrollpane.scrollTop=0}}]),t}(d.default.Component);m.propTypes={children:u.default.any,notificationPercent:u.default.number,onReachBottom:u.default.func},m.defaultProps={notificationPercent:30,onReachBottom:null},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.label;return s.default.createElement("div",{className:"reframe-loader"},s.default.createElement("div",{className:"ui active inverted dimmer"},s.default.createElement("div",{className:"ui large text loader"},e)))}}]),t}(s.default.Component);d.propTypes={label:i.default.string},d.defaultProps={label:"Loading"},t.default=d},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(7)),r=f(a(2)),o=f(a(3)),s=f(a(4)),i=f(a(5)),u=f(a(0)),d=f(a(9)),c=f(a(31));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.format,n=t.options;return u.default.createElement("div",{className:"reframe-search-results"},n.map(function(t,n){return u.default.createElement("div",{key:"filter_"+n,className:"reframe-search-item",onClick:e._handleChoose.bind(e,t)},u.default.createElement("div",{className:e._getClasses()},u.default.createElement(c.default,(0,l.default)({},t.record,{format:a,value:t.text}))),u.default.createElement("div",{className:"reframe-search-item-icon"},e._getChecked(t)?u.default.createElement("i",{className:"fa fa-fw fa-check"}):null))}))}},{key:"_getClasses",value:function(){var e=["reframe-search-item-label"];return this.props.format||e.push("padded"),e.join(" ")}},{key:"_getChecked",value:function(e){var t=this.props,a=t.name,n=t.multiple,l=t.results;return n?l[a]&&d.default.find(l[a],{key:e.value}):l[a]&&l[a].key==e.value}},{key:"_handleChoose",value:function(e){var t=e.value,a=e.text,l=e.token,r=this.props,o=r.name,s=r.multiple,i=r.results,u=r.onUpdate,c=null;s?(c=i[o]||[],c=d.default.find(c,{key:t})?d.default.filter(c,function(e){return e.key!==t}):[].concat((0,n.default)(c),[{key:t,value:l||a}])):i[o]&&i[o].key===t||(c={key:t,value:l||a}),u(o,c)}}]),t}(u.default.Component);t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(14)),i=f(a(7)),u=f(a(0)),d=f(a(9)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(397));function f(e){return e&&e.__esModule?e:{default:e}}var m=Object.keys(c).reduce(function(e,t){return(0,i.default)({},e,(0,s.default)({},t.toLowerCase(),c[t]))},{}),p=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"reframe-control"},u.default.createElement(this._getElement(),this.props))}},{key:"_getElement",value:function(){var e=this.props.type;return d.default.isString(e)?d.default.get(m,e):e}}]),t}(u.default.Component);p.defaultProps={type:"textfield",options:[]},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFileToken=t.PlainFileToken=t.ToggleList=t.TimeField=t.TextField=t.TextArea=t.Text=t.RadioGroup=t.Password=t.MoneyField=t.Lookup2=t.Lookup=t.FileField=t.Hidden=t.Dropdown=t.DateField=t.ColorField=t.CheckboxGroup=t.Checkbox=void 0;var n=k(a(818)),l=k(a(819)),r=k(a(820)),o=k(a(824)),s=k(a(829)),i=k(a(830)),u=k(a(831)),d=k(a(404)),c=k(a(852)),f=k(a(861)),m=k(a(862)),p=k(a(863)),h=k(a(864)),_=k(a(865)),v=k(a(408)),y=k(a(866)),g=k(a(407)),b=k(a(403)),E=k(a(402));function k(e){return e&&e.__esModule?e:{default:e}}t.Checkbox=n.default,t.CheckboxGroup=l.default,t.ColorField=r.default,t.DateField=o.default,t.Dropdown=s.default,t.Hidden=i.default,t.FileField=u.default,t.Lookup=d.default,t.Lookup2=c.default,t.MoneyField=f.default,t.Password=m.default,t.RadioGroup=p.default,t.Text=h.default,t.TextArea=_.default,t.TextField=v.default,t.TimeField=y.default,t.ToggleList=g.default,t.PlainFileToken=b.default,t.ImageFileToken=E.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s={items:[],selected:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"SET_ITEMS":return(0,l.default)({},e,{items:t.items});case"FETCH_ITEMS_REQUEST":return(0,l.default)({},e,{status:"loading"});case"FETCH_ITEMS_FAILURE":return(0,l.default)({},e,{status:"success"});case"FETCH_ITEMS_SUCCESS":return(0,l.default)({},e,{items:t.result.data,status:"success"});case"SET_SELECTED":return(0,l.default)({},e,{selected:t.values});case"CHOOSE":return(0,l.default)({},e,{selected:r.default.includes(e.selected,t.value)?t.multiple?r.default.without(e.selected,t.value):[].concat((0,n.default)(e.selected)):t.multiple?[].concat((0,n.default)(e.selected),[t.value]):[t.value]});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=m(a(170)),u=m(a(31)),d=m(a(1)),c=m(a(0)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.items,l=t.format,r=t.tabIndex,o=t.text;return c.default.createElement("div",{className:"reframe-select ui field",tabIndex:r},a.map(function(t,a){return c.default.createElement("div",(0,n.default)({key:"option_"+a},e._getItem(t)),c.default.createElement("div",{className:"reframe-select-option-icon"},c.default.createElement("i",{className:"fa fa-fw fa-"+e._getItemIcon(t)})),c.default.createElement("div",{className:"reframe-select-option-label"},c.default.createElement(u.default,(0,n.default)({},t,{format:l,value:f.default.get(t,o)}))))}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.endpoint,n=e.options,l=e.onReady,r=e.onFetchItems,o=e.onSetItems;if(t&&this._handleSetSelected(t),a)return r(a);n&&(o(n),l())}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.multiple,n=t.selected,l=t.status,r=t.onChange,o=t.onReady;l!==e.status&&"success"===l&&o(),n!==e.selected&&r(a?n:n[0])}},{key:"_getItem",value:function(e){return{className:this._getItemClass(e),onClick:this._handleClick.bind(this,e)}}},{key:"_getSelected",value:function(e){var t=this.props.selected,a=f.default.get(e,this.props.value);return f.default.includes(t,a)}},{key:"_getItemClass",value:function(e){var t=["reframe-select-option"];return this._getSelected(e)&&t.push("selected"),t.join(" ")}},{key:"_getItemIcon",value:function(e){var t=this.props.multiple,a=this._getSelected(e);return t&&a?"check-square":t&&!a?"square-o":!t&&a?"check-circle":t||a?void 0:"circle-o"}},{key:"_handleSetSelected",value:function(e){(0,this.props.onSetSelected)(f.default.isArray(e)?e:[e])}},{key:"_handleClick",value:function(e){var t=this.props,a=t.multiple;(0,t.onChoose)(a,f.default.get(e,this.props.value))}}]),t}(c.default.Component);return t.propTypes={defaultValue:d.default.any,multiple:d.default.bool,endpoint:d.default.string,format:d.default.any,items:d.default.array,options:d.default.array,selected:d.default.array,status:d.default.string,tabIndex:d.default.number,text:d.default.string,value:d.default.string,onChange:d.default.func,onChoose:d.default.func,onReady:d.default.func,onFetchItems:d.default.func,onSetSelected:d.default.func,onSetItems:d.default.func},t.defaultProps={format:i.default,multiple:e,tabIndex:0,value:"value",text:"text",onBusy:function(){},onChange:function(){},onReady:function(){},onSubmit:function(e){}},t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchItems=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,request:"FETCH_ITEMS_REQUEST",success:"FETCH_ITEMS_SUCCESS",failure:"FETCH_ITEMS_FAILURE"}},t.setItems=function(e){return{type:"SET_ITEMS",items:e}},t.setSelected=function(e){return{type:"SET_SELECTED",values:e}},t.choose=function(e,t){return{type:"CHOOSE",multiple:e,value:t}}},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.file,a=e.preview;return i.default.createElement("div",{className:"reframe-filefield-preview-image"},a&&i.default.createElement("div",{className:"reframe-filefield-preview-image-asset",style:{backgroundImage:"url('"+a+"')"}}),!a&&t&&i.default.createElement("img",{src:"/imagecache/fit=cover&w=300&h=300"+t.path,title:t.file_name}))}}]),t}(i.default.Component);d.propTypes={file:s.default.object,preview:s.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(835));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.file_name,a=e.file_size;return i.default.createElement("div",{className:"reframe-filefield-file-preview "+this._getExt(t)},i.default.createElement("div",{className:"reframe-filefield-file-preview-icon"},i.default.createElement("i",{className:"fa fa-fw fa-"+this._getIcon(t)})),i.default.createElement("div",{className:"reframe-filefield-file-preview-details"},i.default.createElement("div",{className:"reframe-filefield-file-preview-filename"},t),i.default.createElement("div",{className:"reframe-filefield-file-preview-filesize"},(0,u.default)(a))))}},{key:"_getExt",value:function(e){return e.split(".").pop().substr(0,3)}},{key:"_getIcon",value:function(e){var t=this._getExt(e);return"pdf"===t?"file-pdf-o":"xls"===t?"file-excel-o":"doc"===t?"file-word-o":"ppt"===t?"file-powerpoint-o":"file-text-o"}}]),t}(i.default.Component);c.propTypes={file_name:s.default.string,file_size:s.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(838)),r=s(a(839)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(851));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.lookup",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=u(a(843)),r=u(a(844)),o=i(a(847)),s=i(a(848));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.form",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=m(a(0)),u=m(a(1)),d=m(a(396)),c=m(a(846)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.include,a=e.instructions,n=e.label,l=e.show,r=e.type,o=this._getError();return t&&l?i.default.createElement("div",{className:this._getClass()},n&&i.default.createElement("label",null,n),a&&i.default.createElement("div",{className:"instructions"},a),"fields"===r?i.default.createElement(c.default,this._getFields()):i.default.createElement(d.default,this._getControl()),o&&i.default.createElement("div",{className:"error-message"},o)):null}},{key:"_getClass",value:function(){var e=this.props.required,t=this._getError(),a=["field"];return e&&a.push("required"),t&&a.push("error"),a.join(" ")}},{key:"_getError",value:function(){var e=this.props,t=e.errors,a=e.name;return t&&t[a]?t[a][0]:null}},{key:"_getFields",value:function(){var e=this.props,t=e.fields,a=e.onSubmit,n=e.onUpdateData;return{fields:t,onChange:this._handleUpdateData.bind(this),onSubmit:a,onUpdateData:n}}},{key:"_getControl",value:function(){var e=this.props,t=e.data,a=e.name,l=f.default.get(t,a);return(0,n.default)({},this.props,{defaultValue:l,onBusy:this._handleBusy.bind(this),onChange:this._handleUpdateData.bind(this),onReady:this._handleReady.bind(this)})}},{key:"_handleBusy",value:function(){this.props.onBusy(this.props.name)}},{key:"_handleReady",value:function(){this.props.onReady(this.props.name)}},{key:"_handleUpdateData",value:function(e){this.props.onUpdateData(this.props.name,e)}}]),t}(i.default.Component);p.propTypes={action:u.default.string,columns:u.default.array,data:u.default.object,endpoint:u.default.string,errors:u.default.object,fields:u.default.array,include:u.default.bool,instructions:u.default.string,label:u.default.string,name:u.default.string.isRequired,options:u.default.array,required:u.default.bool,tabIndex:u.default.number,type:u.default.oneOfType([u.default.string,u.default.func]).isRequired,show:u.default.bool,onBusy:u.default.func,onReady:u.default.func,onSubmit:u.default.func,onUpdateData:u.default.func},p.defaultProps={columns:[],data:{},errors:{},fields:[],include:!0,options:[],required:!1,show:!0,onBusy:function(){},onReady:function(){},onUpdateData:function(){}},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(856)),r=s(a(857)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(859));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.toggle_list",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){(0,n.default)(this,t);var a=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:u.default.toString(e.defaultValue)},a}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:this._getClass()},this.props.prefix&&i.default.createElement("div",{className:"ui label"},this.props.prefix),i.default.createElement("input",this._getControl()),this.props.suffix&&i.default.createElement("div",{className:"ui label"},this.props.suffix))}},{key:"componentDidMount",value:function(){this.props.onReady()}},{key:"componentDidUpdate",value:function(e){e.defaultValue!=this.props.defaultValue&&this.setValue(this.props.defaultValue)}},{key:"_getClass",value:function(){var e=this.props,t=e.prefix,a=e.suffix,n=["reframe-textfield","ui","fluid","input"];return t&&n.push("left labeled"),a&&n.push("right labeled"),n.join(" ")}},{key:"_getControl",value:function(){var e=this.props,t=e.autoComplete,a=e.disabled,n=e.placeholder,l=e.tabIndex,r=e.onBlur,o=e.onFocus,s=e.onKeyPress,i=e.onKeyDown;return{tabIndex:l,type:"text",disabled:a,value:this.state.value,autoComplete:t,placeholder:n,onChange:this._handleChange.bind(this),onBlur:r,onFocus:o,onKeyPress:s,onKeyUp:this._handleKeyUp.bind(this),onKeyDown:i}}},{key:"_handleChange",value:function(e){var t=this.props.sanitize(e.target.value);if(!this.props.validate(t))return e.preventDefault(),!1;this.setValue(t),this.props.onChange(t)}},{key:"_handleKeyUp",value:function(e){this.props.onKeyUp(this.state.value),13==e.which&&(e.preventDefault(),this.props.onSubmit())}},{key:"setValue",value:function(e){this.props.maxLength&&e.length>this.props.maxLength||this.setState({value:e})}}]),t}(i.default.Component);c.propTypes={autoComplete:s.default.string,defaultValue:s.default.string,disabled:s.default.bool,maxLength:s.default.number,placeholder:s.default.string,prefix:s.default.string,sanitize:s.default.func,suffix:s.default.string,tabIndex:s.default.number,trim:s.default.bool,validate:s.default.func,onBlur:s.default.func,onBusy:s.default.func,onChange:s.default.func,onFocus:s.default.func,onKeyPress:s.default.func,onKeyUp:s.default.func,onKeyDown:s.default.func,onReady:s.default.func,onSubmit:s.default.func},c.defaultProps={autoComplete:"off",defaultValue:"",disabled:!1,maxLength:null,placeholder:"",prefix:null,sanitize:function(e){return e},suffix:null,tabIndex:0,trim:!0,validate:function(e){return!0},onBlur:function(){},onBusy:function(){},onChange:function(){},onFocus:function(){},onKeyPress:function(){},onKeyUp:function(){},onKeyDown:function(){},onReady:function(){},onSubmit:function(){}},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(31)),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.format,l=t.options;return d.default.createElement("div",{className:"reframe-search-results"},l.map(function(t,l){return d.default.createElement("div",{key:"result_"+l,className:"reframe-search-item",onClick:e._handleChoose.bind(e,t)},d.default.createElement(i.default,(0,n.default)({},t.record,{format:a,value:t.text})))}))}},{key:"_getClasses",value:function(){var e=["reframe-search-item-label"];return this.props.format||e.push("padded"),e.join(" ")}},{key:"_handleChoose",value:function(e){this.props.onChoose(e.record)}}]),t}(d.default.Component);f.propTypes={format:u.default.any,options:u.default.array,onChoose:u.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(7)),l=d(a(2)),r=d(a(3)),o=d(a(4)),s=d(a(5)),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){(0,l.default)(this,t);var a=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={cards:e.cards,mounted:e.cards.length},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.state.cards;return 0===t.length?null:u.default.createElement("div",{className:"reframe-stack"},t.map(function(a,l){return u.default.createElement("div",{key:"card_"+l,className:e._getClass(l)},u.default.createElement(a.component,(0,n.default)({},a.props,{active:l===t.length-1})))}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.cards;e.cards.length<t.length&&this._handlePush(),e.cards.length>t.length&&this._handlePop()}},{key:"_getClass",value:function(e){var t=["reframe-stack-card"];return t.push(this._getStatus(e)),t.join(" ")}},{key:"_getStatus",value:function(e){var t=this.props.slideFirst,a=this.state.mounted-1,n=this.state.cards.length-1;return t||-1!==a?e>a&&e===n?"mounting":e===a&&e===n?"active":e===a&&e<n?"covering":e<n?"covered":void 0:"active"}},{key:"_handlePush",value:function(){var e=this,t=this.props.cards;this.setState({cards:t}),setTimeout(function(){return e.setState({mounted:e.state.mounted+1})},100)}},{key:"_handlePop",value:function(){var e=this,t=this.props.cards;this.setState({mounted:this.state.mounted-1}),setTimeout(function(){return e.setState({cards:t})},500)}}]),t}(u.default.Component);c.propTypes={cards:i.default.array,slideFirst:i.default.bool},c.defaultProps={slideFirst:!0,cards:[]},t.default=c},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(916)),r=s(a(917)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1179));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.activate",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.title,a=e.text;return l.default.createElement("div",{className:"token"},l.default.createElement("strong",null,t,l.default.createElement("br",null)),a)};o.propTypes={text:n.default.text,title:n.default.title},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var n=a(11),l=s(a(919)),r=s(a(920)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(928));function s(e){return e&&e.__esModule?e:{default:e}}t.Page=function(e,t){return(0,n.Factory)({namespace:"maha.page",component:(0,r.default)(e,t),reducer:l.default,actions:o})};t.default={reducer:{function:l.default,namespace:"maha.page"}}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(1)),i=f(a(171)),u=a(6),d=f(a(88)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.asset;return c.default.createElement("div",{className:"maha-asset-info"},c.default.createElement("div",{className:"maha-asset-info-header"},c.default.createElement(d.default,e)),c.default.createElement("div",{className:"maha-asset-info-body"},c.default.createElement(u.List,this._getList()),c.default.createElement(i.default,{entity:"maha_assets/"+e.id})))}},{key:"_getList",value:function(){var e=this.props.asset;return{items:[{label:"Uploaded By",content:e.user?e.user.full_name:"Unknown"},{label:"Uploaded On",content:e.created_at,format:"date"},{label:"Source",content:e.source||"Unknown"}]}}}]),t}(c.default.Component);m.contextTypes={},m.propTypes={asset:s.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.comment;return d.default.createElement("div",{className:"maha-message-quoted"},d.default.createElement("div",{className:"maha-message-quoted-message"},d.default.createElement("div",{className:"maha-message-quoted-message-header"},d.default.createElement(s.Avatar,{user:e.user,width:16,presence:!1}),e.user.full_name),d.default.createElement("div",{className:"maha-message-quoted-message-body"},e.text),d.default.createElement("div",{className:"maha-message-quoted-message-timestamp"},(0,u.default)(e.created_at).calendar((0,u.default)(),{sameDay:"[Today @] h:mm A",lastDay:"[Yesterday @]",lastWeek:"dddd, MMMM Do, YYYY [@] h:mm A",sameElse:"dddd, MMMM Do, YYYY [@] h:mm A"}))))}}]),t}(d.default.Component);f.contextTypes={},f.propTypes={comment:i.default.object},t.default=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=a(24),u=m(a(184)),d=m(a(1)),c=m(a(1028)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return f.default.createElement(i.ModalPanel,this._getPanel(),f.default.createElement(u.default,this._getAuthorized(),f.default.createElement(i.Infinite,this._getInfinite())))}},{key:"_getPanel",value:function(){return{title:"Choose File(s)",leftItems:[{icon:"chevron-left",handler:this.props.onBack}],rightItems:[{label:"Done",handler:this.props.onDone}]}}},{key:"_getAuthorized",value:function(){var e=this.props.network;return{network:e,image:"/admin/images/"+e+".png"}}},{key:"_getInfinite",value:function(){var e=this,t={icon:"times-circle",title:"No Results",text:"There are no files that matched your query"};return{endpoint:"/api/admin/"+this.props.network+"/photos",empty:f.default.createElement(i.Message,t),notFound:f.default.createElement(i.Message,t),layout:function(t){return f.default.createElement(c.default,(0,n.default)({},e._getItems(),t))}}}},{key:"_getItems",value:function(){var e=this.props;return{files:e.files,network:e.network,onCreate:e.onCreate,onRemoveFile:e.onRemoveFile}}}]),t}(f.default.Component);p.propTypes={network:d.default.string,files:d.default.array,onAddAsset:d.default.func,onAddFile:d.default.func,onBack:d.default.func,onCreate:d.default.func,onDone:d.default.func,onRemoveFile:d.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(82)),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.records;return u.default.createElement("div",{className:"drive-items"},t.map(function(t,a){return u.default.createElement("div",{className:"drive-item",key:"item_"+a},u.default.createElement("div",{className:"drive-item-icon",onClick:e._handleClick.bind(e,t)},"folder"===t.type&&u.default.createElement("div",{className:"maha-asset-icon"},u.default.createElement("i",{className:"fa fa-fw fa-folder"})),"file"===t.type&&u.default.createElement(s.default,{content_type:t.content_type})),u.default.createElement("div",{className:"drive-item-name",onClick:e._handleClick.bind(e,t)},t.name),u.default.createElement("div",{className:"drive-item-action"},e._getIcon(t)))}))}},{key:"_getIcon",value:function(e){var t=this.props,a=t.network,n=t.files;if("folder"===e.type)return u.default.createElement("i",{className:"fa fa-fw fa-chevron-right"});var l=d.default.find(n,{id:e.id,network:a});return l?l.asset?u.default.createElement("i",{className:"fa fa-fw fa-check"}):u.default.createElement("i",{className:"fa fa-fw fa-spin fa-refresh"}):null}},{key:"_handleClick",value:function(e){var t=this.props.onChangeFolder;"folder"===e.type&&t(e),"file"===e.type&&this._handleChooseFile(e)}},{key:"_handleChooseFile",value:function(e){var t=this.props,a=t.network,n=t.files,l=t.onRemoveFile,r=d.default.find(n,{id:e.id,network:a});if(r)return l(r);this.props.onCreate("/api/admin/"+a+"/files",{id:e.id,name:e.name,network:a,thumbnail:e.thumbnail,content_type:e.content_type})}}]),t}(u.default.Component);f.propTypes={files:i.default.array,network:i.default.string,records:i.default.array,onChangeFolder:i.default.func,onCreate:i.default.func,onBack:i.default.func,onList:i.default.func,onRemoveFile:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1040)),r=s(a(1041)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1043));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.attachments",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(82)),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.files,n=t.records;return u.default.createElement("div",{className:"drive-items"},n.map(function(t,n){return u.default.createElement("div",{className:"drive-item",key:"item_"+n},u.default.createElement("div",{className:"drive-item-icon",onClick:e._handleClick.bind(e,t)},"folder"===t.type&&u.default.createElement("div",{className:"maha-asset-icon"},u.default.createElement("i",{className:"fa fa-fw fa-folder"})),"file"===t.type&&u.default.createElement(s.default,{content_type:t.asset.content_type})),u.default.createElement("div",{className:"drive-item-name",onClick:e._handleClick.bind(e,t)},t.label),u.default.createElement("div",{className:"drive-item-action"},t.asset&&d.default.findIndex(a,{network:"maha",id:t.asset.id})>=0&&u.default.createElement("i",{className:"fa fa-fw fa-check"}),"folder"===t.type&&u.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}))}},{key:"_handleClick",value:function(e){var t=this.props.onChangeFolder;"folder"===e.type&&t(e),"file"===e.type&&this._handleChooseAsset(e.asset)}},{key:"_handleChooseAsset",value:function(e){var t=this.props,a=t.files,n=t.onAddAsset,l=t.onRemoveAsset;if(d.default.findIndex(a,{id:e.id,network:"maha"})<0)return n(e);l(e)}}]),t}(u.default.Component);f.propTypes={files:i.default.array,records:i.default.array,onChangeFolder:i.default.func,onAddAsset:i.default.func,onRemoveAsset:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1044)),r=s(a(1045)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1046));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.attachments_web",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(1049));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClickOutside=l._handleClickOutside.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"maha-emojis",ref:function(t){return e.emojis=t}},i.default.createElement("div",{className:"maha-emojis-panel"},i.default.createElement("div",{className:"maha-emojis-body"},u.default.map(function(t,a){return i.default.createElement("div",{className:"maha-emojis-category",key:"category_"+a},i.default.createElement("div",{className:"maha-emojis-category-title"},t.title),i.default.createElement("div",{className:"maha-emojis-category-emojis"},t.emojis.map(function(t,a){return i.default.createElement("div",{className:"maha-emojis-category-emoji",key:"emoji_"+a,onClick:e._handleChoose.bind(e,t.code)},i.default.createElement("span",{className:"emoji emoji-"+t.code}))})))}))))}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this._handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this._handleClickOutside)}},{key:"_handleClickOutside",value:function(e){"fa fa-fw fa-smile-o"!==e.target.className&&(this.emojis&&this.emojis.contains(e.target)||this.props.onClose())}},{key:"_handleChoose",value:function(e){var t=e.split("-").map(function(e){return String.fromCodePoint("0x"+e)}).join("");this.props.onChange(t)}}]),t}(i.default.Component);c.propTypes={onChange:s.default.func,onClose:s.default.func},c.defaultProps={onChange:function(){},onClose:function(){}},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=a(1052),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1053)),d=a(20),c=p(a(1)),f=p(a(1054)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleReact=n._handleReact.bind(n),n._handleUnreact=n._handleUnreact.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.reactions;return 0===t.total?null:m.default.createElement("div",{className:"maha-reactions"},Object.keys(a).map(function(t,a){return m.default.createElement(f.default,(0,n.default)({},e._getReaction(t),{key:"reaction_"+t}))}))}},{key:"_getReaction",value:function(e){var t=this.props,a=t.id,n=t.reactions,l=t.table,r=t.user_reactions;return{id:a,reactions:n[e],type:e,table:l,user_reactions:r,onReact:this._handleReact,onUnreact:this._handleUnreact}}},{key:"_handleReact",value:function(e,t,a){this.props.onReact(e,t,a)}},{key:"_handleUnreact",value:function(e,t,a){this.props.onUnreact(e,t,a)}}]),t}(m.default.Component);h.propTypes={id:c.default.number,reactions:c.default.object,table:c.default.string,total:c.default.number,user_reactions:c.default.array,onReact:c.default.func,onUnreact:c.default.func};t.default=(0,d.connect)(function(e,t){return{reactions:(0,i.reactions)(e,t),total:(0,i.total)(e,t),user_reactions:(0,i.user_reactions)(e,t)}},u)(h)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(7)),l=v(a(2)),r=v(a(3)),o=v(a(4)),s=v(a(5)),i=a(1056),u=a(20),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1057)),c=v(a(185)),f=v(a(1)),m=v(a(454)),p=v(a(1058)),h=v(a(0)),_=v(a(9));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={show:!1},n._handleHideReactions=n._handleHideReactions.bind(n),n._handleToggleReactions=n._handleToggleReactions.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.state.show;return h.default.createElement("div",{className:"maha-reaction-add",title:"Add a reaction"},h.default.createElement("div",{className:"maha-reaction-add-button",onClick:this._handleToggleReactions},"+",h.default.createElement("i",{className:"fa fa-fw fa-smile-o"})),t&&h.default.createElement("div",{className:"maha-reaction-add-items"},p.default.map(function(t,a){return h.default.createElement("div",(0,n.default)({},e._getReaction(t.type),{key:"reaction_"+t.type}),h.default.createElement(m.default,{label:t.label}),h.default.createElement(c.default,{unicode:t.unicode}))})))}},{key:"_getReaction",value:function(e){return{className:"maha-reaction-add-item maha-tooltip",onClick:this._handleReact.bind(this,e)}}},{key:"_handleReact",value:function(e,t){var a=this.context.admin.user,n=this.props,l=n.table,r=n.id,o=n.onReact,s=n.onUnreact,u=_.default.includes(i.user_reactions,e)?s:o;this.setState({show:!1}),u(l,r,{id:a.id,full_name:a.full_name,initials:a.initials,photo:a.photo,type:e}),this.context.network.request({method:"patch",endpoint:"/api/admin/"+l+"/"+r+"/react/"+e})}},{key:"_handleHideReactions",value:function(){this.setState({show:!1})}},{key:"_handleToggleReactions",value:function(){this.setState({show:!this.state.show})}}]),t}(h.default.Component);y.contextTypes={admin:f.default.object,network:f.default.object},y.propTypes={reactions:f.default.array,table:f.default.string,id:f.default.number,user_reactions:f.default.array,onReact:f.default.func,onUnreact:f.default.func};t.default=(0,u.connect)(function(e,t){return{user_reactions:(0,i.user_reactions)(e,t)}},d)(y)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.label;return i.default.createElement("div",{className:"maha-tooltip-bubble"},e)}}]),t}(i.default.Component);d.propTypes={label:s.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(14)),l=v(a(10)),r=v(a(7)),o=v(a(2)),s=v(a(3)),i=v(a(4)),u=v(a(5)),d=v(a(186)),c=v(a(88)),f=v(a(456)),m=v(a(1)),p=v(a(36)),h=v(a(0)),_=v(a(457));function v(e){return e&&e.__esModule?e:{default:e}}var y=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,g=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props.text,a=this.props.attachments.reduce(function(t,a){var o=e._getType(a);return(0,r.default)({},t,(0,n.default)({},o,[].concat((0,l.default)(t[o]),[a])))},{files:[],images:[],media:[],links:[]});return[this.props.attachments.length>0?h.default.createElement("div",{className:"maha-attachment",key:"attachment"},a.images.length>0&&h.default.createElement("div",{className:"maha-gallery maha-gallery-"+a.images.length},a.images.map(function(t,a){return h.default.createElement("div",{className:"maha-gallery-photo",key:"gallery_photo_"+t.id,onClick:e._handleClick.bind(e,t.asset)},h.default.createElement(p.default,{src:t.asset.path,transforms:{fit:"cover",w:300,h:300}}),h.default.createElement("img",{src:"/admin/images/"+t.asset.source+".png",className:"maha-gallery-photo-source"}))})),a.media.length>0&&h.default.createElement("div",{className:"maha-medias"},a.media.map(function(t,a){return h.default.createElement("div",{className:"maha-media",key:"video_"+a,onClick:e._handleClick.bind(e,t.asset)},h.default.createElement(d.default,{asset:t.asset}),h.default.createElement(c.default,t.asset))})),a.files.length>0&&h.default.createElement("div",{className:"maha-files"},a.files.map(function(e,t){return h.default.createElement("div",{className:"maha-files-file",key:"gallery_photo_"+e.id},h.default.createElement(f.default,(0,r.default)({},e,{key:"files_file_"+t})))})),a.links.length>0&&h.default.createElement("div",{className:"maha-links"},a.links.map(function(e,t){return h.default.createElement("div",{className:"maha-links-link",key:"link-"+e.id},h.default.createElement(f.default,(0,r.default)({},e,{key:"links_link_"+t})))}))):null,this.props.attachments.reduce(function(e,t,a){return e.indexOf(t.from_url)<0?e:e.replace(t.from_url,"")},t).split("<|>").map(function(e,t){if(e.match(/\[attachment(\d*)\]/))return null;var a=[{regex:/```([^`]*)```/gm,replacement:'<div class="maha-richtext-code"><code>$1</code></div>'},{regex:/`([^`]*)`/g,replacement:'<span class="maha-richtext-snippet">$1</span>'},{regex:/\n/g,replacement:"<br />"},{regex:y,replacement:'<a class="maha-richtext-email" href="mailto:$&">$&</a>'}],n=(0,_.default)(e),l=a.reduce(function(e,t){return e.replace(t.regex,t.replacement)},n);return 0===l.length||" "===l?null:h.default.createElement("div",{className:"maha-richtext-text",key:"line_"+t,dangerouslySetInnerHTML:{__html:l}})})]}},{key:"_getType",value:function(e){return"local"===e.type?"links":e.asset?e.asset.content_type.match(/image/)?"images":e.asset.content_type.match(/video/)?"media":e.asset.content_type.match(/audio/)?"media":"files":"files"}},{key:"_handleClick",value:function(e){this.context.router.push("/admin/assets/"+e.id)}}]),t}(h.default.Component);g.contextTypes={router:m.default.object},g.propTypes={attachments:m.default.array,text:m.default.string},t.default=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(0)),l=u(a(1060)),r=u(a(1061)),o=u(a(1062)),s=u(a(1063)),i=u(a(1064));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement("div",{className:"maha-attachment"},"link"===e.type&&n.default.createElement(o.default,e),"image"===e.type&&n.default.createElement(r.default,e),"video"===e.type&&n.default.createElement(i.default,e),"asset"===e.type&&n.default.createElement(l.default,e),"local"===e.type&&n.default.createElement(s.default,e))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(10)),l=r(a(445));function r(e){return e&&e.__esModule?e:{default:e}}var o=/((?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*)/g;t.default=function(e){var t=e.match(o);if(!t)return e;var a=t.reduce(function(e,t,a){var r=[].concat((0,n.default)(t)),o=r?r.map(function(e){return(0,l.default)(e)}).join("-"):(0,l.default)(t),s=o.split("-").map(function(e){return String.fromCodePoint("0x"+e)}).join("");return{text:e.text.replace(t,'<span class="emoji emoji-'+o+'">$'+a+"</span>"),substitutions:[].concat((0,n.default)(e.substitutions),[s])}},{text:e,substitutions:[]});return a.substitutions.reduce(function(e,t,a){return e.replace("$"+a,t)},a.text)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1069)),r=u(a(1070)),o=i(a(1073)),s=i(a(1074));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.assignment",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1075)),r=s(a(1076)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1077));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.Factory)({namespace:"maha.assignment2",component:r.default,reducer:l.default,actions:o});t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1078)),r=s(a(1079)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1080));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.attachmentfield",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1083)),r=s(a(1084)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1085));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.editor",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(10)),l=p(a(7)),r=p(a(2)),o=p(a(3)),s=p(a(4)),i=p(a(5)),u=p(a(0)),d=p(a(1)),c=p(a(218)),f=p(a(8)),m=p(a(1086));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"maha-feed"},u.default.createElement("div",{className:"maha-feed-items"},this._getRecords().map(function(e,t){return[e.newday?u.default.createElement(m.default,{date:e.item.created_at,key:"date_"+t}):null,u.default.createElement(c.default,(0,l.default)({key:"item_"+t},e))]})))}},{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad(this.props.records)}},{key:"_getRecords",value:function(){var e=this,t=this.context.admin;return this.props.records.reduce(function(a,l){var r=(0,f.default)(l.created_at).format("D")!==(0,f.default)(a.created_at).format("D");return{created_at:l.created_at,records:[].concat((0,n.default)(a.records),[{item:l,context:"feed",newday:r,user:t.user,onClick:e._handleClick.bind(e,l)}])}},{records:[],created_at:null}).records}},{key:"_handleClick",value:function(e){this.props.onClick(e)}}]),t}(u.default.Component);h.contextTypes={admin:d.default.object},h.propTypes={records:d.default.array,onClick:d.default.func,onLoad:d.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1087)),r=s(a(1088)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1139));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1089)),r=s(a(1090)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1091));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_intro",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1092)),r=s(a(1093)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1094));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_upload",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1095)),r=u(a(1096)),o=i(a(1097)),s=i(a(1098));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_preview",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1099)),r=u(a(1100)),o=i(a(1105)),s=i(a(1106));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_mapping",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1101)),r=u(a(1102)),o=i(a(1103)),s=i(a(1104));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_field",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1107)),r=u(a(1108)),o=i(a(1110)),s=i(a(1111));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_configure",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1112)),r=u(a(1113)),o=i(a(1114)),s=i(a(1115));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_parsing",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1116)),r=u(a(1117)),o=i(a(1125)),s=i(a(1126));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_validating",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1118)),r=s(a(1119)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1120));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_review",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1121)),r=u(a(1122)),o=i(a(1123)),s=i(a(1124));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_fix",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1127)),r=u(a(1128)),o=i(a(1129)),s=i(a(1130));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_processing",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1131)),r=u(a(1132)),o=i(a(1133)),s=i(a(1134));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_finalize",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1135)),r=u(a(1136)),o=i(a(1137)),s=i(a(1138));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.import_complete",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1141)),r=s(a(1142)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1147));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.reviews",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1143)),r=s(a(1144)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1145));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.richtextfield",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(187)),l=i(a(1)),r=i(a(56)),o=i(a(154)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.score,a=e.count;return s.default.createElement("div",{className:"maha-review"},s.default.createElement("h1",null,(0,o.default)(t).format("0.0")),s.default.createElement(n.default,{score:t}),s.default.createElement("div",{className:"maha-review-summary"},(0,r.default)("review",a,!0)))};u.propTypes={score:l.default.number,count:l.default.number},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1148)),r=u(a(1149)),o=i(a(1150)),s=i(a(1151));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.uploader",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1180)),r=s(a(1181)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1206));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.portal",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=m(a(413)),i=m(a(483)),u=m(a(1)),d=a(6),c=m(a(1185)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return f.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Notifications",method:"patch",endpoint:"/api/admin/account/preferences",action:"/api/admin/account/preferences",onCancel:this._handleCancel,onSuccess:this._handleSuccess,before:f.default.createElement(c.default,null),sections:[{fields:[{label:"Delivery Method",instructions:"If you are not signed in when a notification arrives, we can send you an email. Please indicate how you would like to be contacted when you miss a notification.",name:"notification_method_id",type:"radiogroup",endpoint:"/api/admin/notification_methods",value:"id",text:"title",format:s.default},{label:"Subscriptions",instructions:"Please inform me when the following events occur",name:"ignored",type:i.default}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close(),this.context.flash.set("success","Your notification preferences were successfully updated")}}]),t}(f.default.Component);p.contextTypes={flash:u.default.object,modal:u.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1182)),r=s(a(1183)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1184));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.subscriptions",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1186)),r=s(a(1187)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1191));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.navigation",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1197)),r=u(a(1198)),o=i(a(1199)),s=i(a(1200));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.profiles",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1203)),r=s(a(1204)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1205));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"maha.badge",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1207)),r=s(a(1208)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1213));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.signin",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1214)),r=s(a(1215)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1221));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.reset",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1222)),r=s(a(1223)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1227));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.browser",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1229)),r=s(a(1230)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1231));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.network",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1235)),r=u(a(1236)),o=i(a(1238)),s=i(a(1239));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.alerts",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1241)),r=u(a(1242)),o=i(a(1244)),s=i(a(1245));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.admin",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.message;return d.default.createElement("div",{className:"maha-message-quoted"},d.default.createElement("div",{className:"maha-message-quoted-message"},d.default.createElement("div",{className:"maha-message-quoted-message-header"},d.default.createElement(s.Avatar,{user:e.user,width:16,presence:!1}),e.user.full_name),d.default.createElement("div",{className:"maha-message-quoted-message-body"},d.default.createElement(s.RichText,this._getRichtext())),d.default.createElement("div",{className:"maha-message-quoted-message-timestamp"},(0,u.default)(e.created_at).calendar((0,u.default)(),{sameDay:"[Today @] h:mm A",lastDay:"[Yesterday @]",lastWeek:"dddd, MMMM Do, YYYY [@] h:mm A",sameElse:"dddd, MMMM Do, YYYY [@] h:mm A"}))))}},{key:"_getRichtext",value:function(){return{attachments:[],text:this.props.message.text}}}]),t}(d.default.Component);f.contextTypes={},f.propTypes={message:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(8)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.date,a=(0,l.default)(t).calendar((0,l.default)(),{sameDay:"[Today]",lastDay:"[Yesterday]",lastWeek:"dddd, MMMM Do, YYYY",sameElse:"dddd, MMMM Do, YYYY"});return r.default.createElement("div",{className:"chat-channel-date"},r.default.createElement("div",{className:"chat-channel-date-wrapper"},r.default.createElement("div",{className:"chat-channel-date-text"},a)))};s.propTypes={date:n.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),l._handleContextMenu=l._handleContextMenu.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.name,n=e.typing,l=e.unread,r=this._getOthers();return d.default.createElement("div",{className:this._getClass(r),onClick:this._handleClick,onContextMenu:this._handleContextMenu},d.default.createElement("div",{className:"channel-token-avatar"},r.map(function(e,t){return d.default.createElement(s.Avatar,{key:"subscription_"+t,user:e,presence:!0})})),d.default.createElement("div",{className:"channel-token-details"},d.default.createElement("div",{className:"channel-token-text"},d.default.createElement("strong",null,a||t),n?d.default.createElement("em",null,"typing..."):this._getMessage()),d.default.createElement("div",{className:"channel-token-timestamp"},this._getLastMessageAt())),d.default.createElement("div",{className:"channel-token-extra"},l>0&&d.default.createElement("div",{className:"channel-token-label"},l)),d.default.createElement("div",{className:"channel-token-proceed"},d.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}},{key:"_getMessage",value:function(){var e=this.props.last_message;return e?d.default.createElement("div",{className:"channel-token-message",dangerouslySetInnerHTML:{__html:(0,s.emojify)(e.text)}}):d.default.createElement("span",null,"New channel")}},{key:"_getClass",value:function(e){var t=this.props,a=t.active,n=t.unread,l=["channel-token","channel-token-"+e.length];return a&&l.push("active"),n>0&&l.push("unread"),name&&l.push("named"),name||l.push("unnamed"),l.join(" ")}},{key:"_getOthers",value:function(){var e=this.context.admin,t=this.props.subscriptions;return t.length>1?t.filter(function(t){return t.id!==e.user.id}).slice(0,2):t}},{key:"_getLastMessageAt",value:function(){return(0,u.default)(this.props.last_message_at).calendar(null,{sameDay:"h:mmA",lastDay:"[Yesterday]",lastWeek:"dddd",sameElse:"M/D/YY"})}},{key:"_handleClick",value:function(){this.props.onClick()}},{key:"_handleContextMenu",value:function(e){var t=this.props,a=t.description,n=t.id,l=t.is_archived,r=t.label,o=t.name,s=t.owner;this.props.onContextMenu({description:a,id:n,is_archived:l,label:r,name:o,owner:s},e)}}]),t}(d.default.Component);f.contextTypes={admin:i.default.object,network:i.default.object},f.propTypes={active:i.default.bool,id:i.default.number,is_archived:i.default.bool,label:i.default.string,last_message:i.default.object,last_message_at:i.default.any,name:i.default.string,owner:i.default.object,subscriptions:i.default.array,typing:i.default.object,unread:i.default.number,onClick:i.default.func,onContextMenu:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleArchive=l._handleArchive.bind(l),l._handleDelete=l._handleDelete.bind(l),l._handleEdit=l._handleEdit.bind(l),l._handleLeave=l._handleLeave.bind(l),l._handleSubscriptions=l._handleSubscriptions.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.channel,a=e.title;return u.default.createElement("div",{className:"chat-tasks"},a&&u.default.createElement("div",{className:"reframe-tasks-title"},u.default.createElement("div",{className:"reframe-tasks-title-label"},t.name||t.label)),u.default.createElement(s.List,this._getList()))}},{key:"_getPanel",value:function(){return{title:"Info",leftItems:[{icon:"chevron-left",handler:this._handleBack}]}}},{key:"_getList",value:function(){var e=this.context.admin,t=this.props.channel,a=t.owner.id===e.user.id,n=[];return a&&(t.is_archived?(n.push({component:u.default.createElement(s.Button,this._getActivate())}),n.push({component:u.default.createElement(s.Button,this._getDelete())})):(n.push({component:u.default.createElement(s.Button,this._getEdit())}),n.push({component:u.default.createElement(s.Button,this._getArchive())}),n.push({component:u.default.createElement(s.Button,this._getDelete())}),n.push({component:u.default.createElement(s.Button,this._getSubscriptions())}))),t.is_archived||a||n.push({component:u.default.createElement(s.Button,this._getLeave())}),{items:n}}},{key:"_getActivate",value:function(){return{icon:"check-circle",label:"Activate Channel",className:"reframe-list-item-link",handler:this._handleArchive}}},{key:"_getArchive",value:function(){return{icon:"archive",label:"Archive Channel",className:"reframe-list-item-link",handler:this._handleArchive}}},{key:"_getEdit",value:function(){return{icon:"pencil",label:"Edit Channel",className:"reframe-list-item-link",handler:this._handleEdit}}},{key:"_getDelete",value:function(){return{icon:"trash",label:"Delete Channel",className:"reframe-list-item-link",handler:this._handleDelete}}},{key:"_getSubscriptions",value:function(){return{icon:"users",label:"Manage Members",className:"reframe-list-item-link",handler:this._handleSubscriptions}}},{key:"_getLeave",value:function(){return{icon:"arrow-circle-left",label:"Leave Channel",className:"reframe-list-item-link",handler:this._handleLeave}}},{key:"_handleEdit",value:function(){this.props.onEdit()}},{key:"_handleSubscriptions",value:function(){this.props.onSubscriptions()}},{key:"_handleArchive",value:function(){var e=this.props.channel;this.props.onArchive(e)}},{key:"_handleDelete",value:function(){var e=this.props.channel;this.props.onDelete(e)}},{key:"_handleLeave",value:function(){var e=this.props.channel;this.props.onLeave(e)}}]),t}(u.default.Component);c.contextTypes={admin:i.default.object,confirm:i.default.object,network:i.default.object},c.propTypes={channel:i.default.object,id:i.default.number,title:i.default.bool,onArchive:i.default.func,onDelete:i.default.func,onEdit:i.default.func,onLeave:i.default.func,onSubscriptions:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1263)),r=u(a(1264)),o=i(a(1265)),s=i(a(1266));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"chat.root",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1267)),r=u(a(1268)),o=i(a(1280)),s=i(a(1281));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"chat.chatbar",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(6),u=f(a(1)),d=f(a(189)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.props.message?c.default.createElement("div",{className:"chat-details"},c.default.createElement(i.List,this._getList())):null}},{key:"_getList",value:function(){return{items:[{component:c.default.createElement(d.default,this._getMessage())},{component:c.default.createElement(i.Star,this._getStar())},{component:c.default.createElement(i.Button,this._getDelete())}]}}},{key:"_getMessage",value:function(){var e=this.props.message;return(0,n.default)({},e,{inline:!1,full:!0,actions:!1})}},{key:"_getStar",value:function(){var e=this.props.message;return{starText:"Add Star",unstarText:"Remove Star",is_starred:e.is_starred,label:"message",table:"chat_messages",id:e.id}}},{key:"_getDelete",value:function(){return{icon:"trash-o",label:"Delete Message",className:"reframe-list-item-link"}}}]),t}(c.default.Component);m.contextTypes={},m.propTypes={message:u.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleInfo=l._handleInfo.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.description,a=e.id,n=e.label,l=e.name,r=e.subscriptions;return u.default.createElement("div",{className:"chat-channel-header"},u.default.createElement("div",{className:"chat-channel-header-meta"},u.default.createElement("h3",null,l||n),u.default.createElement("p",null,t)),u.default.createElement("div",{className:"chat-channel-header-info",onClick:this._handleInfo},u.default.createElement("i",{className:"fa fa-fw fa-info-circle"})),a&&u.default.createElement("div",{className:"chat-channel-header-tasks"},u.default.createElement("ul",null,u.default.createElement("li",null,u.default.createElement(s.Star,this._getStar())),u.default.createElement("li",null,r.length," users"))))}},{key:"_getStar",value:function(){var e=this.props;return{id:e.id,is_starred:e.is_starred,label:"channel",table:"chat_channels"}}},{key:"_handleInfo",value:function(){this.props.onInfo()}}]),t}(u.default.Component);c.contextTypes={},c.propTypes={id:i.default.number,is_starred:i.default.bool,label:i.default.string,name:i.default.string,subscriptions:i.default.array,onInfo:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1282)),r=u(a(1283)),o=i(a(1284)),s=i(a(1285));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"chat.fullchat",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1286)),r=s(a(1287)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1290));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"crm.form",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1291)),r=u(a(1292)),o=i(a(1295)),s=i(a(1296));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.access",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1297)),r=s(a(1298)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1299));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.drive",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1300)),r=s(a(1301)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1331));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.explorer",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={drive:{item_id:null,label:"My Drive",code:"drive",icon:"hdd-o",description:"\n      This folder contains a organized hierarchy of your files and folders\n      and items that have been shared with you.\n    "},shared:{item_id:null,code:"shared",label:"Shared With Me",icon:"handshake-o",description:"\n      This folder is a collection of files that have been shared with you.\n    "},starred:{item_id:null,code:"starred",label:"Starred Items",icon:"star",description:"\n      This folder is a collection of starred items. Click the star icon\n      next to any folder or file in Maha Drive to add it to this list.\n    "},trash:{item_id:null,code:"trash",label:"Trash",icon:"trash",description:"\n      You can move folders and files you dont need anymore to the trash.\n      Click Empty Trash to premanently delete all items.\n    "}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(2)),l=g(a(3)),r=g(a(4)),o=g(a(5)),s=a(6),i=g(a(1306)),u=g(a(1307)),d=g(a(1308)),c=g(a(1)),f=g(a(1309)),m=g(a(508)),p=g(a(503)),h=g(a(509)),_=g(a(511)),v=g(a(0)),y=g(a(9));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDetails=l._handleDetails.bind(l),l._handleUpload=l._handleUpload.bind(l),l._handleView=l._handleView.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.title;return v.default.createElement("div",{className:"drive-tasks"},a&&v.default.createElement("div",{className:"reframe-tasks-title"},v.default.createElement("div",{className:"reframe-tasks-title-icon"},"root"===t.code&&v.default.createElement("i",{className:"fa fa-fw fa-home"}),"shared"===t.code&&v.default.createElement("i",{className:"fa fa-fw fa-handshake-o"}),"starred"===t.code&&v.default.createElement("i",{className:"fa fa-fw fa-star"}),"trash"===t.code&&v.default.createElement("i",{className:"fa fa-fw fa-trash"}),"folder"===t.type&&v.default.createElement("i",{className:"fa fa-fw fa-folder"}),"file"===t.type&&v.default.createElement("i",{className:"fa fa-fw fa-file"})),v.default.createElement("div",{className:"reframe-tasks-title-label"},t.label)),v.default.createElement(s.List,this._getList()))}},{key:"_getList",value:function(){var e=this.props.item,t=document.body.clientWidth<=768,a=[];if("root"===e.code);else if("drive"===e.code)a.push({component:v.default.createElement(s.Button,this._getNewFolder())}),a.push({component:v.default.createElement(s.Button,this._getUpload())});else if("trash"===e.code)a.push({component:v.default.createElement(s.Button,this._getEmpty())}),a.push({component:v.default.createElement(s.Button,this._getRestoreAll())});else if(e.deleted_at)a.push({component:v.default.createElement(s.Button,this._getRestore())}),a.push({component:v.default.createElement(s.Button,this._getDelete())});else if(!y.default.includes(["shared","starred"],e.code)){var n=y.default.includes(["owner","edit"],e.access_type);t&&a.push({component:v.default.createElement(s.Button,this._getDetails())}),a.push({component:v.default.createElement(s.Star,this._getStar())}),n&&a.push({component:v.default.createElement(s.Button,this._getAccess())}),"folder"===e.type?n&&(a.push({component:v.default.createElement(s.Button,this._getNewFolder())}),a.push({component:v.default.createElement(s.Button,this._getUpload())})):"file"===e.type&&(a.push({component:v.default.createElement(s.Button,this._getShare())}),a.push({component:v.default.createElement(s.Button,this._getDownload())}),a.push({component:v.default.createElement(s.Button,this._getView())}),n&&a.push({component:v.default.createElement(s.Button,this._getVersions())})),n&&(a.push({component:v.default.createElement(s.Button,this._getMove())}),a.push({component:v.default.createElement(s.Button,this._getRename())}),a.push({component:v.default.createElement(s.Button,this._getTrash())}))}return{items:a}}},{key:"_getNewFolder",value:function(){var e=this.props.item;return{icon:"folder",label:"Create New Folder",className:"reframe-list-item-link",modal:v.default.createElement(d.default,{parent_id:e?e.item_id:null})}}},{key:"_getUpload",value:function(){return{icon:"upload",label:"Upload File(s)",className:"reframe-list-item-link",modal:v.default.createElement(s.Attachments,this._getAttachments())}}},{key:"_getTransfer",value:function(){return{icon:"exchange",label:"Transfer Ownership",className:"reframe-list-item-link",modal:v.default.createElement(f.default,null)}}},{key:"_getAttachments",value:function(){return{icon:"upload",prompt:"Upload File(s)",networks:["device","web","google","dropbox","box","microsoft"],onChooseAssets:this._handleUpload}}},{key:"_getEmpty",value:function(){return{icon:"trash-o",label:"Empty Trash",className:"reframe-list-item-link",request:{method:"POST",endpoint:"/api/admin/drive/trash/empty"}}}},{key:"_getRestoreAll",value:function(){return{icon:"rotate-left",label:"Restore all",className:"reframe-list-item-link",request:{method:"POST",endpoint:"/api/admin/drive/trash/restore_all"}}}},{key:"_getRestore",value:function(){var e=this.props.item;return{icon:"rotate-left",label:"Restore "+y.default.capitalize(e.type),className:"reframe-list-item-link",request:{method:"PATCH",endpoint:"/api/admin/drive/items/"+e.code+"/restore"}}}},{key:"_getDelete",value:function(){return{icon:"trash-o",label:"Delete Forever",className:"reframe-list-item-link",request:{method:"PATCH",endpoint:"/api/admin/drive/items/"+this.props.item.code+"/destroy"}}}},{key:"_getDetails",value:function(){var e=this.props.item;return{icon:"info-circle",label:y.default.capitalize(e.type)+" Details",className:"reframe-list-item-link",handler:this._handleDetails}}},{key:"_getStar",value:function(){var e=this.props.item;return{starText:"Add Star",unstarText:"Remove Star",is_starred:e.is_starred,label:e.type,table:"drive_"+e.type+"s",id:e.item_id}}},{key:"_getShare",value:function(){var e=this.props.item;return{icon:"share",label:"Share "+y.default.capitalize(e.type),className:"reframe-list-item-link",modal:v.default.createElement(h.default,{item:e})}}},{key:"_getAccess",value:function(){var e=this.props.item;return{icon:"handshake-o",label:"Manage Access",className:"reframe-list-item-link",modal:v.default.createElement(p.default,{item:e})}}},{key:"_getMove",value:function(){var e=this.props.item;return{icon:"arrows-alt",label:"Move "+y.default.capitalize(e.type),className:"reframe-list-item-link",modal:v.default.createElement(_.default,{item:e})}}},{key:"_getRename",value:function(){var e=this.props.item,t="folder"===e.type?i.default:u.default;return{icon:"i-cursor",label:"Rename "+y.default.capitalize(e.type),className:"reframe-list-item-link",modal:v.default.createElement(t,{item:e})}}},{key:"_getDownload",value:function(){var e=this.props.item,t=this.context.admin.team.token;return{icon:"download",label:"Download File",className:"reframe-list-item-link",handler:function(){window.location.href="/api/admin/assets/"+e.asset.id+"/download?token="+t}}}},{key:"_getView",value:function(){return{icon:"eye",label:"View File",className:"reframe-list-item-link",route:"/admin/drive/files/"+this.props.item.code}}},{key:"_getVersions",value:function(){var e=this.props.item;return{icon:"clone",label:"Manage Versions",className:"reframe-list-item-link",modal:v.default.createElement(m.default,{id:e.code})}}},{key:"_getTrash",value:function(){return{icon:"trash-o",label:"Move to Trash",className:"reframe-list-item-link",confirm:"Are you sure?",request:{method:"PATCH",endpoint:"/api/admin/drive/items/"+this.props.item.code+"/trash"}}}},{key:"_handleUpload",value:function(e){var t=this.props,a=t.item,n=t.onCreateFile,l=a?a.item_id:null;e.map(function(e){n(l,e.id)})}},{key:"_handleView",value:function(){var e=this.props.item;this.context.router.push("/admin/drive/files/"+e.code)}},{key:"_handleDetails",value:function(){var e=this.props.item;this.props.onShowDetails(!0),this.props.onPreview(e)}}]),t}(v.default.Component);b.contextTypes={admin:c.default.object,network:c.default.object,router:c.default.object},b.propTypes={item:c.default.object,title:c.default.bool,onChangeFolder:c.default.func,onCreateFile:c.default.func,onPreview:c.default.func,onShowDetails:c.default.func},t.default=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1310)),r=s(a(1311)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1312));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.versions",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1313)),r=u(a(1314)),o=i(a(1321)),s=i(a(1322));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.share",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1317)),r=s(a(1318)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1319));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.share_chat",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1323)),r=u(a(1324)),o=i(a(1327)),s=i(a(1328));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"drive.move",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(6),u=a(20),d=f(a(1)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handlePreview=n._handlePreview.bind(n),n._handleDrive=n._handleDrive.bind(n),n._handleShared=n._handleShared.bind(n),n._handleStarred=n._handleStarred.bind(n),n._handleTasks=n._handleTasks.bind(n),n._handleTrash=n._handleTrash.bind(n),n._handleUpdate=n._handleUpdate.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.folder,l=t.records;return c.default.createElement("div",{className:"drive-items"},"root"!==a.code&&l.map(function(t,l){return c.default.createElement("div",(0,n.default)({},e._getItem(t),{key:"item_"+t.code}),c.default.createElement("div",{className:"drive-item-icon"},"folder"===t.type&&c.default.createElement("div",{className:"maha-asset-icon"},c.default.createElement("i",{className:"fa fa-fw fa-folder"})),"file"===t.type&&c.default.createElement(i.AssetThumbnail,t.asset)),c.default.createElement("div",{className:"drive-item-name"},t.label),"trash"!==a.code&&c.default.createElement("div",{className:"drive-item-action"},c.default.createElement(i.Star,e._getStar(t))),c.default.createElement("div",{className:"drive-item-action",onClick:e._handleTasks.bind(e,t)},c.default.createElement("i",{className:"fa fa-fw fa-ellipsis-v"})))}),"root"===a.code&&c.default.createElement("div",{className:"drive-item",onClick:this._handleDrive},c.default.createElement("div",{className:"drive-item-icon"},c.default.createElement("div",{className:"maha-asset-icon"},c.default.createElement("i",{className:"fa fa-fw fa-hdd-o"}))),c.default.createElement("div",{className:"drive-item-name"},"My Drive"),c.default.createElement("div",{className:"drive-item-action"},c.default.createElement("i",{className:"fa fa-fw fa-chevron-right"}))),"root"===a.code&&c.default.createElement("div",{className:"drive-item",onClick:this._handleShared},c.default.createElement("div",{className:"drive-item-icon"},c.default.createElement("div",{className:"maha-asset-icon"},c.default.createElement("i",{className:"fa fa-fw fa-handshake-o"}))),c.default.createElement("div",{className:"drive-item-name"},"Shared With Me"),c.default.createElement("div",{className:"drive-item-action"},c.default.createElement("i",{className:"fa fa-fw fa-chevron-right"}))),"root"===a.code&&c.default.createElement("div",{className:"drive-item",onClick:this._handleStarred},c.default.createElement("div",{className:"drive-item-icon"},c.default.createElement("div",{className:"maha-asset-icon"},c.default.createElement("i",{className:"fa fa-fw fa-star"}))),c.default.createElement("div",{className:"drive-item-name"},"Starred Items"),c.default.createElement("div",{className:"drive-item-action"},c.default.createElement("i",{className:"fa fa-fw fa-chevron-right"}))),"root"===a.code&&c.default.createElement("div",{className:"drive-item",onClick:this._handleTrash},c.default.createElement("div",{className:"drive-item-icon"},c.default.createElement("div",{className:"maha-asset-icon"},c.default.createElement("i",{className:"fa fa-fw fa-trash"}))),c.default.createElement("div",{className:"drive-item-name"},"Trash"),c.default.createElement("div",{className:"drive-item-action"},c.default.createElement("i",{className:"fa fa-fw fa-chevron-right"}))))}},{key:"_getItem",value:function(e){return{className:this._getClass(e),onContextMenu:this._handleTasks.bind(this,e),onClick:this._handleClick.bind(this,e),onDoubleClick:this._handleView.bind(this,e)}}},{key:"_getClass",value:function(e){var t=this.props.preview,a=["drive-item"];return t&&t.code===e.code&&a.push("selected"),a.join(" ")}},{key:"_getStar",value:function(e){return{table:"folder"===e.type?"drive_folders":"drive_files",id:e.item_id,is_starred:e.is_starred}}},{key:"_handleClick",value:function(e,t){t.stopPropagation(),this._handlePreview(e),"folder"===e.type&&this._handleChangeFolder(e),document.body.clientWidth<=768&&this._handleView(e)}},{key:"_handleView",value:function(e){var t=this.context.router;"file"===e.type&&t.push("/admin/drive/files/"+e.code)}},{key:"_handleDrive",value:function(e){e.stopPropagation(),this.props.onDrive()}},{key:"_handleShared",value:function(e){e.stopPropagation(),this.props.onShared()}},{key:"_handleStarred",value:function(e){e.stopPropagation(),this.props.onStarred()}},{key:"_handleTasks",value:function(e,t){this.props.onTasks(e,t)}},{key:"_handleTrash",value:function(e){e.stopPropagation(),this.props.onTrash()}},{key:"_handleChangeFolder",value:function(e){this.props.onChangeFolder(e)}},{key:"_handleDownload",value:function(e){var t=this.context.admin.team.token;window.location.href="/api/admin/assets/"+e.asset.id+"/download?token="+t}},{key:"_handlePreview",value:function(e){this.props.onPreview(e)}},{key:"_handleUpdate",value:function(e,t){this.props.onUpdateFile(e.code,t.id)}}]),t}(c.default.Component);m.contextTypes={admin:d.default.object,router:d.default.object,tasks:d.default.object},m.propTypes={folder:d.default.object,preview:d.default.object,records:d.default.array,onChangeFolder:d.default.func,onDrive:d.default.func,onPreview:d.default.func,onShared:d.default.func,onStarred:d.default.func,onTasks:d.default.func,onTrash:d.default.func,onUpdateFile:d.default.func};t.default=(0,u.connect)(function(e,t){return{preview:e.drive.explorer.preview}})(m)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(38)),l=a(6),r=s(a(1)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.membership,a=e.type;return o.default.createElement("div",{className:"membership-token"},o.default.createElement("div",{className:"membership-token-item"},"user"===a&&o.default.createElement(l.CompactUserToken,t.user),"project"===a&&o.default.createElement(n.default,{project:t.project})),o.default.createElement("div",{className:"membership-token-type"},o.default.createElement("div",{className:"membership-type-token "+t.member_type.name.toLowerCase()},t.member_type.name.toUpperCase())))};i.propTypes={membership:r.default.string,type:r.default.string},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=u(a(1336)),r=u(a(1337)),o=i(a(1338)),s=i(a(1339));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"expenses.trips_import_finalize",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1340)),r=s(a(1341)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1342));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"platform.apps",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1350)),r=s(a(1351)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1352));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.reactions",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1358)),r=s(a(1359)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1360));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"maha.stars",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channels=void 0;var n=i(a(14)),l=i(a(10)),r=i(a(7)),o=a(12),s=i(a(9));function i(e){return e&&e.__esModule?e:{default:e}}t.channels=(0,o.createSelector)(function(e,t){return e.chat.root.active},function(e,t){return e.chat.root.channels||[]},function(e,t){return e.chat.root.typing},function(e,t){return e.chat.root.messages},function(e,t){return e.chat.root.unread},function(e,t){return e.maha.stars.stars.chat_channels||{}},function(e,t,a,o,i,u){return t.map(function(t){return(0,r.default)({},t,{is_starred:void 0!==u[t.id]?u[t.id]:t.is_starred,typing:s.default.find(a,{channel_id:t.id}),subscriptions:t.subscriptions.map(function(n){return(0,r.default)({},n,{active:s.default.findIndex(e,{channel_id:t.id,user_id:n.id})>=0,typing:s.default.findIndex(a,{channel_id:t.id,user_id:n.id})>=0})}),last_viewed:t.subscriptions.reduce(function(e,o){var i;return(0,r.default)({},e,(i={},(0,n.default)(i,o.last_message.id,[].concat((0,l.default)(e[o.last_message.id]||[]),[{id:o.id,full_name:o.full_name,photo:o.photo,viewed_at:o.last_message.viewed_at}])),(0,n.default)(i,"typing",s.default.findIndex(a,{channel_id:t.id,user_id:o.id})>=0),i))},{}),unread:i[t.id]||0})}).sort(function(e,t){return e.last_message_at<t.last_message_at?1:e.last_message_at>t.last_message_at?-1:0})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),l=r(a(8));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,a){return 1===e?e+" "+t:e+" "+a};t.default=function(e){return n.default.createElement("div",{className:"plan-token"},n.default.createElement("div",{className:"plan-token-details"},n.default.createElement("strong",null,(0,l.default)(e.due).format("MMMM DD, YYYY")),n.default.createElement("br",null),o(e.goal_count,"goal","goals")," / ",o(e.commitment_count,"commitment","commitments")),n.default.createElement("div",{className:"plan-token-badge"},n.default.createElement("div",{className:"plan-token-status "+e.status.toLowerCase()},e.status.toUpperCase())))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.commitment;return l.default.createElement("div",{className:"reframe-list-item-padded"},t.is_complete&&l.default.createElement("span",{className:"goal-token-complete"},"complete"),l.default.createElement("strong",null,t.resource.title),l.default.createElement("br",null),t.resource.description&&l.default.createElement("span",null,t.resource.description))};o.propTypes={commitment:n.default.object},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.goal;return l.default.createElement("div",{className:"goal-token"},t.is_complete&&l.default.createElement("span",{className:"goal-token-complete"},"complete"),l.default.createElement("strong",null,t.competency.title,t.competency.level?" - level "+t.competency.level:""),l.default.createElement("br",null),t.competency.description&&l.default.createElement("span",null,t.competency.description))};o.propTypes={goal:n.default.object},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(10)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=a(6),u=m(a(1)),d=m(a(8)),c=m(a(502)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"crm-timeline"},f.default.createElement(c.default,null),this._getActivities().map(function(t,a){return[t.newday?f.default.createElement("div",{className:"crm-timeline-item",key:"date_"+a},f.default.createElement("div",{className:"crm-timeline-item-rail"}),f.default.createElement("div",{className:"crm-timeline-item-content"},f.default.createElement("div",{className:"crm-timeline-date",key:"date_"+a},(0,d.default)(t.record.created_at).format("MMMM YYYY")))):null,f.default.createElement("div",{className:"crm-timeline-item",key:"event_"+a},f.default.createElement("div",{className:"crm-timeline-item-rail"},f.default.createElement("div",{className:"crm-timeline-item-icon"},f.default.createElement("i",{className:"fa fa-fw fa-"+e._getIcon(t.record)}))),f.default.createElement("div",{className:"crm-timeline-item-content"},f.default.createElement("div",{className:"crm-timeline-item-card"},f.default.createElement("div",{className:"crm-timeline-item-card-header"},f.default.createElement("div",{className:"crm-timeline-item-card-header-avatar"},f.default.createElement(i.Avatar,{user:t.record.user,width:"28"})),f.default.createElement("div",{className:"crm-timeline-item-card-header-details"},f.default.createElement("div",{className:"crm-timeline-item-card-header-description"},f.default.createElement("strong",null,t.record.user.full_name)," created a ",t.record.type),f.default.createElement("div",{className:"crm-timeline-item-card-header-timestamp"},(0,d.default)(t.record.created_at).format("MMM D @ h:mm A")))),f.default.createElement("div",{className:"crm-timeline-item-card-section"},f.default.createElement("p",{dangerouslySetInnerHTML:{__html:t.record.content}})))))]}))}},{key:"_getActivities",value:function(){return this.props.activities.reduce(function(e,t){var a=(0,d.default)(t.created_at).format("M")!==(0,d.default)(e.created_at).format("M");return{created_at:t.created_at,records:[].concat((0,n.default)(e.records),[{record:t,newday:a}])}},{records:[],created_at:null}).records}},{key:"_getIcon",value:function(e){return"call"===e.type?"phone":"note"===e.type?"pencil":"email"===e.type?"envelope":"task"===e.type?"check":void 0}}]),t}(f.default.Component);p.propTypes={activities:u.default.array},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIntegrationTask=t.getIntegrationTasks=t.getIntegrationExport=t.getIntegrationColumn=void 0;var n=u(a(14)),l=u(a(10)),r=u(a(7)),o=u(a(56)),s=u(a(1442)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}t.getIntegrationColumn=function(e){return"accpac"===e?[{label:"G/L Acct",key:"integration.idglacct",visible:!1}]:[]},t.getIntegrationExport=function(e){return"accpac"===e?[{label:"G/L Acct",key:"integration.idglacct"}]:[]},t.getIntegrationTasks=function(e,t,a){return"accpac"===e?{text:"Export "+(0,o.default)("item",a.selected.length,!0),color:"violet",rights:["expenses:manage_configuration"],handler:function(){if(0===a.selected.length)return t.alert.open("Please select one or more items");if(!a.selected.reduce(function(e,t){return!!e&&"reviewed"===t.status},!0))return t.alert.open("You can only export reviewed items");var e=a.selected.reduce(function(e,t){return(0,r.default)({},e,(0,n.default)({},t.type+"_ids",[].concat((0,l.default)(e[t.type+"_ids"]||[]),[t.item_id])))},{});t.confirm.open("Are you sure you want to export these "+a.selected.length+" items?",function(){t.modal.open(i.default.createElement(s.default,{ids:e,token:t.admin.team.token}))})}}:null},t.getIntegrationTask=function(e,t,a,l){if("accpac"===e){var r=(0,n.default)({},a+"_ids",[l]);return[{color:"violet",text:"Export",handler:function(){t.confirm.open("Are you sure you want to export this "+a+"?",function(){t.modal.open(i.default.createElement(s.default,{ids:r,token:t.admin.team.token}))})}}]}return null}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleUninstall=l._handleUninstall.bind(l),l._handleInstall=l._handleInstall.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.app.installed?s.default.createElement("div",{className:"ui tiny red basic button",onClick:this._handleUninstall},"UNINSTALL"):s.default.createElement("div",{className:"ui tiny green basic button",onClick:this._handleInstall},"+ INSTALL")}},{key:"_handleUninstall",value:function(){var e=this.props.app,t=this.context,a=t.confirm,n=t.network,l=t.flash;a.open("Are you sure you want to uninstall this app?",function(){n.request({method:"GET",endpoint:"/api/admin/team/apps/"+e.id+"/uninstall",onFailure:function(e){l.set("error","Unable to uninstall app")},onSuccess:function(e){l.set("success","App has been uninstalled")}})})}},{key:"_handleInstall",value:function(){var e=this.props.app,t=this.context,a=t.network,n=t.flash;a.request({method:"GET",endpoint:"/api/admin/team/apps/"+e.id+"/install",onFailure:function(e){n.set("error","Unable to install app")},onSuccess:function(e){n.set("success","App has been installed")}})}}]),t}(s.default.Component);d.contextTypes={confirm:i.default.object,flash:i.default.object,network:i.default.object},d.propTypes={app:i.default.object},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=a(24),u=m(a(1)),d=m(a(462)),c=m(a(0)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={cacheKey:null},n._handleRefresh=n._handleRefresh.bind(n),n._handleClick=n._handleClick.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(i.Collection,this._getCollection())}},{key:"componentDidMount",value:function(){this.context.network.subscribe([{target:"/admin/notifications",action:"add",handler:this._handleRefresh}])}},{key:"componentWillUnmount",value:function(){this.context.network.unsubscribe([{target:"/admin/notifications",action:"add",handler:this._handleRefresh}])}},{key:"_getCollection",value:function(){var e=this;return{cacheKey:this.state.cacheKey,endpoint:"/api/admin/notifications",defaultSort:{key:"created_at",order:"desc"},layout:function(t){return c.default.createElement(d.default,(0,n.default)({},t,{onClick:e._handleClick}))},icon:"bell",empty:"You have not yet received any notifications",entity:"notification",search:!1}}},{key:"_handleClick",value:function(e){var t=this.context,a=t.notifications,n=t.router;e.is_visited||a.markVisited(e.id),n.push(e.url)}},{key:"_handleRefresh",value:function(){this.setState({cacheKey:f.default.random(1e5,999999).toString(36)})}}]),t}(c.default.Component);p.contextTypes={admin:u.default.object,network:u.default.object,notifications:u.default.object,router:u.default.object},t.default=p},,,function(e,t,a){"use strict";var n=o(a(40)),l=o(a(0)),r=o(a(537));function o(e){return e&&e.__esModule?e:{default:e}}n.default.render(l.default.createElement(r.default,null),document.getElementById("platform"))},,,,,,,,,function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Be(a(7)),l=Be(a(10)),r=Be(a(2)),o=Be(a(3)),s=Be(a(4)),i=Be(a(5)),u=a(581),d=Be(a(583)),c=Be(a(0)),f=Be(a(1246)),m=Be(a(118)),p=Be(a(119)),h=Be(a(497)),_=Be(a(498)),v=Be(a(501)),y=Be(a(120)),g=Be(a(502)),b=Be(a(503)),E=Be(a(504)),k=Be(a(505)),C=Be(a(511)),S=Be(a(510)),T=Be(a(509)),P=Be(a(508)),M=Be(a(193)),O=Be(a(514)),N=Be(a(515)),j=Be(a(194)),x=Be(a(1346)),A=Be(a(412)),w=Be(a(492)),I=Be(a(491)),R=Be(a(458)),U=Be(a(459)),F=Be(a(460)),D=Be(a(448)),L=Be(a(87)),q=Be(a(116)),B=Be(a(450)),H=Be(a(184)),V=Be(a(486)),Y=Be(a(489)),Q=Be(a(171)),G=Be(a(172)),z=Be(a(461)),K=Be(a(188)),W=Be(a(476)),$=Be(a(469)),J=Be(a(468)),Z=Be(a(475)),X=Be(a(473)),ee=Be(a(464)),te=Be(a(467)),ae=Be(a(470)),ne=Be(a(466)),le=Be(a(474)),re=Be(a(463)),oe=Be(a(472)),se=Be(a(465)),ie=Be(a(471)),ue=Be(a(484)),de=Be(a(490)),ce=Be(a(217)),fe=Be(a(414)),me=Be(a(481)),pe=Be(a(485)),he=Be(a(516)),_e=Be(a(488)),ve=Be(a(477)),ye=Be(a(478)),ge=Be(a(195)),be=Be(a(487)),Ee=Be(a(517)),ke=Be(a(483)),Ce=Be(a(480)),Se=Be(a(1361)),Te=Be(a(1371)),Pe=Be(a(1402)),Me=Be(a(1416)),Oe=Be(a(1420)),Ne=Be(a(1437)),je=Be(a(1483)),xe=Be(a(1494)),Ae=Be(a(1527)),we=Be(a(1532)),Ie=Be(a(1536)),Re=Be(a(1537)),Ue=Be(a(1540)),Fe=Be(a(1541)),De=Be(a(1542)),Le=Be(a(1543)),qe=Be(a(1544));function Be(e){return e&&e.__esModule?e:{default:e}}var He=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement(d.default,this._getApp())}},{key:"_getApp",value:function(){return{appBadges:[].concat((0,l.default)(we.default.map(function(e){return(0,n.default)({app:"chat"},e)})),(0,l.default)(Ie.default.map(function(e){return(0,n.default)({app:"crm"},e)})),(0,l.default)(Re.default.map(function(e){return(0,n.default)({app:"maha"},e)}))),appRoots:[].concat((0,l.default)(Ue.default.map(function(e){return{app:"chat",component:e}})),(0,l.default)(Fe.default.map(function(e){return{app:"drive",component:e}})),(0,l.default)(De.default.map(function(e){return{app:"maha",component:e}}))),appReducers:[f.default,m.default,p.default,h.default,_.default,v.default,y.default,g.default,b.default,E.default,k.default,C.default,S.default,T.default,P.default,M.default,O.default,N.default,j.default,x.default,A.default,w.default,I.default,R.default,U.default,F.default,D.default,L.default,q.default,B.default,H.default,V.default,Y.default,Q.default,G.default,z.default,K.default,W.default,$.default,J.default,Z.default,X.default,ee.default,te.default,ae.default,ne.default,le.default,re.default,oe.default,se.default,ie.default,ue.default,de.default,ce.default,fe.default,me.default,pe.default,he.default,_e.default,ve.default,ye.default,ge.default,be.default,Ee.default,ke.default,Ce.default],appRoutes:[{path:"/admin/chat",children:Se.default},{path:"/admin/competencies",children:Te.default},{path:"/admin/crm",children:Pe.default},{path:"/admin/drive",children:Me.default},{path:"/admin/eatfresh",children:Oe.default},{path:"/admin/expenses",children:Ne.default},{path:"/admin/platform",children:je.default},{path:"/admin/team",children:xe.default},{path:"/admin",children:Ae.default}],appUserTasks:[Le.default],appUserFields:[qe.default],appUserValues:[qe.default]}}}]),t}(c.default.Component);t.default=(0,u.hot)(e)(He)}).call(this,a(59)(e))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=P(a(14)),l=P(a(7)),r=P(a(10)),o=P(a(2)),s=P(a(3)),i=P(a(4)),u=P(a(5)),d=P(a(217)),c=P(a(595)),f=P(a(596)),m=P(a(914)),p=P(a(915)),h=P(a(489)),_=P(a(1228)),v=P(a(490)),y=P(a(1232)),g=P(a(1233)),b=P(a(491)),E=P(a(1240)),k=P(a(492)),C=a(24),S=P(a(1)),T=P(a(0));function P(e){return e&&e.__esModule?e:{default:e}}(0,c.default)();var M=function(e){function t(e){(0,o.default)(this,t);var a=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.routes=a._collapseRoutes({path:"",children:[].concat((0,r.default)(a.props.appRoutes),[{path:"/*",component:E.default}])}),a}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.appBadges,a=e.appRoots,n=e.appReducers,l=this._getHost();return T.default.createElement(f.default,{reducers:n},T.default.createElement(g.default,null,T.default.createElement(y.default,{routes:this.routes},T.default.createElement(b.default,null,T.default.createElement(v.default,null,T.default.createElement(C.Flash,null,T.default.createElement(C.Popup,null,T.default.createElement(l,null,T.default.createElement(k.default,null,T.default.createElement(d.default,null,T.default.createElement(p.default,{badges:t,routes:this.routes,roots:a})))))))))))}},{key:"componentDidCatch",value:function(e,t){this.context.logger.error(e,t)}},{key:"getChildContext",value:function(){var e=this.props;return{platform:{appUserTasks:e.appUserTasks,appUserFields:e.appUserFields,appUserValues:e.appUserValues}}}},{key:"_getHost",value:function(){return navigator.userAgent.search("Cordova")>=0?_.default:navigator.userAgent.search("Electron")>=0?m.default:h.default}},{key:"_collapseRoutes",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.children.reduce(function(e,r){var o="/"!==r.path?r.path:"";return r.children?(0,l.default)({},e,t._collapseRoutes(r,""+a+o)):(0,l.default)({},e,(0,n.default)({},""+a+o,r.component))},{})}}]),t}(T.default.Component);M.childContextTypes={platform:S.default.object},M.contextTypes={logger:S.default.object,router:S.default.object},M.propTypes={appBadges:S.default.array,appRoots:S.default.array,appReducers:S.default.array,appRoutes:S.default.array,appUserTasks:S.default.array,appUserFields:S.default.array,appUserValues:S.default.array},t.default=M},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s={notifications:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"MARK_VISITED_SUCCESS":var a=r.default.findIndex(e.notifications,{id:t.result.data.id});return a<0?(0,l.default)({},e):(0,l.default)({},e,{notifications:[].concat((0,n.default)(e.notifications.slice(0,a)),[(0,l.default)({},e.notifications[a],{is_viewed:!0})],(0,n.default)(e.notifications.slice(a+1)))});case"ADD_NOTIFICATION":return(0,l.default)({},e,{notifications:[].concat((0,n.default)(e.notifications),[t.notification])});case"REMOVE_NOTIFICATION":return(0,l.default)({},e,{notifications:e.notifications.filter(function(e){return e.id!==t.id})});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(218));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleNotification=l._handleNotification.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.children}},{key:"componentDidMount",value:function(){this.context.network.subscribe({target:"/admin/notifications",action:"add",handler:this._handleNotification})}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.context,l=n.admin,r=n.popup,o=this.props.notifications;if(e.notifications.length!==o.length){if(0===o.length)return r.close();r.open(function(){return s.default.createElement("div",{className:"maha-feed-items"},o.map(function(e,t){return s.default.createElement(u.default,{key:"notification_"+t,context:"popup",item:e,user:l.user,onClick:a._handleClick.bind(a,e)})}))})}}},{key:"componentWillUnmount",value:function(){this.context.network.unsubscribe({target:"/admin/notifications",action:"add_notification",handler:this._handleNotification})}},{key:"getChildContext",value:function(){var e=this.props;return{notifications:{markSeen:e.onMarkSeen,markVisited:e.onMarkVisited,removeNotification:e.onRemoveNotification}}}},{key:"_handleNotification",value:function(e){var t=this.props,a=t.onAddNotification,n=t.onMarkSeen,l=t.onRemoveNotification,r=this.context.host;if(n([e.id]),r.notifications)return this._handleHostNotification(e);a(e),new Audio("/audio/notification.mp3").play(),setTimeout(function(){return l(e.id)},5e3)}},{key:"_handleHostNotification",value:function(e){this.context.host.pushNotification({title:"New Notification",body:e.description,url:"/admin/nv"+e.code})}},{key:"_recordClick",value:function(e){}},{key:"_handleClick",value:function(e){var t=this.props,a=t.onRemoveNotification,n=t.onMarkVisited,l=this.context.router;e.is_visited||setTimeout(function(){return n(e.id)},500),this._recordClick(e),a(e.id),l.push(e.url)}}]),t}(s.default.Component);c.childContextTypes={notifications:i.default.object},c.contextTypes={admin:i.default.object,host:i.default.object,network:i.default.object,popup:i.default.object,router:i.default.object},c.propTypes={children:i.default.any,notifications:i.default.array,notificationIds:i.default.array,onAddNotification:i.default.func,onMarkVisited:i.default.func,onMarkSeen:i.default.func,onRemoveNotification:i.default.func},t.default=c},,,function(e,t,a){var n={"./af":222,"./af.js":222,"./ar":223,"./ar-dz":224,"./ar-dz.js":224,"./ar-kw":225,"./ar-kw.js":225,"./ar-ly":226,"./ar-ly.js":226,"./ar-ma":227,"./ar-ma.js":227,"./ar-sa":228,"./ar-sa.js":228,"./ar-tn":229,"./ar-tn.js":229,"./ar.js":223,"./az":230,"./az.js":230,"./be":231,"./be.js":231,"./bg":232,"./bg.js":232,"./bm":233,"./bm.js":233,"./bn":234,"./bn.js":234,"./bo":235,"./bo.js":235,"./br":236,"./br.js":236,"./bs":237,"./bs.js":237,"./ca":238,"./ca.js":238,"./cs":239,"./cs.js":239,"./cv":240,"./cv.js":240,"./cy":241,"./cy.js":241,"./da":242,"./da.js":242,"./de":243,"./de-at":244,"./de-at.js":244,"./de-ch":245,"./de-ch.js":245,"./de.js":243,"./dv":246,"./dv.js":246,"./el":247,"./el.js":247,"./en-au":248,"./en-au.js":248,"./en-ca":249,"./en-ca.js":249,"./en-gb":250,"./en-gb.js":250,"./en-ie":251,"./en-ie.js":251,"./en-il":252,"./en-il.js":252,"./en-nz":253,"./en-nz.js":253,"./eo":254,"./eo.js":254,"./es":255,"./es-do":256,"./es-do.js":256,"./es-us":257,"./es-us.js":257,"./es.js":255,"./et":258,"./et.js":258,"./eu":259,"./eu.js":259,"./fa":260,"./fa.js":260,"./fi":261,"./fi.js":261,"./fo":262,"./fo.js":262,"./fr":263,"./fr-ca":264,"./fr-ca.js":264,"./fr-ch":265,"./fr-ch.js":265,"./fr.js":263,"./fy":266,"./fy.js":266,"./gd":267,"./gd.js":267,"./gl":268,"./gl.js":268,"./gom-latn":269,"./gom-latn.js":269,"./gu":270,"./gu.js":270,"./he":271,"./he.js":271,"./hi":272,"./hi.js":272,"./hr":273,"./hr.js":273,"./hu":274,"./hu.js":274,"./hy-am":275,"./hy-am.js":275,"./id":276,"./id.js":276,"./is":277,"./is.js":277,"./it":278,"./it.js":278,"./ja":279,"./ja.js":279,"./jv":280,"./jv.js":280,"./ka":281,"./ka.js":281,"./kk":282,"./kk.js":282,"./km":283,"./km.js":283,"./kn":284,"./kn.js":284,"./ko":285,"./ko.js":285,"./ky":286,"./ky.js":286,"./lb":287,"./lb.js":287,"./lo":288,"./lo.js":288,"./lt":289,"./lt.js":289,"./lv":290,"./lv.js":290,"./me":291,"./me.js":291,"./mi":292,"./mi.js":292,"./mk":293,"./mk.js":293,"./ml":294,"./ml.js":294,"./mn":295,"./mn.js":295,"./mr":296,"./mr.js":296,"./ms":297,"./ms-my":298,"./ms-my.js":298,"./ms.js":297,"./mt":299,"./mt.js":299,"./my":300,"./my.js":300,"./nb":301,"./nb.js":301,"./ne":302,"./ne.js":302,"./nl":303,"./nl-be":304,"./nl-be.js":304,"./nl.js":303,"./nn":305,"./nn.js":305,"./pa-in":306,"./pa-in.js":306,"./pl":307,"./pl.js":307,"./pt":308,"./pt-br":309,"./pt-br.js":309,"./pt.js":308,"./ro":310,"./ro.js":310,"./ru":311,"./ru.js":311,"./sd":312,"./sd.js":312,"./se":313,"./se.js":313,"./si":314,"./si.js":314,"./sk":315,"./sk.js":315,"./sl":316,"./sl.js":316,"./sq":317,"./sq.js":317,"./sr":318,"./sr-cyrl":319,"./sr-cyrl.js":319,"./sr.js":318,"./ss":320,"./ss.js":320,"./sv":321,"./sv.js":321,"./sw":322,"./sw.js":322,"./ta":323,"./ta.js":323,"./te":324,"./te.js":324,"./tet":325,"./tet.js":325,"./tg":326,"./tg.js":326,"./th":327,"./th.js":327,"./tl-ph":328,"./tl-ph.js":328,"./tlh":329,"./tlh.js":329,"./tr":330,"./tr.js":330,"./tzl":331,"./tzl.js":331,"./tzm":332,"./tzm-latn":333,"./tzm-latn.js":333,"./tzm.js":332,"./ug-cn":334,"./ug-cn.js":334,"./uk":335,"./uk.js":335,"./ur":336,"./ur.js":336,"./uz":337,"./uz-latn":338,"./uz-latn.js":338,"./uz.js":337,"./vi":339,"./vi.js":339,"./x-pseudo":340,"./x-pseudo.js":340,"./yo":341,"./yo.js":341,"./zh-cn":342,"./zh-cn.js":342,"./zh-hk":343,"./zh-hk.js":343,"./zh-tw":344,"./zh-tw.js":344};function l(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}l.keys=function(){return Object.keys(n)},l.resolve=r,e.exports=l,l.id=593},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.markSeen=function(e){return{type:"API_REQUEST",method:"PATCH",endpoint:"/api/admin/notifications/seen",body:{ids:e},request:"MARK_SEEN_REQUEST",success:"MARK_SEEN_SUCCESS",failure:"MARK_SEEN_FAILURE"}},t.markVisited=function(e){return{type:"API_REQUEST",method:"PATCH",endpoint:"/api/admin/notifications/"+e+"/visited",request:"MARK_VISITED_REQUEST",success:"MARK_VISITED_SUCCESS",failure:"MARK_VISITED_FAILURE"}},t.addNotification=function(e){return{type:"ADD_NOTIFICATION",notification:e}},t.removeNotification=function(e){return{type:"REMOVE_NOTIFICATION",id:e}}},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(a(10)),l=C(a(2)),r=C(a(3)),o=C(a(4)),s=C(a(5)),i=C(a(597)),u=C(a(604)),d=C(a(605)),c=C(a(633)),f=a(202),m=C(a(634)),p=a(11),h=C(a(637)),_=a(656),v=C(a(657)),y=a(20),g=C(a(1)),b=C(a(24)),E=C(a(0)),k=C(a(51));function C(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){(0,l.default)(this,t);var a=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=(0,p.combineReducers)([].concat((0,n.default)(Object.values(b.default)),(0,n.default)(e.reducers))),s=(0,_.createLogger)({collapsed:!0}),y=(0,h.default)(),g=(0,d.default)({url:window.location.protocol+"//"+window.location.hostname+":8082"}),E=(0,m.default)(),C=void 0!==k.default.parse(window.location.search.substr(1)).log,S=[v.default,c.default,u.default,y,g,E,i.default].concat((0,n.default)(C?[s]:[])),T=f.applyMiddleware.apply(void 0,(0,n.default)(S))(f.createStore);return a.store=T(r),a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return E.default.createElement(y.Provider,{store:this.store},this.props.children)}}]),t}(E.default.Component);S.propTypes={reducers:g.default.array,children:g.default.any},t.default=S},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(44));t.default=function(e){return function(t){return function(a){var l=a.type.match(/([a-z0-9_.]*)?\/?([A-Z0-9_]*)/);if("API_UNAUTHENTICATED"!==(0,n.default)(l,3)[2])return t(a);var r=e.getState().maha.admin;if(null===r.teams||null===r.active)return t(a);e.dispatch({type:"maha.admin/REMOVE_TEAM",index:r.active}),e.dispatch({type:"reframe.flash/SET",style:"info",message:"Your session has unexpectedly expired"})}}}},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(7)),l=r(a(44));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){return function(a){var r=a.type.match(/([a-z0-9_.]*)?\/?([A-Z0-9_]*)/);if("API_REQUEST"!==(0,l.default)(r,3)[2])return t(a);var o=e.getState().maha.admin,s=a.fingerprint||o.fingerprint;t((0,n.default)({},a,{headers:(0,n.default)({},a.headers,{Fingerprint:s})}))}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(44)),l=o(a(606)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=["SOCKETIO_INIT","SOCKETIO_JOIN","SOCKETIO_LEAVE","SOCKETIO_MESSAGE"],i=function(e){var t=e.url||e.protocol+"//"+e.hostname+":"+e.port;return e.client||(0,l.default)(t)},u=function(e,t,a,n,l){var r=n.token||null,o=n.channel||null;t.dispatch({type:d(a,n.request),channel:o,data:n.data}),e.emit(l,r,o,n.data,function(e){var l=e?n.success:n.failure;t.dispatch({type:d(a,l),channel:o,data:n.data})})},d=function(e,t){return e?e+"/"+t:t};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e);return function(e){return function(a){return function(l){var o=l.type.match(/([a-z0-9_.]*)?\/?([A-Z0-9_]*)/),i=(0,n.default)(o,3),d=i[1],c=i[2];if(!r.default.includes(s,c))return a(l);if("SOCKETIO_INIT"===c)t.on("connect",l.connect),t.on("disconnect",l.disconnect),t.on("message",l.message),t.on("presence",l.presence);else if("SOCKETIO_JOIN"===c)u(t,e,d,l,"join");else if("SOCKETIO_LEAVE"===c)u(t,e,d,l,"leave");else if("SOCKETIO_MESSAGE"===c){var f=l.verb||"message";u(t,e,d,l,f)}return a(l)}}}}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(44)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=["API_REQUEST","SOCKETIO_JOIN","SOCKETIO_LEAVE","SOCKETIO_MESSAGE"];t.default=function(e){return function(t){return function(a){var o=a.type.match(/([a-z0-9_.]*)?\/?([A-Z0-9_]*)/),i=(0,l.default)(o,3)[2];if(!r.default.includes(s,i))return t(a);var u=e.getState().maha.admin;if(r.default.isNil(u.teams)||r.default.isNil(u.active))return t(a);var d=u.teams[u.active];if(r.default.isNil(d))return t(a);var c=a.token||d.token;t((0,n.default)({},a,{token:c,headers:(0,n.default)({},a.headers,{Authorization:"Bearer "+c})}))}}}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.Tasks=t.Tabs=t.Table=t.RouterStack=t.Stack=t.Searchbox=t.Search=t.Search2=t.Scrollpane=t.SortableList=t.Prompt=t.Panel=t.Progress=t.ModalPanel=t.Message=t.List=t.Loader=t.Infinite=t.Form=t.Filters=t.Control=t.Collection=t.Carousel=t.Button=t.Buttons=void 0;var n=N(a(363)),l=N(a(68)),r=N(a(664)),o=N(a(668)),s=N(a(396)),i=N(a(168)),u=N(a(405)),d=N(a(69)),c=N(a(370)),f=N(a(867)),m=N(a(103)),p=N(a(81)),h=N(a(870)),_=N(a(871)),v=N(a(872)),y=N(a(155)),g=N(a(369)),b=N(a(876)),E=N(a(169)),k=N(a(70)),C=N(a(410)),S=N(a(881)),T=N(a(368)),P=N(a(884)),M=N(a(888)),O=N(a(170));function N(e){return e&&e.__esModule?e:{default:e}}t.Buttons=n.default,t.Button=l.default,t.Carousel=r.default,t.Collection=o.default,t.Control=s.default,t.Filters=i.default,t.Form=u.default,t.Infinite=d.default,t.Loader=c.default,t.List=f.default,t.Message=m.default,t.ModalPanel=p.default,t.Progress=h.default,t.Panel=_.default,t.Prompt=v.default,t.SortableList=y.default,t.Scrollpane=g.default,t.Search2=b.default,t.Search=E.default,t.Searchbox=k.default,t.Stack=C.default,t.RouterStack=S.default,t.Table=T.default,t.Tabs=P.default,t.Tasks=M.default,t.Token=O.default},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={error:null,result:null,status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"REQUEST_REQUEST":return(0,n.default)({},e,{status:"submitting"});case"REQUEST_FAILURE":return(0,n.default)({},e,{status:"failure",error:t.result.error.message});case"REQUEST_SUCCESS":return(0,n.default)({},e,{result:t.result.data,status:"success"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(7)),l=d(a(2)),r=d(a(3)),o=d(a(4)),s=d(a(5)),i=d(a(0)),u=d(a(1));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.component,n=e.icon,l=e.label,r=e.text;return i.default.createElement("div",this._getButton(),n&&i.default.createElement("i",{className:"fa fa-fw fa-"+n}),l||r||t,a)}},{key:"_getButton",value:function(){var e=this.props,t=e.disabled,a=e.link;return{href:a||null,className:this._getClass(),disabled:t,target:a?"_blank":null,onClick:a?null:this._handleClick.bind(this)}}},{key:"_getClass",value:function(){var e=this.props,t=e.component,a=e.basic,n=e.className,l=e.color,r=e.disabled,o=e.mobile,s=e.status;if(t)return"";var i=n?n.split(" "):["ui",l,"fluid","button"];return i.push("reframe-button"),!1!==o&&i.push("mobile"),a&&i.push("basic"),r&&i.push("disabled"),"submitting"===s&&i.push("loading"),i.join(" ")}},{key:"componentDidUpdate",value:function(e){var t=this.context.flash,a=this.props,n=a.error,l=a.status;e.status!==l&&"failure"===l&&t.set("error",n)}},{key:"_handleClick",value:function(){var e=this,t=this.props,a=t.confirm,n=t.disabled,l=t.drawer,r=t.handler,o=t.location,s=t.modal,i=t.request,u=t.route,d=t.onDone;if(!n){var c=function(){u&&e._handleRoute(u),i&&e._handleRequest(i),s&&e._handleModal(s),l&&e._handleDrawer(l,o),r&&e._handleFunction(r)};if(d(),a)return this.context.confirm.open(a,c);c()}}},{key:"_handleRoute",value:function(e){this.context.router.push(e)}},{key:"_handleModal",value:function(e){this.context.modal.open(e)}},{key:"_handleDrawer",value:function(e,t){this.context.drawer.open(e,t)}},{key:"_handleFunction",value:function(e){e(function(){})}},{key:"_handleRequest",value:function(e){(0,this.props.onRequest)((0,n.default)({},e,{body:null,params:null}))}}]),t}(i.default.Component);c.contextTypes={confirm:u.default.object,drawer:u.default.object,flash:u.default.object,modal:u.default.object,router:u.default.object},c.propTypes={basic:u.default.bool,className:u.default.string,color:u.default.string,component:u.default.any,confirm:u.default.any,children:u.default.any,disabled:u.default.bool,drawer:u.default.any,error:u.default.string,location:u.default.string,handler:u.default.func,icon:u.default.string,label:u.default.string,link:u.default.string,mobile:u.default.bool,modal:u.default.oneOfType([u.default.element,u.default.func]),request:u.default.shape({method:u.default.string,endpoint:u.default.string,onFailure:u.default.func,onSuccess:u.default.func}),route:u.default.string,status:u.default.string,text:u.default.string,onDone:u.default.func,onRequest:u.default.func},c.defaultProps={basic:!1,mobile:!0,disabled:!1,onDone:function(){}},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.request=function(e){return{type:"API_REQUEST",method:e.method,endpoint:e.endpoint,body:e.body,request:"REQUEST_REQUEST",success:"REQUEST_SUCCESS",failure:"REQUEST_FAILURE",onSuccess:e.onSuccess,onFailure:e.onFailure}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(665)),r=s(a(666)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(667));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.carousel",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={direction:"left",active:0,total:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_TOTAL":return function(e,t){return(0,n.default)({},e,{total:t.total})}(e,t);case"PREVIOUS":return function(e,t){return(0,n.default)({},e,{direction:"right",active:0===e.active?e.total-1:e.active-1})}(e);case"NEXT":return function(e,t){return(0,n.default)({},e,{direction:"left",active:e.active===e.total-1?0:e.active+1})}(e);case"GOTO":return function(e,t){return(0,n.default)({},e,{direction:t.index>e.index||e.index===e.total&&0===t.index?"left":"right",active:t.index})}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(10)),l=d(a(2)),r=d(a(3)),o=d(a(4)),s=d(a(5)),i=d(a(0)),u=d(a(1));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._swipe={},n.state={active:0,transitioning:!1},r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.active,l=t.infinite,r=t.slides,o=t.total;return i.default.createElement("div",{className:"reframe-carousel"},o>0&&i.default.createElement("div",this._getTheatre(),o>1&&(l||a>0)&&i.default.createElement("div",{className:"reframe-carousel-previous",onClick:this._handlePrevious.bind(this)},i.default.createElement("i",{className:"fa fa-fw fa-chevron-left"})),i.default.createElement("div",{className:"reframe-carousel-slides"},r.map(function(t,a){return i.default.createElement("div",{key:"slide_"+a,className:e._getSlideClass(a)},t)})),o>1&&(l||a<o-1)&&i.default.createElement("div",{className:"reframe-carousel-next",onClick:this._handleNext.bind(this)},i.default.createElement("i",{className:"fa fa-fw fa-chevron-right"}))),o>1&&i.default.createElement("div",{className:"reframe-carousel-pagination"},[].concat((0,n.default)(Array(o))).map(function(t,a){return i.default.createElement("div",{key:"button_"+a,className:e._getButtonClass(a),onClick:e._handleGoto.bind(e,a)})})))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.slides;(0,e.onSetTotal)(t.length)}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.active,l=a.slides,r=a.onSetTotal;l.length!==e.slides.length&&r(l.length),n!=e.active&&(setTimeout(function(){return t.setState({transitioning:!0})},100),setTimeout(function(){return t.setState({active:n,transitioning:!1})},600))}},{key:"_getSlideClass",value:function(e){var t=this.state.active,a=this.props.active,n=this.props.direction,l=this.state.transitioning,r=["reframe-carousel-slide"],o=a!==t&&"right"===n,s=a!==t&&"left"===n;return e===t&&r.push("active"),s&&e===a&&r.push("next"),o&&e===a&&r.push("prev"),l&&s&&(e===a||e===t)&&r.push("left"),l&&o&&(e===a||e===t)&&r.push("right"),r.join(" ")}},{key:"_getButtonClass",value:function(e){var t=["reframe-carousel-pagination-button"];return e===this.props.active&&t.push("active"),t.join(" ")}},{key:"_getTheatre",value:function(){return{className:"reframe-carousel-theatre",onTouchStart:this._handleTouchStart.bind(this),onTouchMove:this._handleTouchMove.bind(this),onTouchEnd:this._handleTouchEnd.bind(this)}}},{key:"_handlePrevious",value:function(){this.props.onPrevious()}},{key:"_handleNext",value:function(){this.props.onNext()}},{key:"_handleGoto",value:function(e){this.props.onGoto(e)}},{key:"_handleTouchStart",value:function(e){this._swipe={x:e.touches[0].clientX}}},{key:"_handleTouchMove",value:function(e){e.changedTouches&&e.changedTouches.length&&(this._swipe.swiping=!0)}},{key:"_handleTouchEnd",value:function(e){var t=e.changedTouches[0].clientX-this._swipe.x;this._swipe.swiping&&Math.abs(t)>30&&(t>0&&this.props.onPrevious(),t<0&&this.props.onNext()),this._swipe={}}}]),t}(i.default.Component);c.propTypes={active:u.default.number,direction:u.default.string,infinite:u.default.bool,slides:u.default.array,total:u.default.number,onSetTotal:u.default.func,onGoto:u.default.func,onNext:u.default.func,onPrevious:u.default.func},c.defaultProps={infinite:!0,slides:[]},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setTotal=function(e){return{type:"SET_TOTAL",total:e}},t.previous=function(){return{type:"PREVIOUS"}},t.next=function(){return{type:"NEXT"}},t.goto=function(e){return{type:"GOTO",index:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=u(a(669)),r=u(a(670)),o=i(a(816)),s=i(a(817));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.collection",component:r.default,reducer:l.default,selectors:s,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={columns:[],filter:{},managing:!1,open:!1,panel:null,q:"",records:null,selected:[],sort:{key:null,order:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_PARAMS":return function(e,t){return(0,n.default)({},e,{filter:t.filter,sort:t.sort})}(e,t);case"SET_COLUMNS":return function(e,t){return(0,n.default)({},e,{columns:t.columns})}(e,t);case"SET_SELECTED":return function(e,t){return(0,n.default)({},e,{selected:t.selected})}(e,t);case"FILTER":return function(e,t){return(0,n.default)({},e,{filter:t.filter})}(e,t);case"SORT":return function(e,t){return(0,n.default)({},e,{sort:{key:t.key,order:e.sort.key==t.key&&"asc"==e.sort.order?"desc":"asc"}})}(e,t);case"SET_RECORDS":return function(e,t){return(0,n.default)({},e,{records:t.records})}(e,t);case"SET_FILTER":return function(e,t){return(0,n.default)({},e,{filter:t.filter})}(e,t);case"SET_QUERY":return function(e,t){return(0,n.default)({},e,{q:t.q})}(e,t);case"TOGGLE_TASKS":return function(e,t){return(0,n.default)({},e,{managing:!e.managing})}(e);case"ADD_PANEL":return function(e,t){return(0,n.default)({},e,{open:!0,panel:t.panel})}(e,t);case"REMOVE_PANEL":return function(e,t){return(0,n.default)({},e,{open:!1})}(e);case"CLEAR_PANEL":return function(e,t){return(0,n.default)({},e,{panel:null})}(e);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(7)),l=y(a(2)),r=y(a(3)),o=y(a(4)),s=y(a(5)),i=a(21),u=a(677),d=y(a(69)),c=y(a(1)),f=y(a(363)),m=y(a(682)),p=y(a(686)),h=y(a(0)),_=y(a(9)),v=y(a(51));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.buttons,a=e.endpoint,n=e.records;return h.default.createElement("div",{className:this._getClass()},h.default.createElement("div",{className:"reframe-collection-canvas",onClick:this._handleToggleTasks.bind(this)}),h.default.createElement(p.default,this._getTasks()),h.default.createElement("div",{className:"reframe-collection-body"},h.default.createElement(m.default,this._getHeader()),n&&h.default.createElement(u.Results,this._getResults()),a&&h.default.createElement(d.default,this._getInfinite()),h.default.createElement(i.CSSTransition,{in:!_.default.isNil(t)&&!_.default.isNil(t(this.props)),classNames:"expanded",timeout:150,mountOnEnter:!0,unmountOnExit:!0},h.default.createElement("div",{className:"reframe-collection-footer"},h.default.createElement("div",{className:"reframe-collection-footer-items"},h.default.createElement(f.default,this._getButtons()))))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.defaultSort,n=e.table,l=e.onSetParams,r=e.onSetColumns,o=e.onSetRecords;l(this._getFilterFromUrl()||this.props.filter||{},a||{key:"created_at",order:"desc"}),n&&r(n),t&&o(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.filter,a=this.context.router;if(!_.default.isEqual(t,e.filter)){var n=v.default.stringify({$filter:t},{encode:!1});a.replace(a.pathname+"?"+n)}}},{key:"_getFilterFromUrl",value:function(){var e=this.context.router.search;if(_.default.isEmpty(e))return null;var t=v.default.parse(e.substr(1));return t.$filter?t.$filter:null}},{key:"_getClass",value:function(){var e=["reframe-collection"];return this.props.managing&&e.push("managing"),e.join(" ")}},{key:"_getHeader",value:function(){var e=this.props,t=e.filter,a=e.filters,n=e.managing,l=e.search,r=e.tasks,o=e.onSetQuery,s=e.onToggleTasks;return{export:this.props.export,filter:t,filters:a,managing:n,search:l,tasks:r,onSetQuery:o,onToggleTasks:s}}},{key:"_getButtons",value:function(){return this.props.buttons?{buttons:this.props.buttons(this.props)}:{buttons:null}}},{key:"_getTasks",value:function(){return this.props}},{key:"_getResults",value:function(){return(0,n.default)({},this.props)}},{key:"_getInfinite",value:function(){var e=this,t=this.props,a=t.cacheKey,l=t.endpoint,r=t.failure,o=t.loading,s=t.q,i=t.sort,d=t.onSetSelected;return{cacheKey:a,endpoint:l,filter:(0,n.default)({},this.props.filter,{q:s}),footer:!!this.props.footer&&function(e){var t=e.all,a=e.total;return t?h.default.createElement("span",null,h.default.createElement("strong",null,"NOW SHOWING:")," ",a," / ",t," records"):""},loading:o,empty:this._getEmpty(),failure:r,layout:function(t){return h.default.createElement(u.Results,(0,n.default)({},e.props,t))},sort:i,onUpdateSelected:d}}},{key:"_getEmpty",value:function(){var e=this.props.empty;return _.default.isFunction(e)?h.default.createElement(e,this.props):h.default.createElement(u.Empty,this.props)}},{key:"_handleToggleTasks",value:function(){this.props.onToggleTasks()}},{key:"_handleAddNew",value:function(){this.context.modal.open(this.props.empty.modal)}}]),t}(h.default.Component);g.contextTypes={modal:c.default.object,router:c.default.object},g.propTypes={buttons:c.default.oneOfType([c.default.func,c.default.array]),cacheKey:c.default.string,columns:c.default.array,data:c.default.array,defaultSort:c.default.object,endpoint:c.default.string,entity:c.default.string,empty:c.default.oneOfType([c.default.func,c.default.element,c.default.string]),export:c.default.array,failure:c.default.oneOfType([c.default.func,c.default.element]),filter:c.default.object,filters:c.default.array,footer:c.default.bool,handler:c.default.func,icon:c.default.string,layout:c.default.func,loading:c.default.oneOfType([c.default.func,c.default.element]),link:c.default.func,managing:c.default.bool,modal:c.default.string,new:c.default.func,open:c.default.bool,panel:c.default.any,q:c.default.string,records:c.default.array,recordTasks:c.default.array,rowClass:c.default.func,search:c.default.bool,selected:c.default.array,selectable:c.default.bool,sort:c.default.object,table:c.default.array,tasks:c.default.array,token:c.default.string,onAddPanel:c.default.func,onClearPanel:c.default.func,onFetch:c.default.func,onRemovePanel:c.default.func,onSelect:c.default.func,onSelectAll:c.default.func,onSetColumns:c.default.func,onSetFilter:c.default.func,onSetParams:c.default.func,onSetQuery:c.default.func,onSetSelected:c.default.func,onSetRecords:c.default.func,onToggleTasks:c.default.func},g.defaultProps={cacheKey:null,entity:"record",footer:!0,search:!0,selectable:!1},t.default=g},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Results=t.Empty=void 0;var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=p(a(1)),u=p(a(153)),d=p(a(103)),c=p(a(368)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}t.Empty=function(e){var t=e.empty,a=e.entity,n=e.icon,l=(0,u.default)(a.replace("_"," ")),r=t||"You have not yet created any "+l,o=e.new?{label:"Create New "+m.default.startCase(a.replace("_"," ")),modal:e.new}:null,s={icon:n,title:"No "+m.default.startCase((0,u.default)(a.replace("_"," "))),text:r,button:o};return f.default.createElement(d.default,s)};(t.Results=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.layout;return e.table?f.default.createElement(c.default,this._getTable()):t?f.default.createElement(t,(0,n.default)({},this._getCustomLayout())):void 0}},{key:"_getTable",value:function(){var e=this.props;return{columns:e.columns,handler:e.handler,link:e.link,modal:e.modal,records:e.records,recordTasks:e.recordTasks,rowClass:e.rowClass,selectAll:e.selectAll,selectable:e.selectable,selected:e.selected,sort:e.sort,status:e.status,onLoadMore:e.onLoadMore,onSelect:e.onSelect,onSelectAll:e.onSelectAll,onSort:e.onSort}}},{key:"_getCustomLayout",value:function(){var e=this.props;return{records:e.records,sort:e.sort,status:e.status,onLoadMore:e.onLoadMore,onSort:e.onSort}}}]),t}(f.default.Component)).propTypes={columns:i.default.array,handler:i.default.func,layout:i.default.any,link:i.default.func,modal:i.default.func,records:i.default.array,recordTasks:i.default.array,rowClass:i.default.func,selectable:i.default.bool,selectAll:i.default.bool,selected:i.default.array,sort:i.default.object,status:i.default.string,table:i.default.array,onLoadMore:i.default.func,onSelect:i.default.func,onSelectAll:i.default.func,onSort:i.default.func}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s={records:null,request_id:null,selectAll:!1,selected:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"FETCH_REQUEST":return function(e,t){return(0,l.default)({},e,{request_id:t.request_id,status:"pending"!==status&&0===t.request.params.$page.skip?"loading":"refreshing"})}(e,t);case"FETCH_SUCCESS":return function(e,t){if(t.request_id!==e.request_id)return e;if(!r.default.includes(["loading","refreshing","delayed"],e.status))return e;var a=e.records?e.records.length:0;return void 0!==t.result.pagination.all?(0,l.default)({},e,{all:t.result.pagination.all,request_id:null,records:t.result.pagination.skip>0?[].concat((0,n.default)(e.records||[]),(0,n.default)(t.result.data)):t.result.data,total:t.result.pagination.total,status:a+t.result.data.length>=t.result.pagination.total?"completed":"loaded"}):void 0!==t.result.pagination.next?(0,l.default)({},e,{next:t.result.pagination.next,request_id:null,records:t.result.pagination.skip>0?[].concat((0,n.default)(e.records||[]),(0,n.default)(t.result.data)):t.result.data,status:null===t.result.pagination.next?"completed":"loaded"}):void 0}(e,t);case"FETCH_FAILURE":return function(e,t){return(0,l.default)({},e,{status:"failed"})}(e);case"FETCH_DELAY":return function(e,t){return(0,l.default)({},e,{status:"delayed"})}(e);case"FETCH_TIMEOUT":return function(e,t){return(0,l.default)({},e,{status:"timeout"})}(e);case"SELECT":return function(e,t){var a=r.default.includes(e.selected,t.id)?e.selected.filter(function(e){return e!==t.id}):[].concat((0,n.default)(e.selected),[t.id]),o=e.records?e.records.map(function(e){return e.id}):[],s=r.default.isEqual(o.sort(),a.sort());return(0,l.default)({},e,{selectAll:s,selected:a})}(e,t);case"SELECT_ALL":return function(e,t){var a=e.records?e.records.map(function(e){return e.id}):[],n=!r.default.isEqual(a.sort(),e.selected.sort());return(0,l.default)({},e,{selectAll:n,selected:n?a:[]})}(e);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(14)),l=h(a(7)),r=h(a(2)),o=h(a(3)),s=h(a(4)),i=h(a(5)),u=h(a(0)),d=h(a(1)),c=h(a(9)),f=h(a(369)),m=a(680),p=a(20);function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.timeout=null,l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.all,a=e.delayed,n=e.empty,l=e.failure,r=e.footer,o=e.header,s=e.layout,i=e.loading,d=e.notFound,c=e.records,p=e.status,h=e.timeout,_=e.total;return u.default.createElement("div",{className:"reframe-infinite"},o&&u.default.createElement("div",{className:"reframe-infinite-header"},u.default.createElement(o,this.props)),"loading"===p&&!c&&this._getComponent(i),"delayed"===p&&this._getComponent(a),"timeout"===p&&this._getComponent(h),"failed"===p&&this._getComponent(l),"failed"!==p&&0===_&&0!==t&&this._getComponent(d),"failed"!==p&&0===_&&0===t&&this._getComponent(n),"failed"!==p&&c&&c.length>0&&s&&u.default.createElement(f.default,this._getScrollpane(),u.default.createElement(s,this.props)),"loading"===p&&c&&c.length>0&&this._getComponent(m.Appending),r&&null!==_&&0!==_&&u.default.createElement("div",{className:"reframe-infinite-footer"},u.default.createElement(r,this.props)))}},{key:"componentDidMount",value:function(){this.timeout=null,this._handleFetch(0,!0)}},{key:"shouldComponentUpdate",value:function(e,t){var a=this;return Object.keys(c.default.omit(this.props,["con","empty","layout","footer","router"])).reduce(function(t,n){return t||!c.default.isEqual(a.props[n],e[n])},!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.cacheKey,n=t.exclude_ids,l=t.filter,r=t.records,o=t.selected,s=t.sort,i=t.status,u=t.onUpdateSelected;if(this.timeout&&i!==e.status&&"loading"===e.status&&clearTimeout(this.timeout),a===e.cacheKey&&c.default.isEqual(e.exclude_ids,n)&&c.default.isEqual(e.filter,l)&&c.default.isEqual(e.sort,s)||this._handleFetch(0,!0),o!==e.selected&&o&&r){var d=r.filter(function(e){return c.default.includes(o,e.id)});u&&u(d)}}},{key:"_getComponent",value:function(e){return c.default.isFunction(e)?u.default.createElement(e,this.props):e}},{key:"_getScrollpane",value:function(){return{onReachBottom:this._handleFetch.bind(this)}}},{key:"_handleFetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props,n=a.endpoint,r=a.exclude_ids,o=a.filter,s=a.next,i=a.records,u=a.sort,d=a.total,c=a.onFetch,f=i?i.length:0,m=(0,l.default)({$page:this._getPagination(e)},o?{$filter:o}:{},u&&u.key?{$sort:("desc"===u.order?"-":"")+u.key}:{},r?{$exclude_ids:r}:{});c&&this._getMore(s,e,t,f,d)&&c(n,m),this.timeout=setTimeout(this._handleDelay.bind(this),5e3)}},{key:"_getMore",value:function(e,t,a,n,l){return!!a||(void 0!==e?null!==e:void 0===l&&0===t||(void 0!==l?n<l:void 0))}},{key:"_getPagination",value:function(e){var t=this.props,a=t.next,n=t.records,l=n?n.length:0;return a?{next:a}:{skip:null!==e?e:l}}},{key:"_handleDelay",value:function(){var e=this.props,t=e.status,a=e.onFetchDelay;"loading"===t&&(a&&a(),this.timeout=setTimeout(this._handleTimeout.bind(this),5e3))}},{key:"_handleTimeout",value:function(){var e=this.props,t=e.status,a=e.onFetchTimeout;"delyed"===t&&a&&a()}},{key:"_handleRefresh",value:function(){var e=this.props.onFetchTimeout;e&&e()}}]),t}(u.default.Component);_.propTypes={all:d.default.number,cacheKey:d.default.string,delayed:d.default.any,endpoint:d.default.any,empty:d.default.any,exclude_ids:d.default.any,failure:d.default.any,filter:d.default.object,footer:d.default.any,header:d.default.any,layout:d.default.any,loading:d.default.any,next:d.default.string,notFound:d.default.any,records:d.default.array,selected:d.default.array,sort:d.default.object,status:d.default.string,timeout:d.default.any,total:d.default.number,onFetch:d.default.func,onFetchDelay:d.default.func,onFetchTimeout:d.default.func,onUpdateSelected:d.default.func},_.defaultProps={cacheKey:null,delayed:m.Delayed,empty:m.Empty,failure:m.Failure,filter:{},footer:null,header:null,loading:m.Loader,notFound:m.NotFound,sort:{key:null,order:null},timeout:m.Timeout,onUpdateSelected:function(e){}};t.default=(0,p.connect)(function(e,t){return t.selectors?Object.keys(t.selectors).reduce(function(a,r){return(0,l.default)({},a,(0,n.default)({},r,t.selectors[r](e,t)))},{}):{}})(_)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Failure=t.NotFound=t.Empty=t.Timeout=t.Delayed=t.Appending=t.Loader=void 0;var n=o(a(370)),l=o(a(103)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}t.Loader=n.default;t.Appending=function(){return r.default.createElement("div",{className:"reframe-infinite-loader"},r.default.createElement("div",{className:"ui active inverted dimmer"},r.default.createElement("div",{className:"ui small loader"})))},t.Delayed=function(){return r.default.createElement(l.default,{text:"This is taking longer than we expected..."})},t.Timeout=function(){return r.default.createElement(l.default,{icon:"hourglass-end",title:"Your request timed out",text:"It took too long to complete your request"})},t.Empty=function(){return r.default.createElement(l.default,{icon:"times",title:"No records",text:"There are no records"})},t.NotFound=function(){return r.default.createElement(l.default,{icon:"times",title:"No Results Found",text:"No records matched your query"})},t.Failure=function(){return r.default.createElement(l.default,{icon:"exclamation-triangle ",title:"Unable to load records",text:"There was a problem with fetching your data"})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetch=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:e,query:t,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.fetchDelay=function(){return{type:"FETCH_DELAY"}},t.fetchTimeout=function(){return{type:"FETCH_TIMEOUT"}},t.select=function(e){return{type:"SELECT",id:e}},t.selectAll=function(){return{type:"SELECT_ALL"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(70));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.filters,a=(e.filter,e.search),n=e.tasks;return t||this.props.export||a||n?s.default.createElement("div",{className:"reframe-collection-header"},a&&s.default.createElement(u.default,this._getSearchbox())):null}},{key:"_getSearchbox",value:function(){var e=this.props,t=e.filters,a=e.managing,n=e.tasks,l=e.onSetQuery;return{icon:t||this.props.export||n?a?"times":"sliders":null,onIcon:this._handleToggleTasks.bind(this),onChange:l}}},{key:"_handleToggleTasks",value:function(){this.props.onToggleTasks()}}]),t}(s.default.Component);c.propTypes={export:i.default.array,filters:i.default.array,filter:i.default.object,managing:i.default.bool,search:i.default.bool,tasks:i.default.array,onSetQuery:i.default.func,onToggleTasks:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={active:!1,q:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"BEGIN":return function(e,t){return(0,n.default)({},e,{active:!0})}(e);case"END":return function(e,t){return(0,n.default)({},e,{active:!1})}(e);case"TYPE":return function(e,t){return(0,n.default)({},e,{q:t.q})}(e,t);case"ABORT":return function(e,t){return(0,n.default)({},e,{q:""})}(e);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),d=0;d<s;d++)i[d]=arguments[d];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChange=u.default.throttle(l._handleChange,500),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.q;return i.default.createElement("div",{className:this._getClass()},i.default.createElement("div",{className:"reframe-searchbox-container"},t&&i.default.createElement("div",{className:"reframe-searchbox-extra",onClick:this._handleIcon.bind(this)},i.default.createElement("i",{className:"fa fa-fw fa-"+t})),i.default.createElement("div",{className:"reframe-searchbox-input"},i.default.createElement("div",{className:"reframe-searchbox-icon"},i.default.createElement("i",{className:"fa fa-search"})),i.default.createElement("div",{className:"reframe-searchbox-field"},i.default.createElement("input",this._getInput())),a.length>0&&i.default.createElement("div",{className:"reframe-searchbox-remove-icon",onClick:this._handleAbort.bind(this)},i.default.createElement("i",{className:"fa fa-times-circle"})))))}},{key:"_getClass",value:function(){var e=["reframe-searchbox"];return this.props.active&&e.push("active"),e.join(" ")}},{key:"_getInput",value:function(){var e=this.props;return{type:"text",placeholder:e.prompt,value:e.q,onFocus:this._handleBegin.bind(this),onBlur:this._handleEnd.bind(this),onChange:this._handleType.bind(this)}}},{key:"componentDidUpdate",value:function(e){var t=this.props.q;t!==e.q&&this._handleChange(t)}},{key:"_handleIcon",value:function(){this.props.onIcon()}},{key:"_handleBegin",value:function(){this.props.onBegin()}},{key:"_handleChange",value:function(e){this.props.onChange(e)}},{key:"_handleEnd",value:function(){this.props.onEnd()}},{key:"_handleType",value:function(e){(0,this.props.onType)(e.target.value)}},{key:"_handleAbort",value:function(){this.props.onAbort()}}]),t}(i.default.Component);c.propTypes={active:s.default.bool,icon:s.default.string,prompt:s.default.string,q:s.default.string,onAbort:s.default.func,onBegin:s.default.func,onChange:s.default.func,onEnd:s.default.func,onIcon:s.default.func,onType:s.default.func},c.defaultProps={prompt:"Search...",q:"",onChange:function(e){}},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.begin=function(){return{type:"BEGIN"}},t.end=function(){return{type:"END"}},t.type=function(e){return{type:"TYPE",q:e}},t.abort=function(){return{type:"ABORT"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(7)),l=_(a(2)),r=_(a(3)),o=_(a(4)),s=_(a(5)),i=a(21),u=_(a(1)),d=_(a(687)),c=_(a(168)),f=_(a(815)),m=_(a(68)),p=_(a(0)),h=_(a(9));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.filters,l=t.open,r=t.panel,o=t.table,s=t.tasks;return p.default.createElement("div",{className:"reframe-collection-tasks"},p.default.createElement("div",{className:"reframe-collection-tasks-inner"},p.default.createElement("div",{className:"reframe-collection-tasks-panel-container"},p.default.createElement("div",{className:"reframe-collection-tasks-panel"},p.default.createElement("div",{className:"reframe-collection-tasks-panel-header mobile"},p.default.createElement("div",{className:"reframe-collection-tasks-panel-header-icon"}),p.default.createElement("div",{className:"reframe-collection-tasks-panel-header-title"},"Tasks"),p.default.createElement("div",{className:"reframe-collection-tasks-panel-header-icon ",onClick:this._handleToggleTasks.bind(this)},"Done")),p.default.createElement("div",{className:"reframe-collection-tasks-panel-body"},o&&p.default.createElement("div",{className:"reframe-collection-tasks-panel-item",onClick:this._handleColumns.bind(this)},p.default.createElement("i",{className:"fa fa-fw fa-table"}),"Manage Columns"),a&&p.default.createElement("div",{className:"reframe-collection-tasks-panel-item mobile",onClick:this._handleFilter.bind(this)},p.default.createElement("i",{className:"fa fa-fw fa-filter"}),"Filter Records"),this.props.export&&p.default.createElement("div",{className:"reframe-collection-tasks-panel-item",onClick:this._handleExport.bind(this)},p.default.createElement("i",{className:"fa fa-fw fa-download"}),"Export Records"),s&&s.map(function(t,a){return p.default.createElement(m.default,(0,n.default)({key:"task_"+a},e._getTask(t)))})))),p.default.createElement(i.CSSTransition,{in:l,classNames:"cover",timeout:500,mountOnEnter:!0,unmountOnExit:!0},p.default.createElement("div",{className:"reframe-collection-tasks-panel-container"},h.default.isFunction(r)?p.default.createElement(r,this.props):r))))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.open,n=t.onClearPanel;a===e.open||a||setTimeout(n,500)}},{key:"_getTask",value:function(e){return(0,n.default)({className:"reframe-collection-tasks-panel-item",label:e.label,mobile:e.mobile,icon:e.icon,rights:e.rights},this._getTaskAction(e))}},{key:"_getTaskAction",value:function(e){var t=this;return e.panel?{handler:function(){return t.props.onAddPanel(e.panel)}}:e.handler?{handler:function(){return e.handler(t.props)}}:e.request?{request:function(){return e.request(t.props)}}:void 0}},{key:"_handleToggleTasks",value:function(){this.props.onToggleTasks()}},{key:"_handleColumns",value:function(){var e=this;this.props.onAddPanel(function(t){var a=t.table,n=t.columns,l=t.onSetColumns;return p.default.createElement(d.default,{table:a,columns:n,onSetColumns:l,onDone:function(){return e.props.onRemovePanel()}})})}},{key:"_handleFilter",value:function(){var e=this;this.props.onAddPanel(function(t){var a=t.entity,n=t.filters,l=t.filter,r=t.onSetFilter,o=h.default.includes(["a","e","i","o"],a[0])?"an":"a";return p.default.createElement(c.default,{filters:n,values:l,prompt:"Find "+o+" "+a,onUpdate:r,onDone:function(){return e.props.onRemovePanel()}})})}},{key:"_handleExport",value:function(){var e=this;this.props.onAddPanel(function(t){var a=t.endpoint,n=t.entity,l=t.filter,r=t.sort,o=t.token;return p.default.createElement(f.default,{defaultValue:e.props.export,endpoint:a,entity:n,filter:l,sort:r.key?("desc"===r.order?"-":"")+r.key:null,token:o,onDone:function(){return e.props.onRemovePanel()}})})}}]),t}(p.default.Component);v.propTypes={export:u.default.array,filters:u.default.array,open:u.default.bool,panel:u.default.oneOfType([u.default.element,u.default.func]),table:u.default.array,tasks:u.default.array,onClearPanel:u.default.func,onAddPanel:u.default.func,onRemovePanel:u.default.func,onToggleTasks:u.default.func},t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(155)),u=(c(a(1)),c(a(0))),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"reframe-collection-tasks-panel"},u.default.createElement("div",{className:"reframe-collection-tasks-panel-header"},u.default.createElement("div",{className:"reframe-collection-tasks-panel-header-icon",onClick:this._handleDone.bind(this)},u.default.createElement("i",{className:"fa fa-chevron-left"})),u.default.createElement("div",{className:"reframe-collection-tasks-panel-header-title"},"Manage Columns"),u.default.createElement("div",{className:"reframe-collection-tasks-panel-header-icon"})),u.default.createElement("div",{className:"reframe-collection-tasks-panel-body"},u.default.createElement(i.default,this._getSortableList())),u.default.createElement("div",{className:"reframe-collection-tasks-panel-footer",onClick:this._handleReset.bind(this)},"Reset Columns"))}},{key:"_getSortableList",value:function(){var e=this.props,t=e.columns,a=e.onSetColumns;return{defaultValue:t.map(function(e){return{label:e.label,checked:!1!==e.visible}}),onUpdate:function(e){return a(e.map(function(e){return(0,n.default)({},d.default.find(t,{label:e.label}),{visible:e.checked})}))}}}},{key:"_handleReset",value:function(){this.props.onSetColumns(this.props.table)}},{key:"_handleDone",value:function(){this.props.onDone()}}]),t}(u.default.Component);t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o={items:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"SET":return function(e,t){return(0,l.default)({},e,{items:t.items})}(e,t);case"TOGGLE":return function(e,t){return(0,l.default)({},e,{items:e.items.map(function(e,a){return a!==t.index?e:(0,l.default)({},e,{checked:!e.checked})})})}(e,t);case"MOVE":return function(e,t){return(0,l.default)({},e,{items:t.from<t.to?[].concat((0,n.default)(e.items.slice(0,t.from)),(0,n.default)(e.items.slice(t.from+1,t.to+1)),[e.items[t.from]],(0,n.default)(e.items.slice(t.to+1))):[].concat((0,n.default)(e.items.slice(0,t.to)),[e.items[t.from]],(0,n.default)(e.items.slice(t.to,t.from)),(0,n.default)(e.items.slice(t.from+1)))})}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=m(a(690)),u=(m(a(1)),a(385)),d=m(a(0)),c=m(a(797)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.items;return d.default.createElement("div",{className:"reframe-sortable-list"},t.map(function(t,a){return d.default.createElement(c.default,(0,n.default)({key:"item_"+a},e._getItem(t,a)))}))}},{key:"componentDidMount",value:function(){this.props.defaultValue&&this._handleSet()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.defaultValue,n=t.items,l=t.onUpdate;f.default.isEqual(e.items,n)||l(n),f.default.isEqual(e.defaultValue,a)||this._handleSet()}},{key:"_getItem",value:function(e,t){var a=this.props,n=a.onMove,l=a.onToggle;return{label:e.label,checked:e.checked,index:t,onMove:n.bind(this),onToggle:l.bind(this)}}},{key:"_handleSet",value:function(){var e=this.props,t=e.defaultValue;(0,e.onSet)(t.map(function(e){return(0,n.default)({},e,{checked:!1!==e.checked})}))}}]),t}(d.default.Component);t.default=(0,u.DragDropContext)(i.default)(p)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(385),i=a(40),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.connectDropTarget,n=e.connectDragPreview,l=e.connectDragSource;return a(n(u.default.createElement("div",{className:this._getClass()},u.default.createElement("div",{className:"reframe-sortable-list-label",onClick:this._handleToggle.bind(this)},u.default.createElement("i",{className:"fa fa-fw fa-"+this._getIcon()}),t),l(u.default.createElement("div",{className:"reframe-sortable-list-icon"},u.default.createElement("i",{className:"fa fa-bars"}))))))}},{key:"_getClass",value:function(){var e=["reframe-sortable-list-item"];return this.props.checked||e.push("disabled"),e.join(" ")}},{key:"_getIcon",value:function(){return this.props.checked?"check-square":"square-o"}},{key:"_handleToggle",value:function(){this.props.onToggle(this.props.index)}}]),t}(u.default.Component),f={hover:function(e,t,a){var n=t.getItem().index,l=e.index;if(n!==l){var r=(0,i.findDOMNode)(a).getBoundingClientRect(),o=(r.bottom-r.top)/2,s=t.getClientOffset().y-r.top;n<l&&s<o||n>l&&s>o||(e.onMove(n,l),t.getItem().index=l)}}};c=(0,s.DragSource)("ITEM",{beginDrag:function(e){return{index:e.index,label:e.label,checked:e.checked}}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(c),c=(0,s.DropTarget)("ITEM",f,function(e){return{connectDropTarget:e.dropTarget()}})(c),t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.set=function(e){return{type:"SET",items:e}},t.toggle=function(e){return{type:"TOGGLE",index:e}},t.move=function(e,t){return{type:"MOVE",from:e,to:t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=s(a(10)),l=s(a(14)),r=s(a(7)),o=s(a(9));function s(e){return e&&e.__esModule?e:{default:e}}var i=t.INITIAL_STATE={panels:[],results:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"SET":return function(e,t){return(0,r.default)({},e,{results:t.results})}(e,t);case"CHANGE":return function(e,t){return(0,r.default)({},e,{results:t.value?(0,r.default)({},e.results,(0,l.default)({},t.name,t.value)):o.default.omit(e.results,t.name)})}(e,t);case"ADD_PANEL":return function(e,t){return(0,r.default)({},e,{panels:[].concat((0,n.default)(e.panels),[t.panel])})}(e,t);case"REMOVE_PANEL":return function(e,t){return(0,r.default)({},e,{panels:e.panels.slice(0,e.panels-1)})}(e);case"RESET":return function(e,t){return(0,r.default)({},e,{results:i.results})}(e);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(14)),l=p(a(7)),r=p(a(2)),o=p(a(3)),s=p(a(4)),i=p(a(5)),u=a(21),d=p(a(1)),c=p(a(801)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props.panels;return f.default.createElement("div",{className:"reframe-filters"},f.default.createElement(c.default,this._getOverview()),f.default.createElement(u.TransitionGroup,null,t.map(function(t,a){return f.default.createElement(u.CSSTransition,{key:"filter_panel_"+a,classNames:"slide",timeout:500},f.default.cloneElement(t,(0,l.default)({},e._getPanel(),{key:"filter_panel_"+a})))})))}},{key:"componentDidMount",value:function(){this.props.values&&this._handleSet(this.props.values)}},{key:"_handleSet",value:function(e){var t=this,a=Object.keys(e).reduce(function(a,r){return(0,l.default)({},a,(0,n.default)({},r,t._getValue(e[r])))},{});this.props.onSet(a)}},{key:"_getValue",value:function(e){return e.$in?e.$in.map(function(e){return{key:parseInt(e),value:""}}):e.$eq?e.$eq:e.$dr?{key:e.$dr,value:""}:void 0}},{key:"componentDidUpdate",value:function(e){var t=this.props.results;m.default.isEqual(e.results,t)||this._handleChange()}},{key:"_getOverview",value:function(){return this.props}},{key:"_getPanel",value:function(){var e=this.props;return{results:e.results,onChange:e.onChange,onRemovePanel:e.onRemovePanel}}},{key:"_handleChange",value:function(){var e=this.props.filtered;this.props.onUpdate(e)}}]),t}(f.default.Component);h.propTypes={filters:d.default.array,filtered:d.default.object,panels:d.default.array,results:d.default.object,values:d.default.object,onAddPanel:d.default.func,onChange:d.default.func,onUpdate:d.default.func,onRemovePanel:d.default.func,onSet:d.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=p(a(1)),u=p(a(802)),d=p(a(803)),c=p(a(811)),f=p(a(812)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.filters,l=t.onDone;return m.default.createElement("div",{className:"reframe-filters-panel"},m.default.createElement("div",{className:"reframe-filters-header"},l?m.default.createElement("div",{className:"reframe-filters-header-icon",onClick:this._handleDone.bind(this)},m.default.createElement("i",{className:"fa fa-chevron-left"})):m.default.createElement("div",{className:"reframe-filters-header-icon"}),m.default.createElement("div",{className:"reframe-filters-header-title"},"Filter Results"),m.default.createElement("div",{className:"reframe-filters-header-icon"})),m.default.createElement("div",{className:"reframe-filters-body"},m.default.createElement("div",{className:"reframe-filters-overview"},a.map(function(t,a){return"toggle"===t.type?m.default.createElement(c.default,(0,n.default)({},e._getToggle(t),{key:"filter_"+a})):"lookup"===t.type?m.default.createElement(u.default,(0,n.default)({},e._getLookup(t),{key:"filter_"+a})):"select"===t.type?m.default.createElement(d.default,(0,n.default)({},e._getSelect(t),{key:"filter_"+a})):"daterange"===t.type?m.default.createElement(f.default,(0,n.default)({},e._getDaterange(t),{key:"filter_"+a})):void 0}))),m.default.createElement("div",{className:"reframe-filters-footer"},m.default.createElement("button",{className:"ui red fluid button",onClick:this._handleReset.bind(this)},"Reset Filters")))}},{key:"_getToggle",value:function(e){var t=this.props,a=t.results,n=t.onChange;return{format:e.format,label:e.label,name:e.name,results:a,onChange:n}}},{key:"_getLookup",value:function(e){var t=this.props,a=t.results,n=t.onAddPanel,l=t.onChange,r=t.onRemovePanel,o=e.format,s=e.label,i=e.multiple,u=e.options;return{format:o,label:s,multiple:i,name:name,options:u,results:a,onAddPanel:n,onChange:l,onRemovePanel:r}}},{key:"_getSelect",value:function(e){var t=this.props,a=t.results,l=t.onAddPanel,r=t.onChange,o=t.onRemovePanel;return(0,n.default)({},e,{results:a,onAddPanel:l,onChange:r,onRemovePanel:o})}},{key:"_getDaterange",value:function(e){var t=this.props,a=t.results,l=t.onAddPanel,r=t.onChange,o=t.onRemovePanel;return(0,n.default)({},e,{results:a,onAddPanel:l,onChange:r,onRemovePanel:o})}},{key:"_handleDone",value:function(){this.props.onDone()}},{key:"_handleReset",value:function(){this.props.onReset()}}]),t}(m.default.Component);h.propTypes={filters:i.default.array,results:i.default.object,onAddPanel:i.default.func,onChange:i.default.func,onDone:i.default.func,onRemovePanel:i.default.func,onReset:i.default.func,onUpdate:i.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.format,n=t.label,l=t.multiple,r=t.name,o=t.options,s=t.results[r];return u.default.createElement("div",{className:"reframe-filters-panel"},u.default.createElement("div",{className:"reframe-filters-header",onClick:this._handleRemovePanel.bind(this)},u.default.createElement("div",{className:"reframe-filters-header-icon"},u.default.createElement("i",{className:"fa fa-chevron-left"})),u.default.createElement("div",{className:"reframe-filters-header-title"},n),u.default.createElement("div",{className:"reframe-filters-header-icon"})),u.default.createElement("div",{className:"reframe-filters-body"},o.map(function(t,n){return u.default.createElement("div",{className:"reframe-filters-item",key:"filter_item_"+n,onClick:e._handleClick.bind(e,t.id)},u.default.createElement("div",{className:"reframe-filters-item-content"},u.default.createElement(a,{option:t})),u.default.createElement("div",{className:"reframe-filters-item-icon"},l&&d.default.includes(s,t.id)&&u.default.createElement("i",{className:"fa fa-check"}),!l&&t.id===s&&u.default.createElement("i",{className:"fa fa-check"})))})),u.default.createElement("div",{className:"reframe-filters-footer",onClick:this._handleReset.bind(this)},"Reset ",n))}},{key:"_getValue",value:function(e){var t=this.props,a=t.multiple,l=t.name,r=t.results;return a?d.default.includes(r[l],e)?d.default.without(r[l],e):[].concat((0,n.default)(r[l]),[e]):r[l]!==e?e:null}},{key:"_handleClick",value:function(e){var t=this.props,a=t.name;(0,t.onChange)(a,this._getValue(e))}},{key:"_handleRemovePanel",value:function(){this.props.onRemovePanel()}},{key:"_handleReset",value:function(){var e=this.props,t=e.multiple,a=e.name;(0,e.onChange)(a,t?[]:null)}}]),t}(u.default.Component);f.propTypes={format:i.default.function,label:i.default.string,multiple:i.default.bool,name:i.default.string,options:i.default.array,results:i.default.object,onChange:i.default.func,onRemovePanel:i.default.func};var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.label;return u.default.createElement("div",{className:"reframe-filters-item",onClick:this._handleClick.bind(this)},u.default.createElement("div",{className:"reframe-filters-item-title"},e),u.default.createElement("div",{className:"reframe-filters-item-icon"},u.default.createElement("i",{className:"fa fa-chevron-right"})))}},{key:"_handleClick",value:function(){this.props.onAddPanel(u.default.createElement(f,this._getLookupPanel()))}},{key:"_getLookupPanel",value:function(){var e=this.props;return{format:e.format,label:e.label,multiple:e.multiple,name:e.name,options:e.options,results:e.results,onChange:e.onChange,onRemovePanel:e.onRemovePanel}}}]),t}(u.default.Component);m.propTypes={format:i.default.func,label:i.default.string,multiple:i.default.bool,name:i.default.string,options:i.default.array,results:i.default.object,value:i.default.number,onAddPanel:i.default.func,onChange:i.default.func,onRemovePanel:i.default.func},m.defaultProps={mutiple:!1},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(169));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.label;return i.default.createElement("div",{className:"reframe-filters-panel"},i.default.createElement("div",{className:"reframe-filters-header",onClick:this._handleRemovePanel.bind(this)},i.default.createElement("div",{className:"reframe-filters-header-icon"},i.default.createElement("i",{className:"fa fa-chevron-left"})),i.default.createElement("div",{className:"reframe-filters-header-title"},e),i.default.createElement("div",{className:"reframe-filters-header-icon"})),i.default.createElement("div",{className:"reframe-filters-body"},i.default.createElement(u.default,this._getSearch())),i.default.createElement("div",{className:"reframe-filters-footer"},i.default.createElement("button",{className:"ui red fluid button",onClick:this._handleReset.bind(this)},"Reset ",e)))}},{key:"_getSearch",value:function(){var e=this.props,t=e.endpoint,a=e.filter,n=e.format,l=e.label,r=e.name,o=e.multiple,s=e.options,i=e.sort,u=e.text,d=e.value;return{endpoint:t,filter:a,format:n,label:l,name:r,multiple:o,options:s,results:e.results,sort:i,text:u,value:d,onUpdate:e.onChange}}},{key:"_handleRemovePanel",value:function(){this.props.onRemovePanel()}},{key:"_handleReset",value:function(){var e=this.props,t=e.multiple,a=e.name;(0,e.onChange)(a,t?[]:null)}}]),t}(i.default.Component);c.propTypes={endpoint:s.default.string,filter:s.default.object,format:s.default.any,label:s.default.string,multiple:s.default.bool,name:s.default.string,options:s.default.array,results:s.default.object,sort:s.default.object,text:s.default.string,value:s.default.string,onChange:s.default.func,onUpdate:s.default.func,onRemovePanel:s.default.func};var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.name,n=e.results,l=n[a]?n[a].length:0;return i.default.createElement("div",{className:"reframe-filters-item",onClick:this._handleClick.bind(this)},i.default.createElement("div",{className:"reframe-filters-item-title"},t),l>0&&i.default.createElement("div",{className:"reframe-filters-item-description"},i.default.createElement("div",{className:"reframe-filters-item-count"},l)),i.default.createElement("div",{className:"reframe-filters-item-icon"},i.default.createElement("i",{className:"fa fa-chevron-right"})))}},{key:"_handleClick",value:function(){this.props.onAddPanel(i.default.createElement(c,this.props))}}]),t}(i.default.Component);f.propTypes={filter:s.default.object,format:s.default.func,label:s.default.string,mutiple:s.default.bool,name:s.default.string,options:s.default.array,results:s.default.object,values:s.default.object,onAddPanel:s.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={q:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"QUERY":return function(e,t){return(0,n.default)({},e,{q:t.q})}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(7)),l=h(a(2)),r=h(a(3)),o=h(a(4)),s=h(a(5)),i=h(a(70)),u=h(a(69)),d=a(806),c=h(a(1)),f=h(a(809)),m=h(a(395)),p=h(a(0));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.props.endpoint?p.default.createElement("div",{className:"reframe-search"},p.default.createElement("div",{className:"reframe-search-header"},p.default.createElement(i.default,this._getSearchbox())),p.default.createElement("div",{className:"reframe-search-body"},p.default.createElement(u.default,this._getInfinite()))):p.default.createElement(m.default,this._getOptions())}},{key:"_getOptions",value:function(){var e=this.props;return{format:e.format,name:e.name,multiple:e.multiple,options:e.options,results:e.results,onUpdate:e.onUpdate}}},{key:"_getSearchbox",value:function(){var e=this.props,t=e.label,a=e.prompt,n=e.onQuery;return{prompt:a||"Find a "+t,onChange:n}}},{key:"_getInfinite",value:function(){var e=this,t=this.props,a=t.endpoint,l=t.filter,r=t.q,o=t.results,s=t.sort;return{cacheKey:(0,d.digest)(o),endpoint:a,filter:(0,n.default)({},l,{q:r}),layout:function(t){return p.default.createElement(f.default,(0,n.default)({},e._getDynamic(),t))},sort:s}}},{key:"_getDynamic",value:function(){return this.props}}]),t}(p.default.Component);_.propTypes={filter:c.default.object},_.defaultProps={filter:{}},t.default=_},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(395)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.records?s.default.createElement(i.default,this._getOptions()):null}},{key:"_getOptions",value:function(){var e=this.props,t=e.format,a=e.multiple,n=e.name,l=e.records,r=e.results,o=e.status,s=e.onUpdate;return{name:n,format:t,multiple:a,options:l.map(this._getOption.bind(this)),results:r,status:o,onUpdate:s}}},{key:"_getOption",value:function(e){var t=this.props,a=t.text,n=t.value;return{value:u.default.get(e,n),text:u.default.get(e,a),record:e}}}]),t}(s.default.Component);t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.query=function(e){return{type:"QUERY",q:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(31)),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.format,a=e.label,n=e.name,l=e.results;return u.default.createElement("div",{className:"reframe-filters-item",onClick:this._handleChange.bind(this)},u.default.createElement("div",{className:"reframe-filters-item-title"},u.default.createElement(s.default,{format:t,value:a})),u.default.createElement("div",{className:"reframe-filters-item-icon"},l[n]&&!0===l[n]&&u.default.createElement("i",{className:"fa fa-check"})))}},{key:"_handleChange",value:function(){var e=this.props,t=e.name,a=e.results,n=!a[t]||!0!==a[t]||null;this.props.onChange(t,n)}}]),t}(u.default.Component);c.propTypes={format:i.default.any,name:i.default.string,label:i.default.string,results:i.default.object,onChange:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(1)),i=f(a(0)),u=f(a(169)),d=f(a(8)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.label;return i.default.createElement("div",{className:"reframe-filters-panel"},i.default.createElement("div",{className:"reframe-filters-header",onClick:this._handleRemovePanel.bind(this)},i.default.createElement("div",{className:"reframe-filters-header-icon"},i.default.createElement("i",{className:"fa fa-chevron-left"})),i.default.createElement("div",{className:"reframe-filters-header-title"},e),i.default.createElement("div",{className:"reframe-filters-header-icon"})),i.default.createElement("div",{className:"reframe-filters-body"},i.default.createElement(u.default,this._getSearch())),i.default.createElement("div",{className:"reframe-filters-footer"},i.default.createElement("button",{className:"ui red fluid button",onClick:this._handleReset.bind(this)},"Reset ",e)))}},{key:"_getSearch",value:function(){var e=this.props,t=e.label,a=e.name,n=e.include,l=e.text,r=e.value,o=e.results,s=e.onChange;return{label:t,name:a,options:this._getOptions(n),results:o,text:l,value:r,onUpdate:s}}},{key:"_getOptions",value:function(e){var t=[];return c.default.includes(e,"this")&&t.push({value:"this_week",description:this.description(0,"week"),text:"This Week"}),c.default.includes(e,"last")&&t.push({value:"last_week",description:this.description(-1,"week"),text:"Last Week"}),c.default.includes(e,"next")&&t.push({value:"next_week",description:this.description(1,"week"),text:"Next Week"}),c.default.includes(e,"this")&&t.push({value:"this_month",description:this.description(0,"month"),text:"This Month"}),c.default.includes(e,"last")&&t.push({value:"last_month",description:this.description(-1,"month"),text:"Last Month"}),c.default.includes(e,"next")&&t.push({value:"next_month",description:this.description(1,"month"),text:"Next Month"}),c.default.includes(e,"this")&&t.push({value:"this_quarter",description:this.description(0,"quarter"),text:"This Quarter"}),c.default.includes(e,"last")&&t.push({value:"last_quarter",description:this.description(-1,"quarter"),text:"Last Quarter"}),c.default.includes(e,"next")&&t.push({value:"next_quarter",description:this.description(1,"quarter"),text:"Next Quarter"}),c.default.includes(e,"this")&&t.push({value:"this_year",description:this.description(0,"year"),text:"This Year"}),c.default.includes(e,"last")&&t.push({value:"last_year",description:this.description(-1,"year"),text:"Last Year"}),c.default.includes(e,"next")&&t.push({value:"next_year",description:this.description(1,"year"),text:"Next Year"}),c.default.includes(e,"last")&&t.push({value:"last_30",description:this.description(-1,"year"),text:"Last 30 Days"}),c.default.includes(e,"next")&&t.push({value:"next_30",description:this.description(1,"year"),text:"Next 30 Days"}),c.default.includes(e,"last")&&t.push({value:"last_60",description:this.description(-1,"year"),text:"Last 60 Days"}),c.default.includes(e,"next")&&t.push({value:"next_60",description:this.description(1,"year"),text:"Next 60 Days"}),c.default.includes(e,"last")&&t.push({value:"last_90",description:this.description(-1,"year"),text:"Last 90 Days"}),c.default.includes(e,"next")&&t.push({value:"next_90",description:this.description(1,"year"),text:"Next 90 Days"}),t.push({value:"ytd",description:this.description(1,"year"),text:"Year to Date"}),t.push({value:"ltd",description:this.description(1,"year"),text:"Life to Date"}),t}},{key:"description",value:function(e,t){var a=(0,d.default)().add(e,t).startOf(t),n=(0,d.default)().add(e,t).endOf(t);return(a.format("YY")!==n.format("YY")?a.format("MMM D, YYYY"):a.format("MMM D"))+" - "+(a.format("MM")!==n.format("MM")?n.format("MMM D, YYYY"):n.format("D, YYYY"))}},{key:"_handleRemovePanel",value:function(){this.props.onRemovePanel()}},{key:"_handleReset",value:function(){var e=this.props,t=e.name;(0,e.onChange)(t,null)}}]),t}(i.default.Component);m.propTypes={format:s.default.any,label:s.default.string,include:s.default.array,name:s.default.string,results:s.default.object,text:s.default.string,value:s.default.string,onChange:s.default.func,onUpdate:s.default.func,onRemovePanel:s.default.func};var p=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.label;return i.default.createElement("div",{className:"reframe-filters-item",onClick:this._handleClick.bind(this)},i.default.createElement("div",{className:"reframe-filters-item-title"},e),i.default.createElement("div",{className:"reframe-filters-item-icon"},i.default.createElement("i",{className:"fa fa-chevron-right"})))}},{key:"_handleClick",value:function(){this.props.onAddPanel(i.default.createElement(m,this.props))}}]),t}(i.default.Component);p.propTypes={format:s.default.func,label:s.default.string,mutiple:s.default.bool,name:s.default.string,options:s.default.array,values:s.default.object,onAddPanel:s.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.set=function(e){return{type:"SET",results:e}},t.change=function(e,t){return{type:"CHANGE",name:e,value:t}},t.addPanel=function(e){return{type:"ADD_PANEL",panel:e}},t.removePanel=function(){return{type:"REMOVE_PANEL"}},t.reset=function(){return{type:"RESET"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filtered=void 0;var n=s(a(14)),l=s(a(7)),r=a(12),o=s(a(9));function s(e){return e&&e.__esModule?e:{default:e}}t.filtered=(0,r.createSelector)(function(e,t){return t.filters},function(e,t){return e.results},function(e,t){return Object.keys(t).reduce(function(a,r){return(0,l.default)({},a,(0,n.default)({},r,i(e,t,r)))},{})});var i=function(e,t,a){var n=o.default.find(e,{name:a});if(!n)return null;var l=t[a];return"daterange"===n.type?{$dr:l.key}:o.default.isArray(l)?{$in:l.map(function(e){return e.key})}:o.default.isPlainObject(l)?{$eq:l.key}:{$eq:l}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(14)),l=m(a(7)),r=m(a(2)),o=m(a(3)),s=m(a(4)),i=m(a(5)),u=m(a(155)),d=m(a(153)),c=m(a(0)),f=m(a(51));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={items:[]},l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){this.props.items;return c.default.createElement("div",{className:"reframe-collection-tasks-panel"},c.default.createElement("div",{className:"reframe-collection-tasks-panel-header"},c.default.createElement("div",{className:"reframe-collection-tasks-panel-header-icon",onClick:this._handleDone.bind(this)},c.default.createElement("i",{className:"fa fa-chevron-left"})),c.default.createElement("div",{className:"reframe-collection-tasks-panel-header-title"},"Export Results"),c.default.createElement("div",{className:"reframe-collection-tasks-panel-header-icon"})),c.default.createElement("div",{className:"reframe-collection-tasks-panel-body"},c.default.createElement(u.default,this._getSortableList())),c.default.createElement("div",{className:"reframe-collection-tasks-panel-footer"},c.default.createElement("div",{className:"reframe-collection-tasks-panel-footer-item"},c.default.createElement("div",{className:"ui fluid red button",onClick:this._handleDownload.bind(this,"csv")},"Download CSV")),c.default.createElement("div",{className:"reframe-collection-tasks-panel-footer-item"},c.default.createElement("div",{className:"ui fluid red button",onClick:this._handleDownload.bind(this,"xlsx")},"Download XLSX"))))}},{key:"_getSortableList",value:function(){var e=this;return{defaultValue:this.props.defaultValue,onUpdate:function(t){return e.setState({items:t})}}}},{key:"_handleDownload",value:function(e){var t=this.state.items,a=this.props,r=a.endpoint,o=a.entity,s=a.filter,i=a.sort,u=a.token,c={$filter:s,$sort:i,$select:t.filter(function(e){return e.checked}).reduce(function(e,t){return(0,l.default)({},e,(0,n.default)({},t.label,t.key))},{})},m=(0,d.default)(o),p=r+"."+e+"?enclosure="+encodeURIComponent('"')+"&filename="+m+"&token="+u+"&download=true&"+f.default.stringify(c);window.location.href=p}},{key:"_handleDone",value:function(){this.props.onDone()}}]),t}(c.default.Component);t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setParams=function(e,t){return{type:"SET_PARAMS",filter:e,sort:t}},t.setColumns=function(e){return{type:"SET_COLUMNS",columns:e}},t.setSelected=function(e){return{type:"SET_SELECTED",selected:e}},t.sort=function(e){return{type:"SORT",key:e}},t.filter=function(e){return{type:"FILTER",filter:e}},t.setRecords=function(e){return{type:"SET_RECORDS",records:e}},t.setFilter=function(e){return{type:"SET_FILTER",filter:e}},t.setQuery=function(e){return{type:"SET_QUERY",q:e}},t.toggleTasks=function(){return{type:"TOGGLE_TASKS"}},t.addPanel=function(e){return{type:"ADD_PANEL",panel:e}},t.removePanel=function(e){return{type:"REMOVE_PANEL"}},t.clearPanel=function(e){return{type:"CLEAR_PANEL"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.records=void 0;var n=a(12);t.records=(0,n.createSelector)(function(e,t){return e.records},function(e,t){return e.sort},function(e,t){return e?e.sort(function(e,a){var n=e[t.key],l=a[t.key];return"asc"===t.order&&n<l?-1:"asc"===t.order&&n>l?1:"desc"===t.order&&n>l?-1:"desc"===t.order&&n<l?1:0}):null})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={value:!1},o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.tabIndex;return s.default.createElement("div",{className:"reframe-checkbox "+(t?"toggle-disabled":""),tabIndex:a},s.default.createElement("i",{className:"fa fa-fw fa-"+this._getIcon()+" "+(t?"disabled":""),onClick:this._handleChange.bind(this)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onReady,n=t||!1;this.setValue(n),a&&a()}},{key:"_getIcon",value:function(){return"toggle-"+(this.state.value?"on":"off")}},{key:"_handleChange",value:function(e){var t=this.props,a=t.disabled,n=t.onClick;a||(n&&n(),this.setValue(!this.state.value))}},{key:"setValue",value:function(e){var t=this.props.onChange;this.setState({value:e}),t&&t(e)}}]),t}(s.default.Component);u.defaultProps={defaultValue:!1,disabled:!1,tabIndex:0,onBusy:function(){},onChange:function(e){},onReady:function(){}},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(398)),r=s(a(399)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(400));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.checkbox_group",component:(0,r.default)(!0),reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(821)),r=s(a(822)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(823));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.colorfield",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={color:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case"SET":return function(e,t){return{color:t.color}}(0,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.colors,n=t.tabIndex;return s.default.createElement("div",{className:"reframe-colorfield",tabIndex:n},a.map(function(t,a){return s.default.createElement("div",{key:"color_"+a,className:"reframe-color",style:{backgroundColor:t.value},onClick:e._handleSet.bind(e,t.name)},t.name===e.props.color&&s.default.createElement("i",{className:"fa fa-fw fa-check"}))}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onReady,n=e.onSet;t&&n(t),a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.color,n=t.onChange;e.color!==a&&n(a)}},{key:"_handleSet",value:function(e){this.props.onSet(e)}}]),t}(s.default.Component);u.defaultProps={colors:[{name:"red",value:"#DB2828"},{name:"orange",value:"#F2711C"},{name:"yellow",value:"#FBBD08"},{name:"olive",value:"#B5CC18"},{name:"green",value:"#21BA45"},{name:"teal",value:"#00B5AD"},{name:"blue",value:"#2185D0"},{name:"violet",value:"#6435C9"},{name:"purple",value:"#A333C8"},{name:"pink",value:"#E03997"}],defaultValue:null,disabled:!1,tabIndex:0,onBusy:function(){},onChange:function(e){},onReady:function(){},onSet:function(e){}},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.set=function(e){return{type:"SET",color:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(825)),r=s(a(826)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(828));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.datefield",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={active:!1,value:null,month:null,year:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_CURRENT":return function(e,t){return(0,n.default)({},e,{month:t.month,year:t.year})}(e,t);case"SET_VALUE":return function(e,t){return(0,n.default)({},e,{value:t.value})}(e,t);case"PREVIOUS":return function(e,t){return(0,n.default)({},e,{month:null!==e.month?0===e.month?11:e.month-1:null,year:null!==e.year?0===e.month?e.year-1:e.year:null})}(e);case"NEXT":return function(e,t){return(0,n.default)({},e,{month:null!==e.month?11===e.month?0:e.month+1:null,year:null!==e.year?11===e.month?e.year+1:e.year:null})}(e);case"BEGIN":return function(e,t){return(0,n.default)({},e,{active:!0})}(e);case"CANCEL":return function(e,t){return(0,n.default)({},e,{active:!1})}(e);case"CHOOSE":return function(e,t){return(0,n.default)({},e,{value:t.value,active:!1})}(e,t);case"CLEAR":return function(e,t){return(0,n.default)({},e,{value:null})}(e);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(827)),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prompt,a=e.value,n=e.tabIndex;return d.default.createElement("div",{className:"reframe-datefield"},d.default.createElement("div",{className:"reframe-datefield-input",tabIndex:n},d.default.createElement("div",{className:"reframe-datefield-field",onClick:this._handleBegin.bind(this)},a?a.format("dddd, MMMM DD, YYYY"):d.default.createElement("span",null,t)),a&&d.default.createElement("div",{className:"reframe-datefield-remove",onClick:this._handleClear.bind(this)},d.default.createElement("i",{className:"fa fa-times-circle"}))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onReady,n=e.onSetCurrent,l=e.onSetValue;t&&l((0,u.default)(t));var r=t?(0,u.default)(t):(0,u.default)();n(parseInt(r.format("MM"))-1,parseInt(r.format("YYYY"))),a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.active,n=t.value,l=t.onChange,r=this.context.form;e.value!==n&&l(n?n.format("YYYY-MM-DD"):n),a!==e.active&&(a?r.push(d.default.createElement(i.default,this._getChooser())):r.pop())}},{key:"_getInput",value:function(){var e=this.props,t=e.prompt;return{type:"text",value:e.value,autoComplete:!1,prompt:t}}},{key:"_getChooser",value:function(){return this.props}},{key:"_handleBegin",value:function(){this.props.onBegin()}},{key:"_handleClear",value:function(){this.props.onClear()}}]),t}(d.default.Component);f.contextTypes={form:s.default.object},f.propTypes={active:s.default.bool,defaultValue:s.default.string,disabled:s.default.bool,month:s.default.number,prompt:s.default.string,tabIndex:s.default.number,year:s.default.number,value:s.default.any,onBegin:s.default.func,onBusy:s.default.func,onClear:s.default.func,onChange:s.default.func,onChoose:s.default.func,onNext:s.default.func,onPrevious:s.default.func,onReady:s.default.func,onSetCurrent:s.default.func,onSetValue:s.default.func},f.defaultProps={defaultValue:null,disabled:!1,prompt:"Choose a date",tabIndex:0,onBusy:function(){},onChange:function(){},onReady:function(){},onSet:function(){}},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(10)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=m(a(81)),u=a(20),d=m(a(1)),c=m(a(8)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.month,l=t.value,r={month:a,year:t.year,day:"01"},o=(0,c.default)(r).startOf("month"),s=(0,c.default)(r).endOf("month"),u=(0,c.default)(r).startOf("week").subtract(1,"day"),d=(0,c.default)();return f.default.createElement(i.default,this._getPanel(),f.default.createElement("div",{className:"reframe-datefield-chooser"},f.default.createElement("div",{className:"reframe-datefield-month"},f.default.createElement("div",{className:"reframe-datefield-header"},f.default.createElement("div",{className:"reframe-datefield-previous",onClick:this._handlePrevious.bind(this)},f.default.createElement("i",{className:"fa fa-fw fa-chevron-left"})),f.default.createElement("div",{className:"reframe-datefield-title"},(0,c.default)(r).format("MMMM YYYY").toUpperCase()),f.default.createElement("div",{className:"reframe-datefield-next",onClick:this._handleNext.bind(this)},f.default.createElement("i",{className:"fa fa-fw fa-chevron-right"}))),f.default.createElement("div",{className:"reframe-datefield-weekdays"},f.default.createElement("div",{className:"reframe-datefield-weekday"},"Sun"),f.default.createElement("div",{className:"reframe-datefield-weekday"},"Mon"),f.default.createElement("div",{className:"reframe-datefield-weekday"},"Tue"),f.default.createElement("div",{className:"reframe-datefield-weekday"},"Wed"),f.default.createElement("div",{className:"reframe-datefield-weekday"},"Thu"),f.default.createElement("div",{className:"reframe-datefield-weekday"},"Fri"),f.default.createElement("div",{className:"reframe-datefield-weekday"},"Sat")),[].concat((0,n.default)(Array(6))).map(function(t,a){return f.default.createElement("div",{key:"datefield_week_"+a,className:"reframe-datefield-week"},[].concat((0,n.default)(Array(7))).map(function(t,n){u.add("1","days");var r=["reframe-datefield-day"];return(u.isBefore(o,"day")||u.isAfter(s,"day"))&&r.push("notmonth"),u.isSame(l,"day")&&r.push("selected"),u.isSame(d,"day")&&r.push("today"),f.default.createElement("div",{key:"datefield_day_"+a+"_"+n,className:r.join(" "),onClick:e._handleChoose.bind(e,(0,c.default)(u))},u.format("DD"))}))}))))}},{key:"_getPanel",value:function(){return{title:"Choose Date",leftItems:[{label:"Cancel",handler:this._handleCancel.bind(this)}]}}},{key:"_handleChoose",value:function(e){var t=this.props,a=t.onChoose;(0,t.onSetCurrent)(parseInt(e.format("MM"))-1,parseInt(e.format("YYYY"))),a(e)}},{key:"_handleCancel",value:function(){this.props.onCancel()}},{key:"_handlePrevious",value:function(){this.props.onPrevious()}},{key:"_handleNext",value:function(){this.props.onNext()}}]),t}(f.default.Component);p.propTypes={month:d.default.number,value:d.default.any,year:d.default.number,onCancel:d.default.func,onChoose:d.default.func,onNext:d.default.func,onPrevious:d.default.func,onSetCurrent:d.default.func};t.default=(0,u.connect)(function(e,t){return e.reframe.datefield[t.cid]})(p)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setValue=function(e){return{type:"SET_VALUE",value:e}},t.setCurrent=function(e,t){return{type:"SET_CURRENT",month:e,year:t}},t.previous=function(){return{type:"PREVIOUS"}},t.next=function(){return{type:"NEXT"}},t.begin=function(){return{type:"BEGIN"}},t.cancel=function(){return{type:"CANCEL"}},t.choose=function(e){return{type:"CHOOSE",value:e}},t.clear=function(){return{type:"CLEAR"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={active:!1,value:null,animating:!1},n._handleOpen=n._handleOpen.bind(n),n._handleClose=n._handleClose.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.options;return i.default.createElement("div",{className:"reframe-dropdown"},i.default.createElement("div",{className:this._getDropdownClass(),onClick:this._handleOpen},i.default.createElement("div",{className:"text",onClick:this._handleOpen},this._getLabel()),i.default.createElement("i",{className:"dropdown icon"}),i.default.createElement("div",{className:this._getMenuClass()},t.map(function(t,a){return i.default.createElement("div",(0,n.default)({key:"option_"+a},e._getOption(t)),t.text)}))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onReady;t&&this.setValue(t),document.addEventListener("mousedown",this._handleClose),a()}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,l=n.active,r=n.value;r!==t.value&&this.props.onChange(r),l!==t.active&&(this.setState({animating:!0}),setTimeout(function(){return a.setState({animating:!1})},250))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this._handleClose)}},{key:"_getDropdownClass",value:function(){var e=this.state,t=e.animating,a=e.active,n=["ui","fluid","selection","dropdown"];return a&&n.push("active"),a&&!t&&n.push("visible"),!a&&t&&n.push("visible"),n.join(" ")}},{key:"_getMenuClass",value:function(){var e=this.state,t=e.active,a=e.animating,n=["menu","transition"];return a||t||n.push("hidden"),(a||t)&&n.push("visible"),a&&t&&n.push("animating slide down in"),a&&!t&&n.push("animating slide down out"),n.join(" ")}},{key:"_getLabel",value:function(){var e=this.state.value,t=this.props,a=t.options,n=t.placeholder,l=d.default.find(a,{value:e});return l?l.text:n}},{key:"_getOption",value:function(e){return{className:"item",onClick:this._handleChoose.bind(this,e.value)}}},{key:"_handleOpen",value:function(e){this.state.active||"item"===e.target.className||this.setState({active:!0})}},{key:"_handleClose",value:function(e){this.state.active&&!d.default.includes(["item","text","dropdown icon","ui selection dropdown active visible"],e.target.className)&&this.setState({active:!1})}},{key:"_handleChoose",value:function(e){this.setValue(e)}},{key:"setValue",value:function(e){this.setState({value:e,active:!1})}}]),t}(i.default.Component);f.propTypes={defaultValue:u.default.string,options:u.default.array,placeholder:u.default.string,onBusy:u.default.func,onChange:u.default.func,onReady:u.default.func},f.defaultProps={placeholder:"Select an option...",defaultValue:null,options:[],onBusy:function(e){},onChange:function(e){},onReady:function(){}},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.props.onReady()}}]),t}(i(a(0)).default.Component);u.propTypes={onReady:s.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=u(a(832)),r=u(a(833)),o=i(a(836)),s=i(a(837));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.filefield",component:r.default,reducer:l.default,actions:o,selectors:s})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s={files:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"SET_READY":return(0,l.default)({},e,{status:"ready"});case"LOAD_FILES_SUCCESS":return(0,l.default)({},e,{status:"ready",files:t.result.data.map(function(e){return{fileName:e.file_name,fileSize:e.file_size,contentType:e.content_type,status:"success",progress:0,uploadedChunks:0,totalChunks:t.chunks_total,asset:e}})});case"ADD_FILE":return(0,l.default)({},e,{files:r.default.find(e.files,function(e){return e.uniqueIdentifier===t.uniqueIdentifier})?e.files:[].concat((0,n.default)(e.files),[{uniqueIdentifier:t.uniqueIdentifier,fileName:t.fileName,fileSize:t.fileSize,contentType:t.contentType,status:"added",progress:0,uploadedChunks:0,totalChunks:t.totalChunks}])});case"UPLOAD_BEGIN":return(0,l.default)({},e,{status:"uploading"});case"UPLOAD_PROGRESS":return(0,l.default)({},e,{files:e.files.map(function(a){return a.uniqueIdentifier===t.uniqueIdentifier?(0,l.default)({},a,{status:"uploading",progress:Math.floor(100*t.progress),uploadedChunks:e.uploadedChunks+1}):a})});case"UPLOAD_PROCESS_REQUEST":return(0,l.default)({},e,{status:"processing"});case"UPLOAD_PROCESS_SUCCESS":return(0,l.default)({},e,{status:"success"});case"UPLOAD_SUCCESS":return(0,l.default)({},e,{files:e.files.map(function(e){return(0,l.default)({},e,{asset:e.uniqueIdentifier===t.uniqueIdentifier?t.asset:e.asset,status:e.uniqueIdentifier===t.uniqueIdentifier?"success":e.status})})});case"UPLOAD_PROCESS_FAILURE":case"UPLOAD_FAILED":return(0,l.default)({},e,{status:"failed"});case"REMOVE_FILE":return(0,l.default)({},e,{files:[].concat((0,n.default)(e.files.slice(0,t.index)),(0,n.default)(e.files.slice(t.index+1)))});case"UPLOAD_COMPLETE":return(0,l.default)({},e,{status:"ready"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(14)),l=p(a(7)),r=p(a(2)),o=p(a(3)),s=p(a(4)),i=p(a(5)),u=p(a(401)),d=p(a(1)),c=p(a(834)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={previews:{}},l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.button,n=t.files,r=t.multiple,o=t.multiplePrompt,s=t.prompt,i=t.status,u=t.tabIndex,d=["reframe-filefield",i];return f.default.createElement("div",{className:d.join(" "),tabIndex:u},f.default.createElement("div",{className:"reframe-filefield-tokens"},n.map(function(t,a){return f.default.createElement(c.default,(0,l.default)({key:"filefield_"+a},e._getFile(t,a)))})),(0===n.length||!0===r)&&f.default.createElement("div",{ref:function(t){return e.button=t}},a||f.default.createElement("div",{className:"ui browse button"},0===n.length?s:o)))}},{key:"_getFile",value:function(e,t){return{file:e,preview:this.state.previews[e.uniqueIdentifier],onRemove:this._handleRemoveFile.bind(this,t)}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.endpoint,a=e.defaultValue,n=e.token,l=e.onLoadFiles,r=e.onSetReady;if(!a)return r();var o=m.default.isArray(a)?a:[a];if(0===o.length)return r();l(t,n,o)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.files,n=t.multiple,l=t.status,r=t.value,o=t.onChange,s=t.onReady;l!==e.status&&"pending"===e.status&&(s(),this._initializeResumable()),m.default.isEqual(r,e.value)||o(r),a.length>e.files.length?a.filter(function(e){return"added"===e.status}).length>0&&this._handleUploadBegin():a.length<e.files.length&&!n&&this._initializeResumable()}},{key:"_initializeResumable",value:function(){var e=this.props,t=e.action,a=e.files,n=e.multiple,l=e.status,r=e.token;"ready"===l&&(this.resumable=new u.default({target:t,chunkSize:131072,permanentErrors:[204,400,404,409,415,500,501],maxFiles:n?void 0:1,headers:{Authorization:"Bearer "+r}}),this.resumable.on("fileAdded",this._handleFileAdded.bind(this)),this.resumable.on("fileProgress",this._handleUploadProgress.bind(this)),this.resumable.on("fileSuccess",this._handleUploadSuccess.bind(this)),this.resumable.on("error",this._handleUploadFailure.bind(this)),this.resumable.on("complete",this._handleUploadComplete.bind(this)),(n||!n&&0===a.length)&&(this.resumable.assignBrowse(this.button),this.resumable.assignDrop(this.button)))}},{key:"_handleFileAdded",value:function(e){var t=new FileReader;this.props.onAddFile(e.uniqueIdentifier,e.file.name,e.file.size,e.file.type,e.chunks.length),e.file.type.match(/image/)&&(t.readAsDataURL(e.file),t.onload=this._handleImagePreview.bind(this,e.file.uniqueIdentifier))}},{key:"_handleImagePreview",value:function(e,t){this.setState({previews:(0,l.default)({},this.state.previews,(0,n.default)({},e,t.target.result))})}},{key:"_handleUploadBegin",value:function(){this.resumable.upload(),this.props.onUploadBegin(),this.props.onBusy()}},{key:"_handleUploadProgress",value:function(e){this.props.onUploadProgress(e.file.uniqueIdentifier,e.progress())}},{key:"_handleUploadFailure",value:function(e,t){this.props.onUploadFailure(t),this.props.onBusy()}},{key:"_handleUploadSuccess",value:function(e,t){var a=JSON.parse(t);this.props.onUploadSuccess(e.file.uniqueIdentifier,a),this.props.onBusy()}},{key:"_handleRemoveFile",value:function(e){var t=this.props.files[e];if(this.props.onRemoveFile(e),t.uniqueIdentifier){var a=this.resumable.getFromUniqueIdentifier(t.uniqueIdentifier);this.resumable.removeFile(a)}}},{key:"_handleUploadComplete",value:function(){this.props.onUploadComplete()}}]),t}(f.default.Component);h.propTypes={action:d.default.string,defaultValue:d.default.oneOfType([d.default.number,d.default.array]),button:d.default.element,disabled:d.default.bool,endpoint:d.default.string,files:d.default.array,multiple:d.default.bool,multiplePrompt:d.default.string,prompt:d.default.string,status:d.default.string,token:d.default.string,tabIndex:d.default.number,value:d.default.oneOfType([d.default.number,d.default.array]),onAddFile:d.default.func,onCache:d.default.func,onChange:d.default.func,onChangeFile:d.default.func,onLoadFiles:d.default.func,onUploadBegin:d.default.func,onUploadComplete:d.default.func,onUploadProgress:d.default.func,onUploadProcess:d.default.func,onUploadSuccess:d.default.func,onUploadFailure:d.default.func,onBusy:d.default.func,onReady:d.default.func,onRemoveFile:d.default.func,onSetReady:d.default.func},h.defaultProps={defaultValue:null,disabled:!1,multiple:!1,multiplePrompt:"Choose Another File",prompt:"Choose File",tabIndex:0,onBusy:function(){},onChange:function(){},onReady:function(){},onSet:function(){}},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(402)),i=c(a(403)),u=c(a(1)),d=c(a(0));c(a(51));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.file,t="image"===(e.contentType||e.asset.content_type).split("/")[0],a=t?"image":"plain";return d.default.createElement("div",{className:"reframe-filefield-token "+a},"added"===e.status&&d.default.createElement("div",{className:"reframe-filefield-progress"},d.default.createElement("div",{className:"ui green progress"},d.default.createElement("div",{className:"bar",style:{width:0}}))),"uploading"===e.status&&d.default.createElement("div",{className:"reframe-filefield-progress"},d.default.createElement("div",{className:"ui green progress"},d.default.createElement("div",{className:"bar",style:{width:e.progress+"%"}},d.default.createElement("div",{className:"progress"},e.progress,"%")))),d.default.createElement("div",{className:"reframe-filefield-remove",onClick:this._handleRemove.bind(this)},t?d.default.createElement("i",{className:"fa fa-fw fa-times-circle"}):d.default.createElement("i",{className:"fa fa-fw fa-times"})),t?d.default.createElement(s.default,this._getImageFile()):d.default.createElement(i.default,this._getPlainFile()))}},{key:"_getImageFile",value:function(){var e=this.props,t=e.file,a=e.preview;return{file:t.asset,preview:a}}},{key:"_getPlainFile",value:function(){var e=this.props.file;return{file_name:e.fileName||e.asset.file_name,file_size:e.fileSize||e.asset.file_size}}},{key:"_handleRemove",value:function(){this.props.onRemove()}}]),t}(d.default.Component);f.propTypes={file:u.default.object,preview:u.default.string,onRemove:u.default.func},t.default=f},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setReady=function(){return{type:"SET_READY"}},t.loadFiles=function(e,t,a){return{type:"API_REQUEST",method:"GET",endpoint:e,query:{$ids:a},token:t,request:"LOAD_FILES_REQUEST",success:"LOAD_FILES_SUCCESS",failure:"LOAD_FILES_FAILURE"}},t.cache=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e}},t.addFile=function(e,t,a,n,l){return{type:"ADD_FILE",uniqueIdentifier:e,fileName:t,fileSize:a,contentType:n,totalChunks:l}},t.uploadBegin=function(){return{type:"UPLOAD_BEGIN"}},t.uploadProgress=function(e,t){return{type:"UPLOAD_PROGRESS",uniqueIdentifier:e,progress:t}},t.uploadSuccess=function(e,t){return{type:"UPLOAD_SUCCESS",uniqueIdentifier:e,asset:t.data}},t.uploadFailure=function(){return{type:"UPLOAD_FAILURE"}},t.removeFile=function(e){return{type:"REMOVE_FILE",index:e}},t.uploadComplete=function(){return{type:"UPLOAD_COMPLETE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.files=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));var r=t.files=(0,n.createSelector)(function(e,t){return e.files},function(e){return e.sort(function(e,t){var a=null!==(e.contentType||e.asset.content_type).match(/image/),n=null!==(t.contentType||t.asset.content_type).match(/image/);return a&&!n?-1:n&&!a?1:0})});t.value=(0,n.createSelector)(r,function(e,t){return t.multiple},function(e,t){var a=e.filter(function(e){return!l.default.isNil(e.asset)}).map(function(e){return e.asset.id});return t?a:a[0]})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={active:!1,q:null,chosen:null,status:"ready",adding:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"BEGIN":return(0,n.default)({},e,{active:!0});case"END":return(0,n.default)({},e,{active:!1});case"CLEAR":return(0,n.default)({},e,{chosen:null});case"CANCEL":return(0,n.default)({},e,{active:!1});case"CHOOSE":return(0,n.default)({},e,{active:!1,chosen:t.chosen});case"QUERY":return(0,n.default)({},e,{q:t.q});case"LOAD_SUCCESS":return(0,n.default)({},e,{chosen:t.result.data[0],status:"success"});case"SHOW_FORM":return(0,n.default)({},e,{adding:!0});case"HIDE_FORM":return(0,n.default)({},e,{active:!1,adding:!1});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(7)),l=h(a(2)),r=h(a(3)),o=h(a(4)),s=h(a(5)),i=h(a(840)),u=h(a(1)),d=h(a(31)),c=h(a(841)),f=h(a(405)),m=h(a(0)),p=h(a(9));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.active,e.adding,e.chosen),a=e.format,l=e.prompt,r=e.tabIndex,o=e.text,s=t?p.default.get(t,o):"";return m.default.createElement("div",{className:"reframe-lookup-field",tabIndex:r},t&&m.default.createElement("div",{className:"reframe-lookup-token",onClick:this._handleBegin.bind(this)},m.default.createElement(d.default,(0,n.default)({},t,{format:a,value:s}))),t&&m.default.createElement("div",{className:"reframe-lookup-field-clear"},m.default.createElement("i",{className:"icon circle remove",onClick:this._handleClear.bind(this)})),!t&&m.default.createElement("div",{className:"reframe-lookup-field-prompt",onClick:this._handleBegin.bind(this)},l))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.endpoint,n=e.options,l=e.onChoose,r=e.onLoad,o=e.onReady;return t?a?r({$ids:[t]},a):(l(p.default.find(n,{value:t})),void o()):o()}},{key:"componentDidUpdate",value:function(e){var t=this.context.form,a=this.props,n=a.active,l=a.adding,r=a.disabled,o=a.status,s=a.onClear,i=a.onReady;e.status!==o&&"success"===o&&i(),e.disabled!==r&&s(),!e.active&&n&&t.push(m.default.createElement(c.default,this._getSearch())),!e.adding&&l&&t.push(m.default.createElement(f.default,this._getForm()))}},{key:"_getSearch",value:function(){return this.props}},{key:"_handleBegin",value:function(){this.props.onBegin()}},{key:"_handleClear",value:function(){var e=this.props,t=e.onClear,a=e.onChange;t(),a()}},{key:"_getForm",value:function(){var e=this.context.form,t=this.props,a=t.value,l=t.onChoose,r=t.onChange,o=t.onHideForm;return(0,n.default)({},this.props.form,{onCancel:function(){o(),e.pop()},onSuccess:function(t){l(t),o(),r(p.default.get(t,a)),e.pop(2)}})}}]),t}(m.default.Component);_.contextTypes={form:u.default.object},_.propTypes={active:u.default.bool,adding:u.default.bool,chosen:u.default.object,disabled:u.default.bool,defaultValue:u.default.any,endpoint:u.default.string,format:u.default.oneOfType([u.default.string,u.default.func]),form:u.default.object,options:u.default.array,prompt:u.default.string,query:u.default.string,results:u.default.array,search:u.default.bool,selected:u.default.number,sort:u.default.string,status:u.default.string,tabIndex:u.default.number,text:u.default.string,value:u.default.string,onBegin:u.default.func,onBusy:u.default.func,onClear:u.default.func,onCancel:u.default.func,onChange:u.default.func,onChoose:u.default.func,onHideForm:u.default.func,onType:u.default.func,onLoad:u.default.func,onLoookup:u.default.func,onReady:u.default.func,onShowForm:u.default.func},_.defaultProps={defaultValue:null,disabled:!1,format:i.default,search:!0,tabIndex:0,text:"text",value:"value",onBusy:function(){},onChange:function(){},onReady:function(){}},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.default=function(e){var t=e.value;return n.default.createElement("div",{className:"reframe-value-token"},t)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(81)),i=a(20),u=f(a(1)),d=f(a(842)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement(s.default,this._getPanel(),c.default.createElement(d.default,this.props))}},{key:"_getPanel",value:function(){return{title:"Choose "+this.props.label,leftItems:[{label:"Cancel",handler:this._handleCancel.bind(this)}]}}},{key:"_handleCancel",value:function(){this.props.onEnd(),this.context.form.pop()}}]),t}(c.default.Component);m.contextTypes={form:u.default.object},m.propTypes={label:u.default.string,selected:u.default.number,onCancel:u.default.func,onEnd:u.default.func};t.default=(0,i.connect)(function(e,t){return{q:e.reframe.lookup[t.cid].q}})(m)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=p(a(0)),u=p(a(1)),d=p(a(9)),c=p(a(70)),f=p(a(69)),m=p(a(31));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.format,l=t.options,r=t.selected,o=t.text;return i.default.createElement("div",{className:"reframe-lookup-panel-results"},l.map(function(t,l){return i.default.createElement("div",{key:"result_"+(t.id||l),className:"reframe-lookup-panel-result",onClick:e._handleChoose.bind(e,t)},i.default.createElement("div",{className:"reframe-lookup-panel-result-label"},i.default.createElement(m.default,(0,n.default)({},t,{format:a,value:d.default.get(t,o)}))),i.default.createElement("div",{className:"reframe-lookup-panel-result-icon"},l===r?i.default.createElement("i",{className:"fa fa-fw fa-check"}):null))}))}},{key:"_handleChoose",value:function(e){var t=this.props,a=t.onChoose,n=t.onChange,l=t.value;a(e),n(d.default.get(e,l)),this.context.form.pop()}}]),t}(i.default.Component);h.contextTypes={form:u.default.object},h.propTypes={format:u.default.oneOfType([u.default.element,u.default.func,u.default.string]),options:u.default.array,selected:u.default.number,text:u.default.string,value:u.default.string,onChange:u.default.func,onChoose:u.default.func};var _=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.props.records?i.default.createElement(h,this._getOptions()):null}},{key:"_getOptions",value:function(){var e=this.props;return{format:e.format,selected:e.selected,options:e.records,text:e.text,value:e.value,onChoose:e.onChoose,onChange:e.onChange}}}]),t}(i.default.Component);_.propTypes={format:u.default.oneOfType([u.default.element,u.default.func,u.default.string]),records:u.default.array,text:u.default.string,value:u.default.string,selected:u.default.oneOfType([u.default.array,u.default.number]),onChange:u.default.func,onChoose:u.default.func};var v=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.endpoint,a=e.label,n=e.form,l=e.search;return i.default.createElement("div",{className:"reframe-lookup-panel"},l&&i.default.createElement("div",{className:"reframe-lookup-panel-search"},i.default.createElement(c.default,this._getSearchbox())),t&&i.default.createElement(f.default,this._getInfinite()),!t&&i.default.createElement(h,this._getStaticOptions()),n&&i.default.createElement("div",{className:"reframe-lookup-panel-add"},i.default.createElement("div",{className:"ui fluid red button",onClick:this._handleAdd.bind(this)},"Add ",a)))}},{key:"_getSearchbox",value:function(){var e=this.props;return{prompt:"Find a "+e.label,onChange:e.onQuery}}},{key:"_getInfinite",value:function(){var e=this,t=this.props;return{cacheKey:t.cacheKey,endpoint:t.endpoint,filter:{q:t.q},layout:function(t){return i.default.createElement(_,(0,n.default)({},e.props,t))},sort:t.sort,text:t.text,value:t.value}}},{key:"_handleAdd",value:function(){this.props.onShowForm()}},{key:"_getStaticOptions",value:function(){var e=this.props,t=e.options,a=e.q;return(0,n.default)({},this.props,{options:t.filter(function(e){return null===a||e.text.search(a)>=0})})}}]),t}(i.default.Component);v.contextTypes={modal:u.default.object},v.propTypes={cacheKey:u.default.string,endpoint:u.default.string,form:u.default.object,label:u.default.string,options:u.default.array,q:u.default.string,search:u.default.bool,sort:u.default.string,text:u.default.string,value:u.default.string,onChange:u.default.func,onChoose:u.default.func,onQuery:u.default.func,onShowForm:u.default.func},t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(14)),l=s(a(10)),r=s(a(7)),o=s(a(9));function s(e){return e&&e.__esModule?e:{default:e}}var i={busy:[],config:[],data:{},entity:{},errors:{},panels:[],ready:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"SET_SECTIONS":return(0,r.default)({},e,{config:t.sections,status:"sections_loaded"});case"RESET":return(0,r.default)({},e,{data:{}});case"FETCH_SECTIONS_REQUEST":return(0,r.default)({},e,{status:"loading_sections"});case"FETCH_SECTIONS_SUCCESS":return(0,r.default)({},e,{status:"sections_loaded",config:t.result.data});case"POP":return(0,r.default)({},e,{panels:e.panels.slice(0,0-t.num)});case"PUSH":return(0,r.default)({},e,{panels:[].concat((0,l.default)(e.panels),[t.component])});case"SET_DATA":return(0,r.default)({},e,{status:"data_loaded",data:(0,r.default)({},e.data,o.default.omitBy(t.data,o.default.isNil))});case"SET_READY":return(0,r.default)({},e,{ready:[].concat((0,l.default)(e.ready),[t.field])});case"FETCH_DATA_REQUEST":return(0,r.default)({},e,{status:"loading_data"});case"FETCH_DATA_SUCCESS":return(0,r.default)({},e,{status:"data_loaded",data:Object.keys(t.defaults).reduce(function(e,a){return(0,r.default)({},e,(0,n.default)({},a,o.default.get(t.result.data,a)||t.defaults[a]||null))},{})});case"TOGGLE_BUSY":return(0,r.default)({},e,{busy:o.default.includes(e.busy,t.field)?o.default.without(e.busy,t.field):[].concat((0,l.default)(e.busy),[t.field])});case"UPDATE_DATA":return(0,r.default)({},e,{data:(0,r.default)({},e.data,(0,n.default)({},t.key,t.value)),errors:o.default.omit(e.errors,t.key)});case"UPDATE_FIELD":return(0,r.default)({},e,{config:[].concat((0,l.default)(o.default.set(e.config,"["+t.sectionIndex+"].fields["+t.fieldIndex+"]",t.field)))});case"SUBMIT_REQUEST":return(0,r.default)({},e,{status:"submitting"});case"SUBMIT_SUCCESS":return(0,r.default)({},e,{status:"success",entity:t.result.data});case"FETCH_SECTIONS_FAILURE":case"FETCH_DATA_FAILURE":case"SUBMIT_FAILURE":return(0,r.default)({},e,{status:"failure",errors:t.result.errors,message:t.result.meta.message});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=a(21),u=p(a(81)),d=p(a(1)),c=p(a(845)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._debouncedSubmit=m.default.debounce(n._handleSubmit.bind(n),2500,{leading:!0}),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.after,l=t.before,r=t.config,o=t.instructions,s=t.panels,d=(t.showModal,t.status),p=m.default.includes(["pending","loading_sections","sections_loaded","loading_data"],d);return f.default.createElement("div",{className:"reframe-form"},f.default.createElement(u.default,this._getPanel(),f.default.createElement("div",{className:this._getFormClasses()},(l||o)&&f.default.createElement("div",{className:"reframe-form-header"},l&&f.default.createElement("div",{className:"reframe-form-before"},l),o&&f.default.createElement("div",{className:"instructions"},o)),!p&&r.map(function(t,a){return f.default.createElement(c.default,(0,n.default)({key:"section_"+a},e._getSection(r,t,a)))}),a&&f.default.createElement("div",{className:"reframe-form-footer"},f.default.createElement("div",{className:"reframe-form-after"},a)))),f.default.createElement("div",{className:"reframe-form-panels"},f.default.createElement(i.TransitionGroup,null,s.map(function(e,t){return f.default.createElement(i.CSSTransition,{classNames:"stack",timeout:500,key:"panel_"+t},f.default.createElement("div",null,m.default.isFunction(e)?f.default.createElement(e):e))}))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.sections;(0,e.onSetSections)(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.data,n=t.sections,l=t.status;m.default.isEqual(e.sections,n)||this._handleUpdateField(e.sections),e.status!==l&&("sections_loaded"===l&&this._handleLoadData(),"validated"===l&&this._handleSubmit(),"success"===l&&this._handleSuccess(),"failure"===l&&this._handleFailure()),e.data!=a&&this._handleChange(e.data,a)}},{key:"getChildContext",value:function(){return{form:{push:this._handlePush.bind(this),pop:this._handlePop.bind(this)}}}},{key:"_getPanel",value:function(){var e=this.props,t=e.buttonPosition,a=e.cancelText,n=e.saveText;return{position:t,title:e.title,leftItems:a?[{label:a,handler:this._handleCancel.bind(this)}]:null,rightItems:n?[{label:n,handler:this._debouncedSubmit,className:this._getButtonClasses()}]:null}}},{key:"_getFormClasses",value:function(){var e=this.props,t=e.isReady,a=e.status,n=["ui","form",a];return(m.default.includes(["pending","loading_sections","sections_loaded","loading_data"],a)||!t||"submitting"===a)&&n.push("loading"),n.join(" ")}},{key:"_getButtonClasses",value:function(){var e=["reframe-modal-panel-header-navigation"];return this.props.isBusy&&e.push("disabled"),e.join(" ")}},{key:"_getSection",value:function(e,t,a){var l=this.props,r=l.data,o=l.errors,s=e.reduce(function(e,t,n){return n>=a?e:e+t.fields.length},1);return(0,n.default)({},t,{data:r,errors:o,tabIndexStart:s,onBusy:this._handleToggleBusy.bind(this),onReady:this._handleSetReady.bind(this),onSubmit:this._handleSubmit.bind(this),onUpdateData:this._handleUpdateData.bind(this)})}},{key:"_handlePop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.props.onPop(e)}},{key:"_handlePush",value:function(e){this.props.onPush(e)}},{key:"_handleCancel",value:function(){this.props.onCancel()}},{key:"_handleLoadData",value:function(){var e=this.props,t=e.data,a=e.defaults,n=e.endpoint,l=e.onFetchData,r=e.onSetData;return Object.keys(t).length>1?r(t):n?l(n,a):void r(a)}},{key:"_handleSetReady",value:function(e){this.props.onSetReady(e)}},{key:"_handleUpdateField",value:function(e){var t=this.props,a=t.sections,n=t.onUpdateField;a.map(function(t,l){m.default.isEqual(e[l],a[l])||a[l].fields.map(function(t,r){m.default.isEqual(e[l].fields[r],a[l].fields[r])||n(l,r,t)})})}},{key:"_handleToggleBusy",value:function(e){this.props.onToggleBusy(e)}},{key:"_handleUpdateData",value:function(e,t){this.props.onUpdateData(e,t)}},{key:"_handleChange",value:function(e,t){var a=this.props,n=a.onChangeField,l=a.onChange;n&&m.default.forOwn(t,function(a,l){e[l]!=t[l]&&n(l,a)}),l&&l(t)}},{key:"_handleSubmit",value:function(){var e=this.props,t=e.action,a=e.filtered,n=e.isBusy,l=e.method,r=e.onSubmit,o=e.onSubmitForm;if(!n)return t?o(l,t,a):r?r(a)?this._handleSuccess():this._handleFailure():void this._handleSuccess()}},{key:"_handleSuccess",value:function(){this.props.onSuccess(this.props.entity)}},{key:"_handleFailure",value:function(){this.props.onFailure()}}]),t}(f.default.Component);h.childContextTypes={form:d.default.object},h.propTypes={action:d.default.string,after:d.default.string,before:d.default.any,busy:d.default.array,buttonPosition:d.default.string,defaults:d.default.object,cancelText:d.default.string,config:d.default.array,data:d.default.object,errors:d.default.object,endpoint:d.default.string,entity:d.default.object,fields:d.default.array,filtered:d.default.object,instructions:d.default.any,isReady:d.default.bool,isBusy:d.default.bool,method:d.default.string,panels:d.default.array,ready:d.default.array,saveText:d.default.string,sections:d.default.array,showModal:d.default.bool,status:d.default.string,title:d.default.string,onCancel:d.default.func,onChange:d.default.func,onChangeField:d.default.func,onSubmit:d.default.func,onSubmitForm:d.default.func,onFailure:d.default.func,onFetchData:d.default.func,onFetchSections:d.default.func,onResetForm:d.default.func,onSetData:d.default.func,onSetReady:d.default.func,onSetSections:d.default.func,onSuccess:d.default.func,onToggleBusy:d.default.func,onValidateForm:d.default.func,onUpdateData:d.default.func,onUpdateField:d.default.func},h.defaultProps={method:"GET",buttonPosition:"top",cancelText:"Cancel",saveText:"Save",showModal:!0,onCancel:function(){},onChange:function(){},onChangeField:function(){},onSubmit:function(){},onFailure:function(e){},onSuccess:function(e){}},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=c(a(406));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,l.default)(this,t);var a=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=null!==e.collapsed?e.collapsed:e.collapsing;return a.state={collapsed:n},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fields,l=t.instructions,r=t.label;return i.default.createElement("div",{className:this._getClass()},r&&i.default.createElement("h4",{className:"ui header",onClick:this._handleToggle.bind(this)},r),i.default.createElement("div",{className:"section"},l&&i.default.createElement("div",{className:"instructions"},l),a.map(function(t,a){return i.default.createElement(d.default,(0,n.default)({key:"field_"+a},e._getField(t,a)))})))}},{key:"_getClass",value:function(){var e=this.props.collapsing,t=this.state.collapsed,a=["ui","basic","segment"];return e&&(a.push("collapsing"),a.push(t?"collapsed":"expanded")),a.join(" ")}},{key:"_getField",value:function(e,t){var a=this.props,l=a.data,r=a.errors,o=a.tabIndexStart,s=a.onBusy,i=a.onReady,u=a.onSubmit,d=a.onUpdateData;return(0,n.default)({},e,{data:l,errors:r,tabIndex:o+t,onBusy:s,onReady:i,onSubmit:u,onUpdateData:d})}},{key:"_handleToggle",value:function(){this.setState({collapsed:!this.state.collapsed})}}]),t}(i.default.Component);f.propTypes={label:u.default.string,instructions:u.default.oneOfType([u.default.string,u.default.element]),collapsing:u.default.bool,collapsed:u.default.bool,fields:u.default.array,data:u.default.object,errors:u.default.object,tabIndexStart:u.default.number,onBusy:u.default.func,onSubmit:u.default.func,onReady:u.default.func,onUpdateData:u.default.func},f.defaultProps={collapsing:!1,tabIndexStart:1},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=c(a(406));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.fields;return i.default.createElement("div",{className:["zero","one","two","three","four","five","six"][t.length]+" fields"},t.map(function(t,a){return i.default.createElement(d.default,(0,n.default)({key:"field_"+a},e._getField(t)))}))}},{key:"_getField",value:function(e){var t=this.props,a=t.onChange,l=t.onReady,r=t.onSubmit,o=t.onUpdateData;return(0,n.default)({},e,{onChange:a,onReady:l,onSubmit:r,onUpdateData:o})}}]),t}(i.default.Component);f.propTypes={fields:u.default.array,onBusy:u.default.func,onChange:u.default.func,onReady:u.default.func,onSubmit:u.default.func,onUpdateData:u.default.func},f.defaultProps={fields:[],onBusy:function(){},onChange:function(){},onReady:function(){},onSubmit:function(){},onUpdateData:function(){}},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setSections=function(e){return{type:"SET_SECTIONS",sections:e}},t.fetchSections=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,request:"FETCH_SECTIONS_REQUEST",success:"FETCH_SECTIONS_SUCCESS",failure:"FETCH_SECTIONS_FAILURE"}},t.fetchData=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:e,meta:{defaults:t},request:"FETCH_DATA_REQUEST",success:"FETCH_DATA_SUCCESS",failure:"FETCH_DATA_FAILURE"}},t.pop=function(){return{type:"POP",num:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}},t.push=function(e){return{type:"PUSH",component:e}},t.setData=function(e){return{type:"SET_DATA",data:e}},t.setReady=function(e){return{type:"SET_READY",field:e}},t.toggleBusy=function(e){return{type:"TOGGLE_BUSY",field:e}},t.updateData=function(e,t){return{type:"UPDATE_DATA",key:e,value:t}},t.updateField=function(e,t,a){return{type:"UPDATE_FIELD",sectionIndex:e,fieldIndex:t,field:a}},t.submitForm=function(e,t,a){return{type:"API_REQUEST",method:e,body:a,endpoint:t,request:"SUBMIT_REQUEST",success:"SUBMIT_SUCCESS",failure:"SUBMIT_FAILURE"}},t.reset=function(){return{type:"RESET"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBusy=t.isReady=t.filtered=t.defaults=t.fields=void 0;var n=u(a(14)),l=u(a(7)),r=u(a(10)),o=a(12),s=u(a(9)),i=a(849);function u(e){return e&&e.__esModule?e:{default:e}}var d=t.fields=(0,o.createSelector)(function(e){return e.config},function(e){return e.reduce(function(e,t){return[].concat((0,r.default)(e),(0,r.default)(t.fields.reduce(function(e,t){return[].concat((0,r.default)(e),["fields"===t.type?t.fields.reduce(function(e,t){return[].concat((0,r.default)(e),[t])},[]):t])},[])))},[])});t.defaults=(0,o.createSelector)(d,function(e){return e.reduce(function(e,t){return!1===t.include?e:(0,l.default)({},e,(0,n.default)({},t.name,t.defaultValue))},{})}),t.filtered=(0,o.createSelector)(d,function(e){return e.data},function(e,t){return(0,i.unflatten)(e.reduce(function(e,a){return!1===a.include||"text"==a.type?e:(0,l.default)({},e,(0,n.default)({},a.name,s.default.isNil(s.default.get(t,a.name))?null:s.default.get(t,a.name)))},{}))}),t.isReady=(0,o.createSelector)(d,function(e){return e.ready},function(e,t){return e.reduce(function(e,a){return!!e&&s.default.includes(t,a.name)},!0)}),t.isBusy=(0,o.createSelector)(function(e){return e.busy},function(e){return e.length>0})},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.begin=function(){return{type:"BEGIN"}},t.end=function(){return{type:"END"}},t.clear=function(){return{type:"CLEAR"}},t.cancel=function(){return{type:"CANCEL"}},t.choose=function(e){return{type:"CHOOSE",chosen:e}},t.query=function(e){return{type:"QUERY",q:e}},t.load=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:t,query:e,request:"LOAD_REQUEST",success:"LOAD_SUCCESS",failure:"LOAD_FAILURE"}},t.showForm=function(){return{type:"SHOW_FORM"}},t.hideForm=function(){return{type:"HIDE_FORM"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(853)),r=s(a(854)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(860));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.lookup2",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={active:!1,records:null,selected:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"FETCH_REQUEST":return(0,l.default)({},e,{status:"loading"});case"FETCH_FAILURE":return(0,l.default)({},e,{status:"failure"});case"FETCH_SUCCESS":return(0,l.default)({},e,{selected:t.result.data,status:"success"});case"SET":return(0,l.default)({},e,{records:t.records});case"BEGIN":return(0,l.default)({},e,{active:!0});case"END":return(0,l.default)({},e,{active:!1});case"SELECT":return(0,l.default)({},e,{selected:t.selected});case"REMOVE":return(0,l.default)({},e,{selected:[].concat((0,n.default)(e.selected.slice(0,t.index)),(0,n.default)(e.selected.slice(t.index+1)))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(14)),l=p(a(7)),r=p(a(2)),o=p(a(3)),s=p(a(4)),i=p(a(5)),u=p(a(31)),d=p(a(1)),c=p(a(855)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selected,n=t.tabIndex,r=t.format,o=t.text;return f.default.createElement("div",{className:this._getClass(),tabIndex:n},f.default.createElement("div",{className:"reframe-lookup2-items",onClick:this._handleBegin.bind(this)},a.map(function(t,a){return f.default.createElement("div",{className:"reframe-lookup2-item",key:"selected_"+a},f.default.createElement("div",{className:"reframe-lookup2-item-content"},f.default.createElement("div",{className:"reframe-lookup2-item-token"},f.default.createElement(u.default,(0,l.default)({},t,{format:r,value:m.default.get(t,o)}))),f.default.createElement("div",{className:"reframe-lookup2-item-remove",onClick:e._handleRemove.bind(e,a)},f.default.createElement("i",{className:"fa fa-fw fa-times-circle"}))))})))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.endpoint,l=e.multiple,r=e.value,o=e.onFetch,s=e.onReady,i="id"===r?{$ids:t}:{$filter:(0,n.default)({},r,{$in:t})};t&&(!l||t.length>0)&&o(a,i),s()}},{key:"componentDidUpdate",value:function(e){var t=this.context.form,a=this.props,n=a.active,l=a.selected;!e.active&&n&&t.push(f.default.createElement(c.default,this._getSearch())),e.active&&!n&&t.pop(),m.default.isEqual(l,e.selected)||this._handleChange()}},{key:"_getClass",value:function(){var e=["reframe-lookup2-field"];return this.props.multiple&&e.push("multiple"),e.join(" ")}},{key:"_getSearch",value:function(){var e=this.props;return{endpoint:e.endpoint,format:e.format,label:e.label,multiple:e.multiple,options:e.options,selected:e.selected,text:e.text,value:e.value,onCancel:this._handleEnd.bind(this),onDone:this._handleEnd.bind(this),onSelect:this._handleSelect.bind(this)}}},{key:"_getValue",value:function(){var e=this.props,t=e.multiple,a=e.selected,n=e.value,l=a.map(function(e){return m.default.get(e,n)});return t?l:l[0]}},{key:"_handleBegin",value:function(){this.props.onBegin()}},{key:"_handleEnd",value:function(){this.props.onEnd()}},{key:"_handleRemove",value:function(e,t){t.stopPropagation(),this.props.onRemove(e)}},{key:"_handleSelect",value:function(e){(0,this.props.onSelect)(e)}},{key:"_handleChange",value:function(){return(0,this.props.onChange)(this._getValue())}}]),t}(f.default.Component);h.contextTypes={form:d.default.object},h.propTypes={active:d.default.any,defaultValue:d.default.any,endpoint:d.default.string,format:d.default.oneOfType([d.default.element,d.default.func]),label:d.default.string,multiple:d.default.bool,options:d.default.array,selected:d.default.array,text:d.default.string,tabIndex:d.default.number,value:d.default.string,onBegin:d.default.func,onChange:d.default.func,onEnd:d.default.func,onFetch:d.default.func,onReady:d.default.func,onRemove:d.default.func,onSelect:d.default.func},h.defaultProps={format:function(e){var t=e.value;return f.default.createElement("div",{className:"reframe-lookup2-token"},t)},label:"Record",multiple:!1,value:"value",text:"text"},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(81)),i=f(a(407)),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.default,this._getPanel(),d.default.createElement(i.default,this._getToggleList()))}},{key:"_getPanel",value:function(){var e=this.props,t=e.label,a=e.multiple;return{title:"Choose "+t,leftItems:[{label:"Cancel",handler:this._handleCancel.bind(this)}],rightItems:a?[{label:"Done",handler:this._handleDone.bind(this)}]:null}}},{key:"_getToggleList",value:function(){var e=this.props,t=e.endpoint,a=e.format,n=e.multiple,l=e.options,r=e.selected,o=e.text,s=e.value;return{defaultValue:r.map(function(e){return c.default.get(e,s)}),endpoint:t,options:l,format:a,full:!0,multiple:n,text:o,value:s,onChange:this._handleSelect.bind(this)}}},{key:"_handleSelect",value:function(e){var t=this.props,a=t.multiple,n=t.selected,l=t.onDone;(0,t.onSelect)(e),a||c.default.isEqual(e,n)||l()}},{key:"_handleCancel",value:function(){this.props.onCancel()}},{key:"_handleDone",value:function(){this.props.onDone()}}]),t}(d.default.Component);m.contextTypes={},m.propTypes={endpoint:u.default.string,format:u.default.oneOfType([u.default.element,u.default.func]),label:u.default.string,multiple:u.default.bool,options:u.default.array,selected:u.default.array,text:u.default.string,value:u.default.string,onCancel:u.default.func,onDone:u.default.func,onSelect:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={filtering:!1,filter:{},query:"",chosen:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"LOAD_SUCCESS":return function(e,t){return(0,l.default)({},e,{chosen:t.result.data})}(e,t);case"SET_CHOSEN":return function(e,t){return(0,l.default)({},e,{chosen:t.chosen})}(e,t);case"SET_QUERY":return function(e,t){return(0,l.default)({},e,{query:t.query})}(e,t);case"SET_FILTER":return function(e,t){return(0,l.default)({},e,{filter:t.filter})}(e,t);case"TOGGLE_FILTER":return function(e,t){return(0,l.default)({},e,{filtering:!e.filtering})}(e);case"TOGGLE_RECORD":return function(e,t){return(0,l.default)({},e,{chosen:t.multiple?void 0!==r.default.find(e.chosen,{id:t.record.id})?e.chosen.filter(function(e){return e.id!==t.record.id}):[].concat((0,n.default)(e.chosen),[t.record]):[t.record]})}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(7)),l=_(a(2)),r=_(a(3)),o=_(a(4)),s=_(a(5)),i=_(a(70)),u=_(a(69)),d=_(a(168)),c=_(a(170)),f=_(a(1)),m=_(a(858)),p=_(a(0)),h=_(a(9));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.chosen,l=t.endpoint,r=t.filters,o=t.multiple,s=t.options,c=t.text;return p.default.createElement("div",{className:this._getClass()},p.default.createElement("div",{className:"reframe-toggle-list-overlay",onClick:this._handleToggleFilter.bind(this)}),r&&p.default.createElement("div",{className:"reframe-toggle-list-filter"},p.default.createElement(d.default,this._getFilters())),p.default.createElement("div",{className:"reframe-toggle-list-body"},p.default.createElement("div",{className:"reframe-toggle-list-header"},p.default.createElement(i.default,this._getSearchbox())),o&&a&&p.default.createElement("div",{className:"reframe-toggle-list-summary"},a.map(function(t,a){return p.default.createElement("div",{key:"summary_token_"+a,className:"reframe-toggle-list-summary-token"},p.default.createElement("div",{className:"reframe-toggle-list-summary-token-label"},h.default.get(t,c)),p.default.createElement("div",{className:"reframe-toggle-list-summary-token-remove",onClick:e._handleToggleRecord.bind(e,t)},p.default.createElement("i",{className:"fa fa-fw fa-times"})))})),l&&p.default.createElement(u.default,this._getInfinite()),s&&p.default.createElement(m.default,(0,n.default)({records:s},this._getResults()))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onReady;t&&t.length>0&&this._handleLoad(),a&&a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.chosen,n=t.full,l=t.value,r=t.onChange;r&&a&&!h.default.isEqual(e.chosen,a)&&r(a.map(function(e){return n?e:h.default.get(e,l)}))}},{key:"_getClass",value:function(){var e=["reframe-toggle-list"];return this.props.filtering&&e.push("filtering"),e.join(" ")}},{key:"_getFilters",value:function(){var e=this.props;return{filters:e.filters,values:e.filter,onUpdate:e.onSetFilter}}},{key:"_getSearchbox",value:function(){var e=this.props,t=e.filters,a=e.filtering,n=e.onSetQuery;return{icon:t?a?"times":"sliders":null,onIcon:this._handleToggleFilter.bind(this),onChange:n}}},{key:"_getInfinite",value:function(){var e=this,t=this.props,a=t.defaultFilters,l=t.endpoint,r=t.exclude_ids,o=t.chosen,s=t.query;return{endpoint:l,exclude_ids:r,filter:(0,n.default)({},a,this.props.filter,{q:s}),chosen:o,layout:function(t){return p.default.createElement(m.default,(0,n.default)({},e._getResults(),t))}}}},{key:"_getResults",value:function(){var e=this.props;return{format:e.format,chosen:e.chosen,multiple:e.multiple,text:e.text,value:e.value,onToggleRecord:this._handleToggleRecord.bind(this)}}},{key:"_handleLoad",value:function(){var e=this.props,t=e.defaultValue,a=e.endpoint,n=e.options,l=e.value,r=e.onLoad,o=e.onSetChosen;if(a)return r(a,{$ids:t});n&&o(n.filter(function(e){return h.default.includes(t,h.default.get(e,l))}))}},{key:"_handleToggleFilter",value:function(){var e=this.props.onToggleFilter;e&&e()}},{key:"_handleToggleRecord",value:function(e){var t=this.props,a=t.multiple,n=t.onToggleRecord;n&&n(a,e)}}]),t}(p.default.Component);v.propTypes={chosen:f.default.any,defaultFilters:f.default.object,defaultValue:f.default.array,endpoint:f.default.string,exclude_ids:f.default.array,filtering:f.default.bool,filters:f.default.array,full:f.default.bool,format:f.default.any,multiple:f.default.bool,options:f.default.array,query:f.default.string,text:f.default.string,value:f.default.string,onLoad:f.default.func,onReady:f.default.func,onChange:f.default.func,onSetChosen:f.default.func,onSetFilter:f.default.func,onSetQuery:f.default.func,onToggleFilter:f.default.func,onToggleRecord:f.default.func},v.defaultProps={defaultFilters:[],exclude_ids:[],format:c.default,full:!1,multiple:!1,value:"value",text:"text",onReady:function(){},onChange:function(e){}},t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(14)),l=m(a(7)),r=m(a(2)),o=m(a(3)),s=m(a(4)),i=m(a(5)),u=m(a(31)),d=m(a(1)),c=m(a(0)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.format,n=t.multiple,r=t.records,o=t.text;return c.default.createElement("div",{className:"reframe-search-results"},r.map(function(t,r){return c.default.createElement("div",{key:"record_"+r,className:e._getRecordClass(t),onClick:e._handleToggleRecord.bind(e,t)},n&&c.default.createElement("div",{className:"reframe-search-item-icon"},c.default.createElement("i",{className:"fa fa-fw fa-"+e._getIcon(t)})),c.default.createElement("div",{className:"reframe-search-item-label"},c.default.createElement(u.default,(0,l.default)({format:a},t,{value:f.default.get(t,o)}))),!n&&c.default.createElement("div",{className:"reframe-search-item-icon"},e._getChecked(t)&&c.default.createElement("i",{className:"fa fa-fw fa-check"})))}))}},{key:"_getRecordClass",value:function(e){var t=["reframe-search-item"];return this._getChecked(e)&&t.push("checked"),t.join(" ")}},{key:"_getChecked",value:function(e){var t=this.props.chosen,a=this.props.value||"id";return f.default.find(t,(0,n.default)({},a,f.default.get(e,a)))}},{key:"_getIcon",value:function(e){return this._getChecked(e)?"check-circle":"circle-o"}},{key:"_handleToggleRecord",value:function(e){this.props.onToggleRecord(e)}}]),t}(c.default.Component);p.propTypes={format:d.default.any,chosen:d.default.any,multiple:d.default.bool,records:d.default.array,text:d.default.string,value:d.default.string,onToggleRecord:d.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.load=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:e,query:t,request:"LOAD_REQUEST",success:"LOAD_SUCCESS",failure:"LOAD_FAILURE"}},t.setChosen=function(e){return{type:"SET_CHOSEN",chosen:e}},t.setQuery=function(e){return{type:"SET_QUERY",query:e}},t.setFilter=function(e){return{type:"SET_FILTER",filter:e}},t.toggleFilter=function(e){return{type:"TOGGLE_FILTER",id:e}},t.toggleRecord=function(e,t){return{type:"TOGGLE_RECORD",multiple:e,record:t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetch=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:e,query:t,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.set=function(e){return{type:"SET",records:e}},t.begin=function(){return{type:"BEGIN"}},t.end=function(){return{type:"END"}},t.remove=function(e){return{type:"REMOVE",index:e}},t.select=function(e){return{type:"SELECT",selected:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=c(a(408));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.default,this._getTextField())}},{key:"_getTextField",value:function(){return(0,n.default)({},this.props,{sanitize:function(e){return e.replace(/[\$,]/g,"")},validate:function(e){return null!==e.match(/^-?\d*\.?\d{0,2}$/)}})}}]),t}(i.default.Component);f.propTypes={maxLength:u.default.number,disabled:u.default.bool,placeholder:u.default.string,defaultValue:u.default.string,tabIndex:u.default.number,onBusy:u.default.func,onChange:u.default.func,onFocus:u.default.func,onBlur:u.default.func,onReady:u.default.func,onKeyPress:u.default.func,onKeyUp:u.default.func,onKeyDown:u.default.func},f.defaultProps={tabIndex:0},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){(0,n.default)(this,t);var a=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:u.default.toString(e.defaultValue)},a}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"password"},i.default.createElement("input",this._getInput()))}},{key:"componentDidMount",value:function(){this.props.onReady()}},{key:"componentDidUpdate",value:function(e){e.defaultValue!=this.props.defaultValue&&this.setValue(this.props.defaultValue)}},{key:"_getInput",value:function(){var e=this.state.value,t=this.props,a=t.autoComplete,n=t.placeholder,l=t.tabIndex,r=t.onBlur,o=t.onFocus,s=t.onKeyPress,i=t.onKeyUp,u=t.onKeyDown;return{type:"password",value:e,autoComplete:a,placeholder:n,tabIndex:l,onChange:this._handleChange.bind(this),onBlur:r,onFocus:o,onKeyPress:s,onKeyUp:i,onKeyDown:u}}},{key:"_handleChange",value:function(e){this.setValue(e.target.value),this.props.onChange(e.target.value)}},{key:"setValue",value:function(e){this.props.maxLength&&e.length>this.props.maxLength||this.setState({value:e})}}]),t}(i.default.Component);c.propTypes={autoComplete:s.default.string,maxLength:s.default.number,prefix:s.default.string,suffix:s.default.string,defaultValue:s.default.string,disabled:s.default.bool,placeholder:s.default.string,tabIndex:s.default.number,onBlur:s.default.func,onBusy:s.default.func,onChange:s.default.func,onFocus:s.default.func,onKeyPress:s.default.func,onKeyUp:s.default.func,onKeyDown:s.default.func,onReady:s.default.func},c.defaultProps={autoComplete:"off",maxLength:null,prefix:null,suffix:null,disabled:!1,placeholder:"",defaultValue:"",tabIndex:0,onBlur:function(){},onBusy:function(){},onChange:function(){},onFocus:function(){},onKeyPress:function(){},onKeyUp:function(){},onKeyDown:function(){},onReady:function(){}},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(398)),r=s(a(399)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(400));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.radio_group",component:(0,r.default)(!1),reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(31)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.defaultValue,a=e.format,n=d.default.toString(t);return u.default.createElement("div",{className:"reframe-text"},u.default.createElement(i.default,{format:a,value:n}))}},{key:"componentDidMount",value:function(){this.props.onReady()}}]),t}(u.default.Component);f.propTypes={defaultValue:s.default.string,disabled:s.default.bool,format:s.default.any,onBusy:s.default.func,onChange:s.default.func,onReady:s.default.func},f.defaultProps={defaultValue:"",disabled:!1,format:null,onBusy:function(){},onChange:function(){},onReady:function(){}},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){(0,n.default)(this,t);var a=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:e.defaultValue?u.default.toString(e.defaultValue):null},a}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"textarea"},i.default.createElement("textarea",this._getTextarea()))}},{key:"componentDidMount",value:function(){this.props.onReady()}},{key:"componentDidUpdate",value:function(e){e.defaultValue!=this.props.defaultValue&&this.setValue(this.props.defaultValue)}},{key:"_getTextarea",value:function(){var e=this.props,t=e.placeholder,a=e.disabled,n=e.rows,l=e.tabIndex;return{placeholder:t,disabled:a,defaultValue:this.state.value,rows:n,tabIndex:l,onChange:this._handleChange.bind(this)}}},{key:"_handleChange",value:function(e){this.setValue(e.target.value),this.props.onChange(e.target.value)}},{key:"setValue",value:function(e){this.props.maxLength&&e.length<=this.props.maxLength&&this.setState({value:e})}}]),t}(i.default.Component);c.propTypes={defaultValue:s.default.string,disabled:s.default.bool,maxLength:s.default.number,placeholder:s.default.string,rows:s.default.number,tabIndex:s.default.number,onBusy:s.default.func,onChange:s.default.func,onReady:s.default.func},c.defaultProps={defaultValue:"",disabled:!1,maxLength:null,placeholder:"",rows:5,tabIndex:0,onBusy:function(){},onChange:function(){},onReady:function(){}},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(10)),l=p(a(7)),r=p(a(2)),o=p(a(3)),s=p(a(4)),i=p(a(5)),u=p(a(0)),d=p(a(1)),c=p(a(404)),f=p(a(8)),m=p(a(153));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.text,a=e.duration;return u.default.createElement("div",{className:"reframe-timefield-token"},t,a&&u.default.createElement("span",{className:"reframe-timefield-token-duration"},"(",a>=1?(0,m.default)("hour",a,!0):(0,m.default)("mins",60*a,!0),")"))};h.propTypes={text:d.default.string,duration:d.default.number};var _=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return u.default.createElement(c.default,this._getLookup())}},{key:"_getLookup",value:function(){return(0,l.default)({},this.props,{defaultValue:this._getStandardized(this.props.defaultValue),type:"lookup",options:this._getOptions(),format:h})}},{key:"_getStandardized",value:function(e){return e?(0,f.default)("2018-01-01 "+e.replace(/\s?(am|pm)/i," $1")).format("HH:mm:ss"):null}},{key:"_getOptions",value:function(){var e=this.props,t=e.increment,a=e.start,l=(0,f.default)().format("YYYY-MM-DD"),r=(0,f.default)(l+" "+a,"YYYY-MM-DD HH:mm"),o=(0,f.default)(l+" 24:00","YYYY-MM-DD HH:mm").diff(r)/1e3/60/60*(60/t),s=(0,f.default)(l+" "+a,"YYYY-MM-DD HH:mm");return Array.apply(null,{length:o}).reduce(function(e,a){var l={value:s.format("HH:mm:ss"),text:s.format("hh:mm A"),duration:s.diff(r)/1e3/60/60};return s.add(t,"minutes"),[].concat((0,n.default)(e),[l])},[])}}]),t}(u.default.Component);_.propTypes={defaultValue:d.default.string,disabled:d.default.bool,duration:d.default.bool,increment:d.default.number,prompt:d.default.string,start:d.default.string,tabIndex:d.default.number,onBusy:d.default.func,onChange:d.default.func,onFocus:d.default.func,onBlur:d.default.func,onReady:d.default.func,onKeyPress:d.default.func,onKeyUp:d.default.func,onKeyDown:d.default.func},_.defaultProps={prompt:"Choose a time",duration:!1,increment:15,start:"00:00",tabIndex:0},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(868)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.alert,a=e.empty,l=e.footer,r=e.header,o=e.items,s=e.sections;return u.default.createElement("div",{className:this._getClasses()},r&&u.default.createElement("div",{className:"reframe-list-header"},d.default.isFunction(r)?u.default.createElement(r):r),t&&u.default.createElement("div",{className:"reframe-list-alert "+t.color},t.message),s&&s.map(function(e,t){return u.default.createElement(i.default,(0,n.default)({},e,{key:"list_section_"+t}))}),o&&u.default.createElement(i.default,{items:o,empty:a}),l&&u.default.createElement("div",{className:"reframe-list-footer"},d.default.isFunction(l)?u.default.createElement(l):l))}},{key:"_getClasses",value:function(){var e=this.props.className,t=["reframe-list"];return e&&t.push(e),t.join(" ")}}]),t}(u.default.Component);t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(103)),u=f(a(869)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.content,l=e.empty,r=e.items,o=e.title;return d.default.createElement("div",{className:"reframe-list-section"},o&&d.default.createElement("div",{className:"reframe-list-title"},o),t&&c.default.isFunction(t)?d.default.createElement(t,a):t,a&&d.default.createElement("div",{className:"reframe-list-item"},d.default.createElement("div",{className:"reframe-list-item-content"},d.default.createElement("div",{className:"reframe-list-item-content-value"},a))),r&&r.length>0&&r.map(function(e,t){return d.default.createElement(u.default,(0,n.default)({key:"list_item_"+t},e))}),l&&r&&0===r.length&&d.default.createElement("div",{className:"reframe-list-item"},c.default.isPlainObject(l)?d.default.createElement(i.default,l):d.default.createElement("div",{className:"reframe-list-item-content"},d.default.createElement("div",{className:"reframe-list-item-content-value"},c.default.isFunction(l)?d.default.createElement(l,this.props):l))))}}]),t}(d.default.Component);t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(31)),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.alt,a=e.component,l=e.content,r=e.empty,o=e.extra,s=e.format,u=e.handler,f=e.icon,m=e.label,p=e.link,h=e.tasks,_=e.units;if(!1===this.props.if)return null;var v=d.default.createElement("div",{className:this._getClass()},f&&d.default.createElement("div",{className:"reframe-list-item-icon"},d.default.createElement("i",{className:"fa fa-fw fa-"+f})),a&&d.default.createElement("div",{className:"reframe-list-item-component"},c.default.isFunction(a)?d.default.createElement(a,l):a),!a&&d.default.createElement("div",{className:"reframe-list-item-content"},m&&d.default.createElement("div",{className:"reframe-list-item-content-label"},m),d.default.createElement("div",{className:"reframe-list-item-content-value"},l&&d.default.createElement(i.default,(0,n.default)({},l,{format:s,value:l})),l&&_&&" "+_,!l&&t&&d.default.createElement("span",null,t),!l&&r&&d.default.createElement("span",{className:"reframe-list-item-content-empty"},r))),o&&d.default.createElement("div",{className:"reframe-list-item-extra"},c.default.isFunction(o)?d.default.createElement(o,l):o),(u||p)&&d.default.createElement("div",{className:"reframe-list-item-proceed"},d.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})),h&&d.default.createElement("div",{className:"reframe-list-item-proceed",onClick:this._handleTasks.bind(this)},d.default.createElement("i",{className:"fa fa-fw fa-ellipsis-v"})));return d.default.createElement("div",{onClick:this._handleClick.bind(this)},v)}},{key:"_handleClick",value:function(){var e=this.props,t=e.link,a=e.handler;t&&this.context.router.push(t),a&&a()}},{key:"_getClass",value:function(){var e=this.props,t=e.className,a=e.handler,n=e.link,l=["reframe-list-item"];return t&&l.push(t),(n||a)&&l.push("reframe-list-item-link"),l.join(" ")}},{key:"_handleTasks",value:function(){var e=this.props.tasks;this.context.tasks.open(e)}}]),t}(d.default.Component);m.contextTypes={router:u.default.object,tasks:u.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.title,n=e.text,l=this._getPercent();return s.default.createElement("div",{className:"reframe-progress"},s.default.createElement("div",{className:"pie p"+l},s.default.createElement("span",null,t||l+"%"),s.default.createElement("div",{className:"slice"},s.default.createElement("div",{className:"bar"}),s.default.createElement("div",{className:"fill"}))),a&&s.default.createElement("h3",null,a),n&&s.default.createElement("p",null,n))}},{key:"_getPercent",value:function(){var e=this.props.percent;return parseInt(e)}}]),t}(s.default.Component);d.propTypes={label:i.default.string,percent:i.default.number,text:i.default.string,title:i.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.component;return i.default.createElement("div",{className:"reframe-panel"},t&&i.default.createElement("div",{className:"reframe-panel-header"},i.default.createElement("div",{className:"reframe-panel-inner"},u.default.isFunction()?i.default.createElement(t):t)),i.default.createElement("div",{className:"reframe-panel-body"},i.default.createElement("div",{className:"reframe-panel-inner"},u.default.isFunction(a)?i.default.createElement(a):a)))}}]),t}(i.default.Component);c.propTypes={component:s.default.any,header:s.default.any},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(873)),r=s(a(874)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(875));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"reframe.prompt",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={title:null,message:null,options:null,open:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"OPEN":return function(e,t){return{title:t.title,message:t.message,options:t.options,open:!0}}(0,t);case"CLOSE":return function(e,t){return(0,n.default)({},e,{open:!1})}(e);case"CLEAR":return(0,n.default)({},l);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(21),u=f(a(1)),d=f(a(68)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.cancel,l=t.children,r=t.message,o=t.title,s=t.open,u=t.options;return[l,c.default.createElement(i.CSSTransition,{key:"reframe-prompt-overlay",in:s,classNames:"expanded",timeout:250,mountOnEnter:!0,unmountOnExit:!0},c.default.createElement("div",{className:"reframe-prompt-overlay",onClick:this._handleClose.bind(this)})),c.default.createElement(i.CSSTransition,{key:"reframe-prompt-options",in:s,classNames:"expanded",timeout:250,mountOnEnter:!0,unmountOnExit:!0},c.default.createElement("div",{className:"reframe-prompt-options"},o&&c.default.createElement("div",{className:"reframe-prompt-title"},o),r&&c.default.createElement("div",{className:"reframe-prompt-message"},r),u&&u.map(function(t,a){return c.default.createElement(d.default,(0,n.default)({key:"option_"+a},e._getButton(t)))}),a&&c.default.createElement("div",{className:"reframe-prompt-cancel",onClick:this._handleClose.bind(this)},"Cancel")))]}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.open,n=t.onClear;a===e.open||a||setTimeout(n,500)}},{key:"getChildContext",value:function(){return{alert:this._getAlertChildContext(),confirm:this._getConfirmChildContext(),prompt:this._getPromptChildContext()}}},{key:"_getButton",value:function(e){return(0,n.default)({},e,{className:"reframe-prompt-item",onDone:this._handleClose.bind(this)})}},{key:"_getAlertChildContext",value:function(){var e=this.props,t=e.onOpen;return{open:function(e){return t("ALERT",e)},close:e.onClose}}},{key:"_getConfirmChildContext",value:function(){var e=this.props,t=e.onOpen,a=e.onClose;return{open:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t(e,null,[{text:"Yes",handler:function(){return n?n():a()}},{text:"No",handler:function(){return l?l():a()}}])},close:a}}},{key:"_getPromptChildContext",value:function(){var e=this.props,t=e.onOpen;return{open:function(e,a){return t(e,null,a)},close:e.onClose}}},{key:"_handleClose",value:function(){this.props.onClose()}}]),t}(c.default.Component);m.childContextTypes={alert:u.default.object,confirm:u.default.object,prompt:u.default.object},m.contextTypes={drawer:u.default.object,modal:u.default.object},m.propTypes={cancel:u.default.bool,children:u.default.any,message:u.default.string,open:u.default.bool,options:u.default.array,title:u.default.string,onClear:u.default.func,onClose:u.default.func,onOpen:u.default.func},m.defaultProps={cancel:!1},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.open=function(e,t,a){return{type:"OPEN",title:e,message:t,options:a}},t.close=function(){return{type:"CLOSE"}},t.clear=function(){return{type:"CLEAR"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(877)),r=s(a(878)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(880));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.search2",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={q:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"QUERY":return function(e,t){return(0,n.default)({},e,{q:t.q})}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=p(a(70)),u=p(a(69)),d=p(a(1)),c=p(a(879)),f=p(a(409)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.props.endpoint?m.default.createElement("div",{className:"reframe-search"},m.default.createElement("div",{className:"reframe-search-header"},m.default.createElement(i.default,this._getSearchbox())),m.default.createElement("div",{className:"reframe-search-body"},m.default.createElement(u.default,this._getInfinite()))):m.default.createElement(f.default,this._getOptions())}},{key:"_getOptions",value:function(){var e=this.props;return{format:e.format,text:e.text,value:e.value,options:e.options,onChoose:e.onChoose}}},{key:"_getSearchbox",value:function(){var e=this.props,t=e.label,a=e.prompt,n=e.onQuery;return{prompt:a||"Find a "+t,onChange:n}}},{key:"_getInfinite",value:function(){var e=this,t=this.props,a=t.cacheKey,l=t.empty,r=t.endpoint,o=t.exclude_ids,s=t.notFound;return{cacheKey:a,empty:l,endpoint:r,exclude_ids:o,filter:{q:t.q},layout:function(t){return m.default.createElement(c.default,(0,n.default)({},e._getDynamic(),t))},notFound:s}}},{key:"_getDynamic",value:function(){var e=this.props;return{format:e.format,text:e.text,value:e.value,onChoose:e.onChoose}}}]),t}(m.default.Component);h.propTypes={cacheKey:d.default.string,endpoint:d.default.string,exclude_ids:d.default.array,empty:d.default.func,format:d.default.any,label:d.default.string,notFound:d.default.func,options:d.default.array,prompt:d.default.string,q:d.default.string,text:d.default.string,value:d.default.string,onQuery:d.default.func,onChoose:d.default.func},h.defaultProps={format:function(e){var t=e.value;return m.default.createElement("div",{className:"token"},t)},cacheKey:null,empty:null,notFound:null,onChoose:function(){}},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(409)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.records?u.default.createElement(i.default,this._getOptions()):null}},{key:"_getOptions",value:function(){var e=this.props,t=e.format,a=e.records,n=e.status,l=e.onChoose,r=a.map(this._getOption.bind(this));return{name:name,format:t,options:r,status:n,onChoose:l}}},{key:"_getOption",value:function(e){var t=this.props,a=t.text,n=t.value;return{value:d.default.get(e,n),text:d.default.get(e,a),record:e}}}]),t}(u.default.Component);f.propTypes={format:s.default.any,records:s.default.array,status:s.default.string,text:s.default.string,value:s.default.string,onChoose:s.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.query=function(e){return{type:"QUERY",q:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(10)),r=m(a(2)),o=m(a(3)),s=m(a(4)),i=m(a(5)),u=m(a(411)),d=m(a(1)),c=m(a(0)),f=m(a(410));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={cards:[]},l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.state.cards;return c.default.createElement(f.default,{cards:e})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.pathname;if(t!==e.rootPath){var a=this._matchRoute(t);this.setState({cards:[a]})}}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.action,l=a.pathname,r=this.state.mounted;if(e.pathname!==l)if("push"===n){var o=this._matchRoute(l);this._handlePush(o),setTimeout(function(){return t.setState({mounted:r+1})},50)}else"pop"===n&&(this.setState({mounted:r-1}),setTimeout(this._handlePop.bind(this),500))}},{key:"getChildContext",value:function(){this.state.cards;return{stack:{push:this._handlePush.bind(this),pop:this._handlePop.bind(this)}}}},{key:"_handlePush",value:function(e){this.setState({cards:[].concat((0,l.default)(this.state.cards),[e])})}},{key:"_handlePop",value:function(){var e=this.state.cards.slice(0,-1);this.setState({cards:e})}},{key:"_matchRoute",value:function(e){var t=this.props.routes;return Object.keys(t).reduce(function(a,n){if(a)return a;var l=(0,u.default)(e,{path:n,exact:!0});return l?{pathname:e,component:t[n],props:{pathname:e,params:l.params}}:null},null)}}]),t}(c.default.Component);p.childContextTypes={stack:d.default.object},p.propTypes={action:d.default.string,pathname:d.default.string,rootPath:d.default.string,routes:d.default.object},p.defaultProps={rootPath:"/"};var h=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement(p,this._getRouter(),this.props.children)}},{key:"_getRouter",value:function(){var e=this._getHistory(),t=e.action,a=e.pathname;return(0,n.default)({},this.props,{pathname:a,action:t.toLowerCase()})}},{key:"_getHistory",value:function(){var e=this.context.router;return e.history?{action:e.history.action,pathname:e.history.location.pathname}:e}}]),t}(c.default.Component);h.contextTypes={router:d.default.object},h.propTypes={children:d.default.any,routes:d.default.object},t.default=h},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(885)),r=s(a(886)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(887));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"reframe.tabs",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={chosen:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"CHOOSE":return function(e,t){return(0,n.default)({},e,{chosen:t.index})}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(7)),r=f(a(2)),o=f(a(3)),s=f(a(4)),i=f(a(5)),u=f(a(0)),d=f(a(1)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._swipe={},n.state={visited:[],transitioning:!1},l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.header,n=t.items;return u.default.createElement("div",{className:"reframe-tabs"},u.default.createElement("div",{className:"reframe-tabs-header"},a&&u.default.createElement("div",{className:"reframe-tabs-header-content"},c.default.isFunction()?u.default.createElement(a):a),u.default.createElement("div",{className:"reframe-tabs-items"},n.map(function(t,a){return u.default.createElement("div",{key:"tab_"+a,className:e._getItemClass(a),onClick:e._handleChoose.bind(e,a)},t.label)}))),u.default.createElement("div",(0,l.default)({className:"reframe-tabs-body"},this._getTabsBody()),n.map(function(t,a){return u.default.createElement("div",{key:"tab_body_"+a,className:e._getTabClass(a)},u.default.createElement("div",{className:"reframe-tab-content"},c.default.isFunction()?u.default.createElement(t.component):t.component))})))}},{key:"componentDidMount",value:function(){this.props.onChoose(0)}},{key:"_getItemClass",value:function(e){var t=["reframe-tabs-item"];return e===this.props.chosen&&t.push("active"),t.join(" ")}},{key:"_getTabClass",value:function(e){var t=this.state.transitioning,a=this.props.chosen,n=["reframe-tab"];return t&&n.push("transitioning"),e>a&&n.push("right"),e<a&&n.push("left"),e===a&&n.push("active"),n.join(" ")}},{key:"_handleChoose",value:function(e){var t=this,a=this.props.onChoose,l=c.default.uniq([].concat((0,n.default)(this.state.visited),[e]));this.setState({visited:l,transitioning:!0}),setTimeout(function(){return a(e)},20),setTimeout(function(){return t.setState({transitioning:!1})},520)}},{key:"_getTabsBody",value:function(){return{className:"reframe-tabs-body",onTouchStart:this._handleTouchStart.bind(this),onTouchMove:this._handleTouchMove.bind(this),onTouchEnd:this._handleTouchEnd.bind(this)}}},{key:"_handleTouchStart",value:function(e){this._swipe={x:e.touches[0].clientX}}},{key:"_handleTouchMove",value:function(e){e.changedTouches&&e.changedTouches.length&&(this._swipe.swiping=!0)}},{key:"_handleTouchEnd",value:function(e){var t=this.props,a=t.chosen,n=t.items,l=e.changedTouches[0].clientX-this._swipe.x;this._swipe.swiping&&Math.abs(l)>30&&(l<0&&a<n.length-1&&this._handleChoose(a+1),l>0&&a>0&&this._handleChoose(a-1)),this._swipe={}}}]),t}(u.default.Component);m.contextTypes={stack:d.default.object},m.propTypes={chosen:d.default.number,header:d.default.any,items:d.default.array,onChoose:d.default.func},m.defaultProps={chosen:null,header:null,items:[],onChoose:function(e){}},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.choose=function(e){return{type:"CHOOSE",index:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(889)),r=s(a(890)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(891));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"reframe.tasks",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={items:null,open:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"OPEN":return function(e,t){return(0,n.default)({},e,{items:t.items,open:!0})}(e,t);case"CLOSE":return function(e,t){return(0,n.default)({},e,{open:!1})}(e);case"CLEAR":return l;default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(21),u=f(a(1)),d=f(a(68)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,l=t.items,r=t.open;t.title;return[a,c.default.createElement(i.CSSTransition,{key:"reframe-tasks-overlay",in:r,classNames:"expanded",timeout:250,mountOnEnter:!0,unmountOnExit:!0},c.default.createElement("div",{className:"reframe-tasks-overlay",onClick:this._handleClose.bind(this)})),c.default.createElement(i.CSSTransition,{key:"reframe-tasks-list",in:r,classNames:"expanded",timeout:250,mountOnEnter:!0,unmountOnExit:!0},c.default.createElement("div",{className:"reframe-tasks-list"},l&&l.map(function(t,a){if(!1!==t.show)return c.default.createElement(d.default,(0,n.default)({key:"task_"+a},e._getButton(t)))}),c.default.createElement("div",{className:"reframe-tasks-cancel",onClick:this._handleClose.bind(this)},"Cancel")))]}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.open,n=t.onClear;a===e.open||a||setTimeout(n,500)}},{key:"getChildContext",value:function(){var e=this.props;return{tasks:{open:e.onOpen,close:e.onClose}}}},{key:"_getButton",value:function(e){return(0,n.default)({},e,{className:"reframe-task",onDone:this._handleClose.bind(this)})}},{key:"_handleClose",value:function(){this.props.onClose()}}]),t}(c.default.Component);m.childContextTypes={tasks:u.default.object},m.contextTypes={drawer:u.default.object,modal:u.default.object},m.propTypes={children:u.default.any,items:u.default.array,title:u.default.string,open:u.default.bool,onClear:u.default.func,onClose:u.default.func,onOpen:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.open=function(e){return{type:"OPEN",items:e}},t.close=function(){return{type:"CLOSE"}},t.clear=function(){return{type:"CLEAR"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tray=t.Popup=t.Modal=t.Flash=t.Drawer=void 0;var n=i(a(893)),l=i(a(897)),r=i(a(901)),o=i(a(905)),s=i(a(909));function i(e){return e&&e.__esModule?e:{default:e}}t.Drawer=n.default,t.Flash=l.default,t.Modal=r.default,t.Popup=o.default,t.Tray=s.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(894)),r=s(a(895)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(896));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"reframe.drawer",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={component:null,location:null,open:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"OPEN":return function(e,t){return{component:t.component,location:t.location,open:!0}}(0,t);case"CLOSE":return function(e,t){return(0,n.default)({},e,{open:!1})}(e);case"CLEAR":return(0,n.default)({},l);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(21),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.component,n=e.location,l=e.open;return[t,u.default.createElement(s.CSSTransition,{key:"reframe-drawer-overlay",in:l,classNames:"expanded",timeout:500,mountOnEnter:!0,unmountOnExit:!0},u.default.createElement("div",{className:"reframe-drawer-overlay",onClick:this._handleClose.bind(this)})),u.default.createElement(s.CSSTransition,{key:"reframe-drawer-panel",in:l,classNames:"expanded",timeout:500,mountOnEnter:!0,unmountOnExit:!0},u.default.createElement("div",{className:"reframe-drawer-panel reframe-drawer-panel-"+n},d.default.isFunction(a)?u.default.createElement(a):a))]}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.open,n=t.onClear;a===e.open||a||setTimeout(n,500)}},{key:"getChildContext",value:function(){return{drawer:{open:this._handleOpen.bind(this),close:this._handleClose.bind(this)}}}},{key:"_handleOpen",value:function(e,t){this.props.onOpen(e,t)}},{key:"_handleClose",value:function(){this.props.onClose()}}]),t}(u.default.Component);f.childContextTypes={drawer:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.open=function(e,t){return{type:"OPEN",component:e,location:t}},t.close=function(){return{type:"CLOSE"}},t.clear=function(){return{type:"CLEAR"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(898)),r=s(a(899)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(900));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"reframe.flash",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={message:null,style:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1];switch(t.type){case"SET":return l(e,t);case"CLEAR":return r(e,t);default:return e}};var l=function(e,t){return{style:t.style,message:t.message}},r=function(e,t){return n}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(21),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={message:null,style:null},o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.message,n=t.style;return[e,u.default.createElement(s.CSSTransition,{key:"reframe-flash",in:null!==this.props.message,classNames:"expanded",timeout:250,mountOnEnter:!0,unmountOnExit:!0},u.default.createElement("div",{className:"reframe-flash-popup "+(n||"")},u.default.createElement("div",{className:"reframe-flash-popup-panel"},u.default.createElement("div",{className:"reframe-flash-popup-icon"},this._getIcon(n)),u.default.createElement("div",{className:"reframe-flash-popup-message"},u.default.createElement("p",null,a)))))]}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props,l=n.message,r=n.style,o=n.onClear;e.message!==l&&(l?(this.setState({message:l,style:r}),setTimeout(o,2e3)):setTimeout(function(){return a.setState({message:l,style:r})},250))}},{key:"_getIcon",value:function(e){return"success"==e?u.default.createElement("i",{className:"fa fa-check-circle"}):"warning"==e?u.default.createElement("i",{className:"fa fa-warning"}):"error"==e?u.default.createElement("i",{className:"fa fa-times-circle"}):u.default.createElement("i",{className:"fa fa-info-circle"})}},{key:"getChildContext",value:function(){var e=this.props;return{flash:{set:e.onSet,clear:e.onClear}}}}]),t}(u.default.Component);c.childContextTypes={flash:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.set=function(e,t){return{type:"SET",style:e,message:t}},t.clear=function(){return{type:"CLEAR"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(902)),r=s(a(903)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(904));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"reframe.modal",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o={panels:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"CLOSE":return function(e,t){return(0,l.default)({},e,{panels:[]})}(e);case"OPEN":return function(e,t){return{panels:[t.component]}}(0,t);case"POP":return function(e,t){return{panels:e.panels.slice(0,0-t.num)}}(e,t);case"PUSH":return function(e,t){return{panels:[].concat((0,n.default)(e.panels),[t.component])}}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(21),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={panels:[]},o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.panels;return[this.props.children,s.default.createElement(u.CSSTransition,{key:"reframe-modal-overlay",in:e.length>0,classNames:"expanded",timeout:500,mountOnEnter:!0,unmountOnExit:!0},s.default.createElement("div",{className:"reframe-modal-overlay",onClick:this._handleClose.bind(this)})),s.default.createElement(u.CSSTransition,{key:"reframe-modal-window",in:e.length>0,classNames:"expanded",timeout:500,mountOnEnter:!0,unmountOnExit:!0},s.default.createElement("div",{className:"reframe-modal-window"},s.default.createElement(u.TransitionGroup,null,e.map(function(e,t){return s.default.createElement(u.CSSTransition,{classNames:t>0?"stack":"",timeout:500,key:"panel_"+t},s.default.createElement("div",null,d.default.isFunction(e)?s.default.createElement(e):e))}))))]}},{key:"componentDidUpdate",value:function(e,t){this.props.panels}},{key:"getChildContext",value:function(){return{modal:{close:this._handleClose.bind(this),open:this._handleOpen.bind(this),pop:this._handlePop.bind(this),push:this._handlePush.bind(this)}}}},{key:"_handleClose",value:function(){this.props.onClose()}},{key:"_handleOpen",value:function(e){this.props.onOpen(e)}},{key:"_handlePop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.props.onPop(e)}},{key:"_handlePush",value:function(e){this.props.onPush(e)}}]),t}(s.default.Component);f.childContextTypes={modal:i.default.object},f.propTypes={panels:i.default.array,onClose:i.default.func,onOpen:i.default.func,onPop:i.default.func,onPush:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.close=function(){return{type:"CLOSE"}},t.open=function(e){return{type:"OPEN",component:e}},t.pop=function(){return{type:"POP",num:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}},t.push=function(e){return{type:"PUSH",component:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(906)),r=s(a(907)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(908));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"reframe.popup",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={component:null,open:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"OPEN":return function(e,t){return{component:t.component,open:!0}}(0,t);case"CLOSE":return function(e,t){return(0,n.default)({},e,{open:!1})}(e);case"CLEAR":return(0,n.default)({},l);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(21),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.component,n=e.open;return[t,u.default.createElement(s.CSSTransition,{key:"reframe-popup",in:n,classNames:"expanded",timeout:250,mountOnEnter:!0,unmountOnExit:!0},u.default.createElement("div",{className:"reframe-popup-panel"},u.default.createElement("div",{className:"reframe-popup-panel-item"},a&&(d.default.isFunction(a)?u.default.createElement(a):a))))]}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.open,n=t.onClear;a===e.open||a||setTimeout(n,500)}},{key:"getChildContext",value:function(){var e=this.props;return{popup:{open:e.onOpen,close:e.onClose}}}}]),t}(u.default.Component);f.childContextTypes={popup:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.open=function(e){return{type:"OPEN",component:e}},t.close=function(){return{type:"CLOSE"}},t.clear=function(){return{type:"CLEAR"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(19),l=s(a(910)),r=s(a(911)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(912));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Singleton)({namespace:"reframe.tray",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={component:null,open:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"OPEN":return function(e,t){return{component:t.component,open:!0}}(0,t);case"CLOSE":return function(e,t){return(0,n.default)({},e,{open:!1})}(e);case"CLEAR":return(0,n.default)({},l);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(21),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.component,n=e.open;return[t,s.default.createElement(u.CSSTransition,{key:"reframe-overlay",in:n,classNames:"expanded",timeout:500,mountOnEnter:!0,unmountOnExit:!0},s.default.createElement("div",{className:"reframe-tray-overlay",onClick:this._handleCloseTray.bind(this)})),s.default.createElement(u.CSSTransition,{key:"reframe-tray-panel",in:n,classNames:"expanded",timeout:500,mountOnEnter:!0,unmountOnExit:!0},s.default.createElement("div",{className:"reframe-tray-panel"},d.default.isFunction(a)?s.default.createElement(a):a))]}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.open,n=t.onClear;a===e.open||a||setTimeout(n,500)}},{key:"getChildContext",value:function(){return{tray:{open:this._handleOpenTray.bind(this),close:this._handleCloseTray.bind(this)}}}},{key:"_handleOpenTray",value:function(e){this.props.onOpen(e)}},{key:"_handleCloseTray",value:function(){this.props.onClose()}}]),t}(s.default.Component);f.childContextTypes={tray:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.open=function(e){return{type:"OPEN",component:e}},t.close=function(){return{type:"CLOSE"}},t.clear=function(){return{type:"CLEAR"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Format=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(31));t.Format=n.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.children}}]),t}(i(a(0)).default.Component);u.propTypes={children:s.default.any},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(2)),l=h(a(3)),r=h(a(4)),o=h(a(5)),s=a(24),i=h(a(1)),u=h(a(412)),d=h(a(481)),c=h(a(487)),f=h(a(488)),m=h(a(0)),p=h(a(9));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.context,a=t.router,n=t.admin,l=this.props,r=l.badges,o=l.roots,i=l.routes,p=a.pathname;return null!==p.match(/^\/admin\/activate/)?m.default.createElement(u.default,{location:{pathname:p}}):null!==p.match(/^\/admin\/reset/)?m.default.createElement(f.default,{location:{pathname:p}}):null!==p.match(/^\/admin\/signin/)?m.default.createElement(c.default,{location:{pathname:p}}):n.user&&n.team?m.default.createElement("div",{className:"maha-platform",key:n.user.id},o.map(function(t,a){return"maha"===t.app||e._getAccess(t.app)?m.default.createElement(t.component,{key:"root_"+a}):null}),m.default.createElement(s.Tray,null,m.default.createElement(s.Prompt,null,m.default.createElement(s.Modal,null,m.default.createElement(s.Prompt,null,m.default.createElement(s.Drawer,null,m.default.createElement(s.Tasks,null,m.default.createElement(d.default,{badges:r,routes:i})))))))):null}},{key:"_getAccess",value:function(e){return p.default.findIndex(this.context.admin.apps,{code:e})>=0}}]),t}(m.default.Component);_.contextTypes={admin:i.default.object,router:i.default.object},_.propTypes={badges:i.default.array,children:i.default.any,roots:i.default.array,routes:i.default.object},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={error:null,message:null,mode:"verify",notification_methods:null,status:"pending",token:null,team:null,photo_id:null,questions:null,question_id:null,user:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"VERIFY_REQUEST":return(0,n.default)({},e,{error:null,status:"submitting",token:t.request.params.token});case"PASSWORD_REQUEST":case"SECURITY_REQUEST":case"AVATAR_REQUEST":case"NOTIFICATIONS_REQUEST":return(0,n.default)({},e,{error:null,status:"submitting"});case"PASSWORD_FAILURE":case"SECURITY_FAILURE":case"AVATAR_FAILURE":case"NOTIFICATIONS_FAILURE":return(0,n.default)({},e,{status:"failure",error:t.result.meta.message});case"VERIFY_FAILURE":return(0,n.default)({},e,{mode:"invalid",status:"failure",message:t.result.meta.message});case"VERIFY_SUCCESS":return(0,n.default)({},e,{mode:"welcome",questions:t.result.data.questions,notification_methods:t.result.data.notification_methods,status:"success",user:t.result.data.user});case"SECURITY_SUCCESS":return(0,n.default)({},e,{status:"success",mode:"password"});case"PASSWORD_SUCCESS":return(0,n.default)({},e,{photo_id:t.result.data.photo_id,status:"success",mode:"avatar"});case"AVATAR_SUCCESS":return(0,n.default)({},e,{mode:"notifications"});case"NOTIFICATIONS_SUCCESS":return(0,n.default)({},e,{team:t.result.data.team,token:t.result.data.token,user:t.result.data.user,mode:"complete"});case"CHANGE_MODE":return(0,n.default)({},e,{mode:t.mode});case"CHOOSE_QUESTION":return(0,n.default)({},e,{mode:"answer",question_id:t.id});case"SET_PHOTO_ID":return(0,n.default)({},e,{photo_id:t.id});case"RESET":return l;default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(44)),l=E(a(2)),r=E(a(3)),o=E(a(4)),s=E(a(5)),i=a(21),u=E(a(918)),d=E(a(1)),c=E(a(1171)),f=E(a(1172)),m=E(a(1173)),p=E(a(1174)),h=E(a(1175)),_=E(a(1176)),v=E(a(1177)),y=E(a(1178)),g=E(a(0)),b=E(a(9));function E(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){(0,l.default)(this,t);var a=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.classNames="",a.routes=[{mode:"verify",component:_.default},{mode:"invalid",component:p.default},{mode:"welcome",component:h.default},{mode:"question",component:c.default},{mode:"answer",component:y.default},{mode:"password",component:f.default},{mode:"avatar",component:v.default},{mode:"notifications",component:u.default},{mode:"complete",component:m.default}],a.state={transition:"next"},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.mode,a=this.state.transition;return g.default.createElement("div",{className:"maha-signin "+a},this.routes.map(function(a,n){return g.default.createElement(i.CSSTransition,{in:t===a.mode,classNames:"advance",timeout:5e3,mountOnEnter:!0,unmountOnExit:!0,key:n},g.default.createElement(a.component,e.props))}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.onVerify,l=t.pathname.match(/^\/admin\/activate\/(.*)/);a((0,n.default)(l,2)[1])}},{key:"componentWillUpdate",value:function(e){var t=this.props.mode;if(e.mode!==t){var a=b.default.findIndex(this.routes,{mode:t}),n=b.default.findIndex(this.routes,{mode:e.mode});if(a>=0){var l=n>=a?"slide-next":"slide-back";this.setState({transition:l})}}}},{key:"componentDidUpdate",value:function(e){var t=this.context,a=t.flash,n=t.router,l=this.props,r=l.error,o=l.mode,s=l.status;if(e.status!==s&&"failure"===s&&a.set("error",r),o!==e.mode){var i="/admin/activate/"+o;n.push(i)}}}]),t}(g.default.Component);k.contextTypes={admin:d.default.object,flash:d.default.object,router:d.default.object},k.propTypes={error:d.default.string,location:d.default.string,mode:d.default.string,status:d.default.string,onVerify:d.default.func},t.default=k},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(413)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleNotification=l._handleNotification.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"maha-signin-panel"},d.default.createElement("div",{className:"maha-signin-form"},d.default.createElement("div",{className:"maha-signin-content"},d.default.createElement("h2",null,"Notification Preferences"),d.default.createElement("p",null,"If you are not signed in when a notification arrives, we can send you an email. Please indicate how you would like to be contacted when you miss a notification."),d.default.createElement(i.RadioGroup,this._getRadioGroup()))))}},{key:"_getRadioGroup",value:function(){return{options:this.props.notification_methods,value:"id",text:"title",format:s.default,onChange:this._handleNotification}}},{key:"_handleNotification",value:function(e){this.props.onNotifications(this.props.token,e)}}]),t}(d.default.Component);f.propTypes={notification_methods:u.default.array,token:u.default.string,onNotifications:u.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(14)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={status:"uninitialized",routes:{},data:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"FETCH_RESOURCE_REQUEST":return(0,l.default)({},e,{status:"uninitialized"===e.status?"loading":"refreshing",routes:(0,l.default)({},e.routes,(0,n.default)({},t.prop,t.endpoint))});case"FETCH_RESOURCE_SUCCESS":var a=(0,l.default)({},e.data,(0,n.default)({},t.prop,t.result.data)),o=r.default.isEqual(Object.keys(a).sort(),Object.keys(e.routes).sort())?"loaded":e.status;return(0,l.default)({},e,{data:a,status:o});case"FETCH_RESOURCE_FAILURE":return(0,l.default)({},e,{status:"FORBIDDEN"===t.result.meta.status?"forbidden":"failure"});case"CLEAR_RESOURCE":return(0,l.default)({},e,{routes:r.default.omit(e.routes,t.prop),data:r.default.omit(e.data,t.prop)});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(7)),l=h(a(2)),r=h(a(3)),o=h(a(4)),s=h(a(5)),i=a(21),u=a(24),d=h(a(1)),c=h(a(415)),f=h(a(0)),m=h(a(9)),p=a(20);function h(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var a=function(a){function d(){var e,t,a,n;(0,l.default)(this,d);for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];return t=a=(0,o.default)(this,(e=d.__proto__||Object.getPrototypeOf(d)).call.apply(e,[this].concat(s))),a.state={access:!0,cacheKey:null,pathname:null,ready:!1},a._handleBack=a._handleBack.bind(a),a._handleCheckAccess=a._handleCheckAccess.bind(a),a._handleFetchResources=a._handleFetchResources.bind(a),a._handleRefreshResources=a._handleRefreshResources.bind(a),a._handleTasks=a._handleTasks.bind(a),a._handleTask=a._handleTask.bind(a),n=t,(0,o.default)(a,n)}return(0,s.default)(d,a),(0,r.default)(d,[{key:"render",value:function(){var e=this.state,t=e.access,a=e.ready,l=this.props,r=l.data,o=l.status,s=this.resources(),d=!s||m.default.isEqual(Object.keys(r).sort(),Object.keys(s).sort()),p=d?this.page():{},h=p.buttons,_=p.collection,v=p.component,y=p.panel,g=p.tabs,b=p.title,E=v;return f.default.createElement(u.ModalPanel,this._getPanel(),f.default.createElement("div",{className:"maha-page-body"},b&&f.default.createElement(c.default,{title:this._getTitle(b)}),t&&s&&"loading"===o&&f.default.createElement("div",{className:"maha-loader"},f.default.createElement("div",{className:"ui active inverted dimmer"},f.default.createElement("div",{className:"ui large text loader"},"Loading"))),t&&s&&"failure"===o&&f.default.createElement("div",{className:"maha-error"},f.default.createElement("div",{className:"maha-error-message"},f.default.createElement("i",{className:"warning sign icon"}),f.default.createElement("h2",null,"Unable to load",f.default.createElement("br",null)," this page"),f.default.createElement("button",{className:"ui basic red button",onClick:this._handleRefreshResources},"Try again"))),t&&a&&d&&v&&f.default.createElement(E,(0,n.default)({},this.props,r)),t&&a&&d&&_&&f.default.createElement(u.Collection,this._getCollection()),t&&a&&d&&g&&f.default.createElement(u.Tabs,g),t&&a&&d&&y&&f.default.createElement(u.Panel,y),(!t||"forbidden"===o)&&f.default.createElement("div",{className:"maha-error"},f.default.createElement("div",{className:"maha-error-message"},f.default.createElement("i",{className:"warning sign icon"}),f.default.createElement("h2",null,"You do not have permission to access this content")))),f.default.createElement(i.CSSTransition,{in:!m.default.isNil(h),classNames:"expanded",timeout:150,mountOnEnter:!0,unmountOnExit:!0},f.default.createElement("div",{className:"maha-page-footer"},f.default.createElement("div",{className:"maha-page-footer-items"},h&&h.map(function(e,t){return f.default.createElement("div",{key:"pager_footer_"+t,className:"maha-page-footer-item"},f.default.createElement(u.Button,e))})))))}},{key:"componentDidMount",value:function(){var e=this,t=this.context.router.pathname;this.setState({pathname:t}),setTimeout(function(){return e.setState({ready:!0})},500),this._handleJoinChannel(t)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.status;if(t.ready!==this.state.ready){var n=this.resources();n?this._handleFetchResources(n):this._checkPageAccess()}e.status!==a&&"loaded"===a&&this._checkPageAccess()}},{key:"shouldComponentUpdate",value:function(e,t){return t.access!==this.state.access||(t.ready!==this.state.ready||(t.cacheKey!==this.state.cacheKey||(t.status!==this.props.status||!m.default.isEqual(e.data,this.props.data))))}},{key:"componentWillUnmount",value:function(){var e=this.state.pathname;this._handleLeaveChannel(e)}},{key:"componentDidCatch",value:function(e,t){this.context.logger.error(e,t)}},{key:"getChildContext",value:function(){return{page:{fetch:this._handleFetchResources,refresh:this._handleRefreshResources,params:this.props.params,pathname:this.props.pathname}}}},{key:"resources",value:function(){var t=e?e(this.props,this.context):{};return m.default.isEmpty(t)?null:t}},{key:"page",value:function(){if(!t)return null;var e=this.getChildContext().page,a=t?t(this.props,this.context,this.props.data,e):{},l=a.tasks&&a.tasks.items?a.tasks.items.filter(this._handleCheckAccess):[],r=a.task&&this._handleCheckAccess(a.task)?a.task:null;return(0,n.default)({},a,{tasks:l&&l.length>0?(0,n.default)({},a.tasks,{items:l}):null,task:r})}},{key:"refresh",value:function(){this._handleRefreshResources()}},{key:"_getTitle",value:function(e){var t=this.props.unseen,a=this.context.admin.team,n=t>0?" ("+t+")":"";return(e||a.title)+n}},{key:"_getPanel",value:function(){var e=this.props.data,t=this.resources(),a=!t||m.default.isEqual(Object.keys(e).sort(),Object.keys(t).sort())?this.page():{},n=a.className,l=a.color,r=a.task,o=a.tasks,s=a.title,i={className:"maha-page "+(l||"")+" "+(n||""),title:s,leftItems:[{icon:"chevron-left",handler:this._handleBack}]};return o&&o.items&&o.items.filter(function(e){return!1!==e.show}).length>0&&(i.rightItems=[{icon:o.icon||"ellipsis-v",handler:this._handleTasks}]),r&&(i.rightItems=[{icon:r.icon||"plus",handler:this._handleTask}]),i}},{key:"_getCollection",value:function(){var e=this.page().collection,t=this.state.cacheKey,a=this.context.admin.team.token;return(0,n.default)({cacheKey:t,token:a},e)}},{key:"_checkPageAccess",value:function(){var e=this._handleCheckAccess(this.page());this.setState({access:e})}},{key:"_handleCheckAccess",value:function(e){var t=this.context.admin,a=t.user,n=t.team;return!(e.rights&&!this._userHasRight(a,e.rights))&&(!e.access||e.access(a,n.token).then(function(e){return!e}))}},{key:"_handleFetchResources",value:function(e){var t=this.props.onFetchResource;m.default.forOwn(e,function(e,a){t(a,e)})}},{key:"_handleRefreshResources",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({cacheKey:m.default.random(1e5,999999).toString(36)});var a=this.resources();a&&(t||(t=Object.keys(a)),m.default.isArray(t)||(t=[t]),Object.keys(a).filter(function(e){return m.default.includes(t,e)}).map(function(t){e.props.onFetchResource(t,a[t])}))}},{key:"_userHasRight",value:function(e,t){return!t||t.reduce(function(t,a){return!!m.default.includes(e.rights,a)&&t},!0)}},{key:"_handleJoinChannel",value:function(e){var t=this.context.network;t.join(e),t.subscribe({target:e,action:"refresh",handler:this._handleRefreshResources})}},{key:"_handleLeaveChannel",value:function(e){var t=this.context.network;t.leave(e),t.unsubscribe({target:e,action:"refresh",handler:this._handleRefreshResources})}},{key:"_handleBack",value:function(){this.context.router.goBack()}},{key:"_handleTasks",value:function(){var e=this.page().tasks;this.context.tasks.open(e.items)}},{key:"_handleTask",value:function(){var e=this.page().task,t=this.context,a=t.drawer,n=t.router,l=t.modal,r=t.tasks;if(e.route)n.push(e.route);else if(e.modal)l.open(e.modal);else if(e.drawer){var o=e.location||"right";a.open(e.drawer,o)}else e.handler&&e.handler();r.close()}}]),d}(f.default.Component);a.contextTypes={admin:d.default.object,alert:d.default.object,confirm:d.default.object,drawer:d.default.object,flash:d.default.object,logger:d.default.object,network:d.default.object,notifications:d.default.object,modal:d.default.object,platform:d.default.object,prompt:d.default.object,router:d.default.object,stack:d.default.object,tasks:d.default.object},a.childContextTypes={page:d.default.object},a.propTypes={buttons:d.default.array,collection:d.default.object,data:d.default.object,panel:d.default.object,params:d.default.object,pathname:d.default.string,status:d.default.string,tabs:d.default.object,unseen:d.default.number,onFetchResource:d.default.func};return(0,p.connect)(function(e,t){return{unseen:e.maha.admin.unseen}})(a)}},,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchResource=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:t,meta:{prop:e,endpoint:t},request:"FETCH_RESOURCE_REQUEST",success:"FETCH_RESOURCE_SUCCESS",failure:"FETCH_RESOURCE_FAILURE"}},t.clearResource=function(e){return{type:"CLEAR_RESOURCE",prop:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(2));t.default=function e(t){return(0,n.default)(this,e),t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o={comments:[],editing:null,q:"",q_saved:"",status:"pending",typing:null,hidden:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"SET":return(0,l.default)({},e,{comments:t.comments,status:"loaded"});case"SET_TYPING":return(0,l.default)({},e,{typing:t.typing});case"SHOW_MORE":return(0,l.default)({},e,{hidden:0});case"TYPE":return(0,l.default)({},e,{q:t.q});case"BEGIN_EDIT":return(0,l.default)({},e,{editing:t.uid,q:t.q});case"CANCEL_EDIT":return(0,l.default)({},e,{editing:null,q:""});case"CREATE_REQUEST":return(0,l.default)({},e,{q:"",q_saved:e.q,quoted_comment_id:null,comments:[].concat((0,n.default)(e.comments),[t.comment])});case"CREATE_FAILURE":return(0,l.default)({},e,{q:e.q_saved,q_saved:"",comments:[].concat((0,n.default)(e.comments.filter(function(e){return e.uid!==t.comment.uid})))});case"CREATE_SUCCESS":return(0,l.default)({},e,{q:"",q_saved:""});case"FETCH_REQUEST":return(0,l.default)({},e,{status:"loading"});case"FETCH_FAILURE":return(0,l.default)({},e,{status:"failed"});case"FETCH_SUCCESS":return(0,l.default)({},e,{status:"loaded",comments:t.result.data,hidden:t.result.data.length-4});case"UPDATE_REQUEST":return(0,l.default)({},e,{editing:null,q:"",q_saved:e.q,comments:[].concat((0,n.default)(e.comments.map(function(e){return e.uid!==t.comment.uid?e:(0,l.default)({},e,{q_saved:t.comment.text,updated_at:t.comment.updated_at})})))});case"UPDATE_FAILURE":return(0,l.default)({},e,{editing:t.comment.uid,q:e.q_saved,q_saved:"",comments:[].concat((0,n.default)(e.comments.map(function(a){return a.uid!==t.comment.uid?a:(0,l.default)({},a,{q_saved:e.q})})))});case"UPDATE_SUCCESS":return(0,l.default)({},e,{q:"",q_saved:""});case"DESTROY_REQUEST":return(0,l.default)({},e,{comments:[].concat((0,n.default)(e.comments.filter(function(e){return e.uid!==t.comment.uid})))});case"ADD":return(0,l.default)({},e,{comments:[].concat((0,n.default)(e.comments.filter(function(e){return e.uid!==t.comment.uid})),[t.comment])});case"REPLACE":return(0,l.default)({},e,{comments:[].concat((0,n.default)(e.comments.map(function(e){return e.uid!==t.comment.uid?e:t.comment})))});case"REMOVE":return(0,l.default)({},e,{comments:[].concat((0,n.default)(e.comments.filter(function(e){return e.uid!==t.uid})))});case"QUOTE_COMMENT":return(0,l.default)({},e,{quoted_comment_id:t.id});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(7)),l=v(a(2)),r=v(a(3)),o=v(a(4)),s=v(a(5)),i=v(a(418)),u=v(a(172)),d=v(a(1)),c=v(a(56)),f=v(a(1051)),m=v(a(25)),p=v(a(8)),h=v(a(0)),_=v(a(9));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleAdd=n._handleAdd.bind(n),n._handleChooseAssets=n._handleChooseAssets.bind(n),n._handleCreate=n._handleCreate.bind(n),n._handleBeginType=n._handleBeginType.bind(n),n._handleEndType=n._handleEndType.bind(n),n._handleQuoteComment=n._handleQuoteComment.bind(n),n._handleShowMore=n._handleShowMore.bind(n),n._handleType=n._handleType.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.active,l=t.comments,r=t.editing,o=t.hidden,s=t.quoted_comment,d=t.status,p=t.typing;return"loading"===d?h.default.createElement("div",{className:"maha-comments message"},h.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin"}),h.default.createElement("br",null),"Loading comments..."):"failed"===d?h.default.createElement("div",{className:"maha-comments message"},h.default.createElement("i",{className:"fa fa-warning"}),h.default.createElement("br",null),"Unable to load comments"):h.default.createElement("div",{className:"maha-comments"},o>0&&h.default.createElement("div",{className:"maha-comments-more",onClick:this._handleShowMore},"View ",o," more ",(0,c.default)("comment",o)),h.default.createElement("div",{className:"maha-comments-body"},l.map(function(t,a){return h.default.createElement(f.default,(0,n.default)({},e._getComment(t),{key:"comment_"+t.id}))})),h.default.createElement("div",{className:"maha-comments-footer"},p&&h.default.createElement("div",{className:"maha-comment"},h.default.createElement("div",{className:"maha-comment-user"},h.default.createElement(m.default,{user:p})),h.default.createElement("div",{className:"maha-comment-bubble"},h.default.createElement("div",{className:"maha-comment-typing"},p.full_name," is typing"))),s&&h.default.createElement("div",{className:"chat-channel-quote"},h.default.createElement("div",{className:"chat-channel-quote-preview"},h.default.createElement(i.default,{comment:s})),h.default.createElement("div",{className:"chat-channel-quote-remove"},h.default.createElement("i",{className:"fa fa-fw fa-times-circle-o",onClick:this._handleQuoteComment.bind(this,null)}))),!r&&a&&h.default.createElement(u.default,this._getCreateComposer())))}},{key:"componentDidMount",value:function(){var e=this.context.network,t=this.props,a=t.defaultValue,n=t.entity,l=t.onFetch,r=t.onSet,o="/admin/"+n+"/comments";if(e.join(o),e.subscribe([{target:o,action:"add_comment",handler:this._handleAdd},{target:o,action:"begin_type_comment",handler:this._handleBeginType},{target:o,action:"end_type_comment",handler:this._handleEndType}]),a)return r(a);l("/api/admin/"+n+"/comments")}},{key:"componentDidUpdate",value:function(e){var t=this.context,a=t.admin,n=t.network,l=this.props,r=l.entity,o=l.q,s="/admin/"+r+"/comments";o.length>0&&0===e.q.length?n.message(s,"begin_type_comment",{user:a.user}):0===o.length&&e.q.length>0&&n.message(s,"end_type_comment",{user:a.user})}},{key:"componentWillUnmount",value:function(){var e=this.props.entity,t=this.context.network,a="/admin/"+e+"/comments";t.leave(a),t.unsubscribe([{target:a,action:"add_comment",handler:this._handleAdd},{target:a,action:"begin_type_comment",handler:this._handleBeginType},{target:a,action:"end_type_comment",handler:this._handleEndType}])}},{key:"_getComment",value:function(e){return(0,n.default)({},e,{onQuoteComment:this._handleQuoteComment.bind(this,e.id)})}},{key:"_getCreateComposer",value:function(){return{icon:null,autofocus:!0,defaultValue:this.props.q,placeholder:this.props.placeholder,onChooseAssets:this._handleChooseAssets,onChange:this._handleType,onSubmit:this._handleCreate}}},{key:"_getRichtext",value:function(e){return{text:e.text,attachments:e.attachments}}},{key:"_handleChooseAssets",value:function(e){var t=e.map(function(e){return"http://dev.cdn.mahaplatform.com"+e.path}).join(" ");this._handleCreate(t)}},{key:"_handleShowMore",value:function(){this.props.onShowMore()}},{key:"_handleClick",value:function(){if(this.props.editing)return this._handleUpdate(this.props.q);this._handleCreate(this.props.q)}},{key:"_handleType",value:function(e){this.props.onType(e)}},{key:"_handleCreate",value:function(e){if(!_.default.isEmpty(e)){var t=this.context.admin,a=this.props,n=a.quoted_comment,l=a.quoted_comment_id,r=a.entity;(0,a.onCreate)("/api/admin/"+r+"/comments",{user:t.user,uid:_.default.random(1e8,999999999).toString(36),attachments:[],reactions:[],quoted_comment:n,quoted_comment_id:l,text:e,created_at:(0,p.default)().utc().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z",updated_at:(0,p.default)().utc().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z"})}}},{key:"_handleAdd",value:function(e){(0,this.props.onAdd)(e.comment)}},{key:"_handleBeginType",value:function(e){var t=this.props.onSetTyping;this.context.admin.user.id!==e.user.id&&t(e.user)}},{key:"_handleQuoteComment",value:function(e){this.props.onQuoteComment(e)}},{key:"_handleEndType",value:function(e){this.props.onSetTyping(null)}}]),t}(h.default.Component);y.contextTypes={admin:d.default.object,confirm:d.default.object,network:d.default.object},y.propTypes={action:d.default.string,active:d.default.bool,comments:d.default.array,defaultValue:d.default.array,endpoint:d.default.string,entity:d.default.string,hidden:d.default.number,placeholder:d.default.string,q:d.default.string,quoted_comment:d.default.object,quoted_comment_id:d.default.number,status:d.default.string,typing:d.default.object,onAdd:d.default.func,onCreate:d.default.func,onFetch:d.default.func,onSet:d.default.func,onSetTyping:d.default.func,onShowMore:d.default.func,onType:d.default.func},y.defaultProps={active:!0,placeholder:"Write a comment..."},t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={emojis:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;switch(arguments[1].type){case"TOGGLE_EMOJIS":return(0,n.default)({},e,{emojis:!e.emojis});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(10)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=a(419),u=a(1021),d=p(a(116)),c=p(a(1)),f=p(a(451)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={editorState:null},n._handleAttachments=n._handleAttachments.bind(n),n._handleChange=n._handleChange.bind(n),n._handleChooseAssets=n._handleChooseAssets.bind(n),n._handleInput=n._handleInput.bind(n),n._handleInsertEmoji=n._handleInsertEmoji.bind(n),n._handleKeyBinding=n._handleKeyBinding.bind(n),n._handleKeyCommand=n._handleKeyCommand.bind(n),n._handleFocus=n._handleFocus.bind(n),n._handleSave=n._handleSave.bind(n),n._handleToggleEmojis=n._handleToggleEmojis.bind(n),n._handleUpArrow=n._handleUpArrow.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.state.editorState,a=this.props,n=a.attachments,l=a.emojis;return m.default.createElement("div",{className:"maha-composer"},l&&m.default.createElement(f.default,this._getEmojis()),m.default.createElement("div",{className:"maha-composer-component"},n&&m.default.createElement("div",{className:"maha-composer-attachment",onClick:this._handleAttachments},m.default.createElement("i",{className:"fa fa-fw fa-plus"})),m.default.createElement("div",{className:"maha-composer-input"},m.default.createElement("div",{className:"maha-composer-text"},m.default.createElement("div",{className:"maha-composer-editor",ref:function(t){return e.composer=t}},t&&m.default.createElement(i.Editor,this._getEditor())),m.default.createElement("div",{className:"maha-composer-emojis",onClick:this._handleToggleEmojis},m.default.createElement("i",{className:"fa fa-fw fa-smile-o"})))),m.default.createElement("div",{className:"maha-composer-send",onClick:this._handleSave},m.default.createElement("i",{className:"fa fa-fw fa-paper-plane"}))))}},{key:"componentDidMount",value:function(){var e=this.props.defaultValue,t=this._getInitialState(e);this._handleChange(t),this.props.onReady()}},{key:"_getInitialState",value:function(e){var t=new i.CompositeDecorator([u.mention,u.emoji]);if(!e)return i.EditorState.createEmpty(t);var a=(0,i.convertFromHTML)(e.replace(/\n/g,"<br />")),n=i.ContentState.createFromBlockArray(a),l=i.EditorState.createWithContent(n,t),r=i.EditorState.moveSelectionToEnd(l).getSelection();return i.EditorState.forceSelection(l,r)}},{key:"_getEditor",value:function(){var e=this,t=this.state.editorState,a=this.props.placeholder;return{ref:function(t){return e.el=t},editorState:t,onChange:this._handleChange,placeholder:a,keyBindingFn:this._handleKeyBinding,handleBeforeInput:this._handleInput,handleKeyCommand:this._handleKeyCommand,onFocus:this._handleFocus,onUpArrow:this._handleUpArrow}}},{key:"_getAttachments",value:function(){return{prompt:"Upload File(s)",onChooseAssets:this._handleChooseAssets}}},{key:"_getEmojis",value:function(){return{onChange:this._handleInsertEmoji,onClose:this._handleToggleEmojis}}},{key:"_handleChooseAssets",value:function(e){(0,this.props.onChooseAssets)(e)}},{key:"_handleAttachments",value:function(){this.context.modal.open(m.default.createElement(d.default,this._getAttachments()))}},{key:"_handleToggleEmojis",value:function(){this.props.onToggleEmojis()}},{key:"_handleInsertEmoji",value:function(e){var t=this.state.editorState,a=t.getSelection(),n=t.getCurrentContent(),l=i.Modifier.insertText(n,a,e),r=i.EditorState.push(t,l,"insert-fragment");this._handleChange(r)}},{key:"_handleReset",value:function(){var e=this.state.editorState,t=i.EditorState.push(e,i.ContentState.createFromText(""));this._handleChange(i.EditorState.moveFocusToEnd(t))}},{key:"_handleChange",value:function(e){var t=this.props.onChange;this.setState({editorState:e}),t(this._getConverted(e))}},{key:"_handleInput",value:function(e,t){return!1}},{key:"_handleKeyBinding",value:function(e){return 13!==e.keyCode||e.nativeEvent.shiftKey?(0,i.getDefaultKeyBinding)(e):"message-save"}},{key:"_handleKeyCommand",value:function(e){return"message-save"===e?(this._handleSave(),"handled"):"not-handled"}},{key:"_handleUpArrow",value:function(e){e.preventDefault(),this.props.onUpArrow()}},{key:"_handleFocus",value:function(){this.props.onFocus()}},{key:"_getConverted",value:function(e){return(0,i.convertToRaw)(e.getCurrentContent()).blocks.reduce(function(e,t){return[].concat((0,n.default)(e),[t.text])},[]).join("\r\n")}},{key:"_handleSave",value:function(){var e=this.state.editorState,t=this.props.onSubmit,a=this._getConverted(e);0!==a.length&&(t(a),this._handleReset())}}]),t}(m.default.Component);h.contextTypes={modal:c.default.object},h.propTypes={attachments:c.default.bool,defaultValue:c.default.string,emojis:c.default.bool,icon:c.default.string,placeholder:c.default.string,uploads:c.default.array,onChooseAssets:c.default.func,onChange:c.default.func,onFocus:c.default.func,onReady:c.default.func,onSetState:c.default.func,onSubmit:c.default.func,onToggleEmojis:c.default.func,onUpArrow:c.default.func},h.defaultProps={attachments:!0,icon:"comment",placeholder:"Enter text",onChange:function(){},onReady:function(){},onSubmit:function(){},onUpArrow:function(){},onFocus:function(){}},t.default=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emoji=t.mention=void 0;var n=o(a(10)),l=o(a(445)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return function(t,a,n){for(var l=t.getText(),r=void 0,o=void 0;null!==(r=e.exec(l));)a(o=r.index,o+r[0].length)}};t.mention={strategy:s(/@[\w]+/g),component:function(e){var t=e.children,a=e.offsetKey;return r.default.createElement("span",{className:"maha-composer-mention","data-offset-key":a},t)}},t.emoji={strategy:s(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g),component:function(e){var t=e.children,a=e.decoratedText,o=e.offsetKey,s=[].concat((0,n.default)(a)),i=s?s.map(function(e){return(0,l.default)(e)}).join("-"):a;return r.default.createElement("span",{className:"emoji emoji-"+i,"data-offset-key":o},t)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={active:null,files:[],sources:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"SET_SOURCES":return(0,l.default)({},e,{sources:t.sources});case"CHOOSE_SOURCE":return(0,l.default)({},e,{active:t.index});case"ADD_FILE":return(0,l.default)({},e,{status:"success",files:[].concat((0,n.default)(e.files),[t.file])});case"ADD_ASSET":return(0,l.default)({},e,{files:e.files.map(function(e){return e.id!==t.file_id?e:(0,l.default)({},e,{asset:t.asset})})});case"CREATE_REQUEST":return(0,l.default)({},e,{files:[].concat((0,n.default)(e.files),[t.file])});case"CREATE_SUCCESS":return(0,l.default)({},e,{status:"success",files:e.files.map(function(e){return e.id!==t.file.id?e:(0,l.default)({},e,{asset:t.result.data})})});case"REMOVE_ASSET":var a=r.default.findIndex(e.files,{asset:{id:t.asset.id}});return(0,l.default)({},e,{files:[].concat((0,n.default)(e.files.slice(0,a)),(0,n.default)(e.files.slice(a+1)))});case"REMOVE_FILE":var o=r.default.findIndex(e.files,{id:t.file.id,network:t.file.network});return(0,l.default)({},e,{files:[].concat((0,n.default)(e.files.slice(0,o)),(0,n.default)(e.files.slice(o+1)))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=k(a(2)),l=k(a(3)),r=k(a(4)),o=k(a(5)),s=a(21),i=a(6),u=k(a(1024)),d=k(a(1029)),c=k(a(1034)),f=k(a(1035)),m=k(a(1036)),p=k(a(1)),h=k(a(1037)),_=k(a(1038)),v=k(a(1039)),y=k(a(448)),g=k(a(0)),b=k(a(450)),E=k(a(9));function k(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleDone=l._handleDone.bind(l),l._handleChooseSource=l._handleChooseSource.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.files,n=t.images,l=t.plains;return g.default.createElement("div",{className:"maha-attachments"},g.default.createElement(i.Uploader,null,g.default.createElement(i.Stack,{cards:this._getCards()})),g.default.createElement(s.CSSTransition,{in:a.length>0,classNames:"expanded",timeout:150,mountOnEnter:!0,unmountOnExit:!0},g.default.createElement("div",{className:"maha-attachments-summary"},n.length>0&&g.default.createElement("div",{className:"maha-attachments-summary-images"},n.map(function(t,a){return g.default.createElement("div",{className:"maha-attachments-summary-image",key:"image_"+a,style:{backgroundImage:"url("+t.thumbnail+")"}},g.default.createElement("i",{className:"fa fa-fw fa-times",onClick:e._handleRemoveFile.bind(e,t)}),g.default.createElement("img",{src:"/admin/images/"+t.network+".png"}))})),l.length>0&&g.default.createElement("div",{className:"maha-attachments-summary-plains"},l.map(function(t,a){return g.default.createElement("div",{className:"maha-attachments-summary-item",key:"plain_"+a},g.default.createElement("div",{className:"maha-attachments-summary-item-icon"},g.default.createElement(i.AssetIcon,{content_type:t.content_type})),g.default.createElement("div",{className:"maha-attachments-summary-item-name"},t.name),g.default.createElement("div",{className:"maha-attachments-summary-item-remove"},t.asset?g.default.createElement("i",{className:"fa fa-times",onClick:e._handleRemoveFile.bind(e,t)}):g.default.createElement("i",{className:"fa fa-refresh fa-spin"})))})))))}},{key:"componentDidMount",value:function(){var e=this.context.admin,t=this.props.networks,a=[];a.push({source:"device",label:"Your Device",component:v.default}),a.push({source:"web",label:"The Web",component:b.default}),e.checkAccess("drive")&&a.push({source:"maha",label:"Maha Drive",component:y.default}),a.push({source:"google",label:"Google Drive",component:m.default}),a.push({source:"facebook",label:"Facebook",component:c.default}),a.push({source:"instagram",label:"Instagram",component:u.default}),a.push({source:"dropbox",label:"Dropbox",component:f.default}),a.push({source:"box",label:"Box",component:h.default}),a.push({source:"microsoft",label:"Microsoft OneDrive",component:d.default}),this.props.onSetSources(a.filter(function(e){var a=e.source;return E.default.includes(t,a)}))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.files,a=e.multiple,n=e.status;console.log("in componentDidUpdate - files is ",t),console.log("multiple is ",a),console.log("status is ",n),!a&&E.default.get(t,"[0].id",!1)&&"success"===n&&this._handleDone()}},{key:"_getCards",value:function(){var e=this,t=this.props.source,a=[{component:function(){return g.default.createElement(_.default,e._getSources())}}];return t&&a.push({component:function(){return g.default.createElement(t.component,e._getSource())}}),a}},{key:"_getSources",value:function(){var e=this.props;return{active:e.active,cancelText:e.cancelText,counts:e.counts,doneText:e.doneText,sources:e.sources,onCancel:this._handleCancel,onDone:this._handleDone,onChooseSource:this._handleChooseSource}}},{key:"_getSource",value:function(){var e=this.props;return{files:e.files,isReady:e.isReady,multiple:e.multiple,onAddAsset:e.onAddAsset,onAddFile:e.onAddFile,onCreate:e.onCreate,onRemoveFile:e.onRemoveFile,onBack:this._handleChooseSource,onDone:this._handleDone}}},{key:"_getSourceClass",value:function(e){var t=["maha-attachments-source"];return e===this.props.active&&t.push("active"),t.join(" ")}},{key:"_handleRemoveFile",value:function(e){this.props.onRemoveFile(e)}},{key:"_handleChooseSource",value:function(e){this.props.onChooseSource(e)}},{key:"_handleCancel",value:function(){var e=this.props.onCancel;if(e)return e();this.context.modal.pop()}},{key:"_handleDone",value:function(){var e=this.props,t=e.assets,a=e.multiple,n=e.onChooseAssets,l=e.onDone;if(n(a?t:t[0]),l)return l();this.context.modal.pop()}}]),t}(g.default.Component);C.contextTypes={admin:p.default.object,modal:p.default.object},C.propTypes={assets:p.default.array,active:p.default.number,cancelText:p.default.any,cards:p.default.array,counts:p.default.object,doneText:p.default.string,files:p.default.array,images:p.default.array,isReady:p.default.bool,multiple:p.default.bool,networks:p.default.array,plains:p.default.array,prompt:p.default.string,sources:p.default.array,source:p.default.object,status:p.default.string,onAddAsset:p.default.func,onAddFile:p.default.func,onCancel:p.default.func,onChooseAssets:p.default.func,onChooseSource:p.default.func,onCreate:p.default.func,onDone:p.default.func,onRemoveAsset:p.default.func,onRemoveFile:p.default.func,onSetSources:p.default.func},C.defaultProps={cancelText:"Cancel",doneText:"Done",multiple:!0,networks:["device","web","maha","google","facebook","instagram","dropbox","box","microsoft"],prompt:"Attach Files",onChooseAssets:function(){}},t.default=C},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(446)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement(l.default,(0,n.default)({network:"instagram"},e))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={connected:null,url:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"CHECK_SUCCESS":return(0,n.default)({},e,{connected:!0===t.result.data});case"AUTHORIZE_SUCCESS":return(0,n.default)({},e,{url:t.result.data});case"AUTHORIZED":return(0,n.default)({},e,{connected:!0});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(24),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleAuthorized=n._handleAuthorized.bind(n),n._handleClick=n._handleClick.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,l=t.connected;return null===l?d.default.createElement(i.Loader,null):!1===l?[d.default.createElement(i.Message,(0,n.default)({},this._getMessage(),{key:"message"})),d.default.createElement("a",{ref:function(t){return e.link=t},target:"_blank",key:"link"})]:a}},{key:"componentDidMount",value:function(){var e=this.props.network;this.props.onCheck(e),this.context.network.subscribe([{target:"/admin/"+e+"/authorized",action:"refresh",handler:this._handleAuthorized}])}},{key:"componentDidUpdate",value:function(e){var t=this.props.url;t!==e.url&&(this.link.href=t,this.link.click())}},{key:"componentWillUnmount",value:function(){var e=this.props.network;this.context.network.unsubscribe([{target:"/admin/"+e+"/authorized",action:"refresh",handler:this._handleAuthorized}])}},{key:"_getAuthorize",value:function(){var e=this.props;return{url:e.url,onAuthorize:e.onAuthorize}}},{key:"_getMessage",value:function(){var e=this.props,t=e.image,a=e.icon,n=e.network;return{image:t,icon:a,title:"Sign In to "+c.default.capitalize(n),text:"In order to access "+c.default.capitalize(n)+", you must authorize the Maha Platform to access your account",button:{label:"Authorize",handler:this._handleClick}}}},{key:"_handleClick",value:function(){var e=this.props.network;this.props.onAuthorize(e)}},{key:"_handleAuthorized",value:function(){this.props.onAuthorized()}}]),t}(d.default.Component);m.contextTypes={network:u.default.object},m.propTypes={children:u.default.any,connected:u.default.bool,network:u.default.string,image:u.default.string,icon:u.default.string,url:u.default.string,onAuthorize:u.default.func,onAuthorized:u.default.func,onCheck:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.check=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/"+e+"/check",request:"CHECK_REQUEST",success:"CHECK_SUCCESS",failure:"CHECK_FAILURE"}},t.authorize=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/"+e+"/authorize",request:"AUTHORIZE_REQUEST",success:"AUTHORIZE_SUCCESS",failure:"AUTHORIZE_FAILURE"}},t.authorized=function(){return{type:"AUTHORIZED"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.records;return i.default.createElement("div",{className:"maha-attachments-photos"},t.map(function(t,a){return i.default.createElement("div",{className:"maha-attachments-photo",key:"item_"+a,onClick:e._handleClick.bind(e,t),style:{backgroundImage:"url("+t.image+")"}},i.default.createElement("div",{className:"maha-attachments-photo-image"},e._getIcon(t)))}))}},{key:"_getIcon",value:function(e){var t=this.props,a=t.network,n=t.files,l=u.default.find(n,{id:e.id,network:a});return l?l.asset?i.default.createElement("i",{className:"fa fa-fw fa-check"}):i.default.createElement("i",{className:"fa fa-fw fa-spin fa-refresh"}):null}},{key:"_handleClick",value:function(e){var t=this.props,a=t.network,n=t.files,l=u.default.find(n,{id:e.id,network:a});if(l)return this.props.onRemoveFile(l);this.props.onCreate("/api/admin/"+a+"/photos",{id:e.id,name:e.id+".jpg",network:a,content_type:"image/jpeg",thumbnail:e.image})}}]),t}(i.default.Component);c.propTypes={files:s.default.array,network:s.default.string,records:s.default.array,onRemoveFile:s.default.func,onCreate:s.default.func,onBack:s.default.func,onList:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(87)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement(l.default,(0,n.default)({network:"microsoft"},e))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={folders:[],q:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"CHANGE_FOLDER":return(0,l.default)({},e,{folders:[].concat((0,n.default)(e.folders),[t.folder]),q:""});case"UP":return(0,l.default)({},e,{folders:e.folders.slice(0,-1)});case"SET_QUERY":return(0,l.default)({},e,{q:t.q});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(7)),l=h(a(10)),r=h(a(2)),o=h(a(3)),s=h(a(4)),i=h(a(5)),u=a(24),d=h(a(184)),c=h(a(1)),f=h(a(1032)),m=h(a(447)),p=h(a(0));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.q;return p.default.createElement(u.ModalPanel,this._getPanel(),p.default.createElement(d.default,this._getAuthorized(),p.default.createElement("div",{className:"drive"},p.default.createElement("div",{className:"drive-search"},p.default.createElement(u.Searchbox,this._getSearchbox())),0===e.length&&p.default.createElement(u.Stack,this._getStack()),e.length>0&&p.default.createElement(u.Infinite,this._getInfinite()))))}},{key:"_getPanel",value:function(){return{title:"Choose File(s)",leftItems:[{icon:"chevron-left",handler:this.props.onBack}],rightItems:[{label:"Done",handler:this.props.onDone}]}}},{key:"_getAuthorized",value:function(){var e=this.props.network;return{network:e,image:"/admin/images/"+e+".png"}}},{key:"_getSearchbox",value:function(){return{prompt:"Find a file...",onChange:this.props.onSetQuery}}},{key:"_getStack",value:function(){var e=this,t=this.props.folders;return{cards:[{component:f.default,props:this._getFolder({id:null,name:"Home"})}].concat((0,l.default)(t.map(function(t,a){return{component:f.default,props:e._getFolder(t)}})))}}},{key:"_getInfinite",value:function(){var e=this,t=this.props,a=t.network,l=t.q,r={icon:"times-circle",title:"No Results",text:"There are no files that matched your query"};return{endpoint:"/api/admin/"+a+"/files",filter:l.length>0?{q:l}:null,empty:p.default.createElement(u.Message,r),notFound:p.default.createElement(u.Message,r),layout:function(t){return p.default.createElement(m.default,(0,n.default)({},e._getItems(),t))}}}},{key:"_getItems",value:function(){var e=this.props;return{files:e.files,network:e.network,onCreate:e.onCreate,onRemoveFile:e.onRemoveFile}}},{key:"_getFolder",value:function(e){var t=this.props,a=t.files,n=t.network,l=t.onUp,r=t.onChangeFolder;return{files:a,network:n,folder:e,onCreate:t.onCreate,onChangeFolder:r,onRemoveFile:t.onRemoveFile,onUp:l}}}]),t}(p.default.Component);_.propTypes={files:c.default.array,folders:c.default.array,network:c.default.string,q:c.default.string,onAddAsset:c.default.func,onAddFile:c.default.func,onBack:c.default.func,onChangeFolder:c.default.func,onCreate:c.default.func,onDone:c.default.func,onRemoveFile:c.default.func,onSetQuery:c.default.func,onUp:c.default.func},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(24),u=f(a(1)),d=f(a(0)),c=f(a(447));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleUp=n._handleUp.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.folder;return d.default.createElement("div",{className:"drive-folder"},d.default.createElement("div",{className:"drive-header"},d.default.createElement("div",{className:"drive-header-breadcrumb",onClick:this._handleUp},d.default.createElement("div",{className:"drive-header-back"},e.id?d.default.createElement("i",{className:"fa fa-fw fa-chevron-left"}):d.default.createElement("i",{className:"fa fa-fw fa-home"})),d.default.createElement("div",{className:"drive-header-label"},e.name))),d.default.createElement("div",{className:"drive-results"},d.default.createElement(i.Infinite,this._getInfinite())))}},{key:"_getInfinite",value:function(){var e=this,t=this.props,a=t.folder,l={icon:"folder-open-o",title:"Empty Folder",text:"There are no items in this folder"};return{endpoint:"/api/admin/"+t.network+"/files",filter:{folder_id:{$eq:a.id||"null"}},empty:d.default.createElement(i.Message,l),notFound:d.default.createElement(i.Message,l),layout:function(t){return d.default.createElement(c.default,(0,n.default)({},e._getItems(),t))}}}},{key:"_getItems",value:function(){var e=this.props;return{files:e.files,network:e.network,onAddAsset:e.onAddAsset,onChangeFolder:e.onChangeFolder,onCreate:e.onCreate,onRemoveAsset:e.onRemoveAsset}}},{key:"_handleUp",value:function(){this.props.folder.id&&this.props.onUp()}}]),t}(d.default.Component);m.propTypes={folder:u.default.object,files:u.default.array,network:u.default.string,records:u.default.array,onAddAsset:u.default.func,onChangeFolder:u.default.func,onCreate:u.default.func,onRemoveAsset:u.default.func,onUp:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.changeFolder=function(e){return{type:"CHANGE_FOLDER",folder:e}},t.up=function(){return{type:"UP"}},t.setQuery=function(e){return{type:"SET_QUERY",q:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(446)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement(l.default,(0,n.default)({network:"facebook"},e))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(87)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement(l.default,(0,n.default)({network:"dropbox"},e))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(87)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement(l.default,(0,n.default)({network:"google"},e))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(87)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement(l.default,(0,n.default)({network:"box"},e))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.counts,n=t.sources;return u.default.createElement(s.ModalPanel,this._getModalPanel(),u.default.createElement("div",{className:"maha-attachments-sources"},n.map(function(t,n){return u.default.createElement("div",{className:e._getSourceClass(n),key:"source_"+n,onClick:e._handleChooseSource.bind(e,n)},u.default.createElement("div",{className:"maha-attachments-source-logo"},t.icon?u.default.createElement("i",{className:"fa fa-fw fa-"+t.icon}):u.default.createElement("img",{src:"/admin/images/"+t.source+".png"})),u.default.createElement("div",{className:"maha-attachments-source-text"},t.label),u.default.createElement("div",{className:"maha-attachments-source-count"},a[t.source]&&u.default.createElement("div",{className:"maha-attachments-source-count-badge"},a[t.source])),u.default.createElement("div",{className:"maha-attachments-source-proceed"},u.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))})))}},{key:"_getModalPanel",value:function(){var e=this.props,t=e.cancelText,a=e.doneText;return{title:"Choose Source",leftItems:[{label:t,handler:this._handleCancel}],rightItems:[{label:a,handler:this.props.onDone}]}}},{key:"_getSourceClass",value:function(e){var t=["maha-attachments-source"];return e===this.props.active&&t.push("active"),t.join(" ")}},{key:"_handleChooseSource",value:function(e){this.props.onChooseSource(e)}},{key:"_handleCancel",value:function(){this.props.onCancel()}}]),t}(u.default.Component);c.propTypes={active:i.default.number,cancelText:i.default.any,doneText:i.default.string,counts:i.default.object,sources:i.default.array,onCancel:i.default.func,onDone:i.default.func,onChooseSource:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.drop=null,l._handleBrowse=l._handleBrowse.bind(l),l._handleFile=l._handleFile.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"maha-attachments-device"},u.default.createElement("div",{className:"maha-attachments-device-body"},u.default.createElement("div",{className:"maha-attachments-device-drop",ref:function(t){return e.drop=t}},u.default.createElement("div",{className:"maha-attachments-device-text"},u.default.createElement("p",null,"Drop Files Here"),u.default.createElement("span",null,"or"),u.default.createElement("div",{className:"ui red button",onClick:this._handleBrowse},"Choose file(s)"))))))}},{key:"componentDidMount",value:function(){this.context.uploader.assignDrop(this.drop,this._handleFile)}},{key:"_getPanel",value:function(){return{title:"Choose File(s)",leftItems:[{icon:"chevron-left",handler:this.props.onBack}],rightItems:[{label:"Done",handler:this.props.onDone}]}}},{key:"_getHost",value:function(){return[void 0,"http://dev.cdn.mahaplatform.com"].reduce(function(e,t){return e||(d.default.isEmpty(t)?null:t)},null)||""}},{key:"_handleBrowse",value:function(){this.context.uploader.browse(this._handleFile)}},{key:"_handleFile",value:function(e){var t=this.props.onAddFile,a=this._getHost();t({id:e.id,name:e.original_file_name,network:"device",content_type:e.content_type,thumbnail:e.content_type.match(/image/)?a+e.path:null,asset:e})}}]),t}(u.default.Component);f.contextTypes={uploader:i.default.object},f.propTypes={onAddAsset:i.default.func,onAddFile:i.default.func,onBack:i.default.func,onDone:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={folders:[],q:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"CHANGE_FOLDER":return(0,l.default)({},e,{folders:[].concat((0,n.default)(e.folders),[t.folder]),q:""});case"UP":return(0,l.default)({},e,{folders:e.folders.slice(0,-1)});case"SET_QUERY":return(0,l.default)({},e,{q:t.q,folders:[]});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(7)),l=h(a(10)),r=h(a(2)),o=h(a(3)),s=h(a(4)),i=h(a(5)),u=a(24),d=h(a(1)),c=h(a(1042)),f=h(a(449)),m=h(a(0)),p=h(a(9));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleAddAsset=n._handleAddAsset.bind(n),n._handleRemoveAsset=n._handleRemoveAsset.bind(n),l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.q;return m.default.createElement(u.ModalPanel,this._getPanel(),m.default.createElement("div",{className:"drive"},m.default.createElement("div",{className:"drive-search"},m.default.createElement(u.Searchbox,this._getSearchBox())),0===e.length&&m.default.createElement(u.Stack,this._getStack()),e.length>0&&m.default.createElement(u.Infinite,this._getInfinite())))}},{key:"_getPanel",value:function(){return{title:"Choose File(s)",leftItems:[{icon:"chevron-left",handler:this.props.onBack}],rightItems:[{label:"Done",handler:this.props.onDone}]}}},{key:"_getSearchBox",value:function(){return{prompt:"Find a file...",onChange:this.props.onSetQuery}}},{key:"_getStack",value:function(){var e=this,t=this.props.folders;return{cards:[{component:c.default,props:this._getFolder({id:null,item_id:null,label:"Drive"})}].concat((0,l.default)(t.map(function(t,a){return{component:c.default,props:e._getFolder(t)}})))}}},{key:"_getInfinite",value:function(){var e=this,t={icon:"times-circle",title:"No Results",text:"There are no files that matched your query"};return{endpoint:"/api/admin/drive/items",filter:{q:this.props.q,type:{$eq:"file"}},empty:m.default.createElement(u.Message,t),notFound:m.default.createElement(u.Message,t),layout:function(t){return m.default.createElement(f.default,(0,n.default)({},e._getItems(),t))}}}},{key:"_getItems",value:function(){var e=this.props,t=e.files,a=e.onChangeFolder;return{files:t,onAddFile:this._handleAddAsset,onAddAsset:this._handleAddAsset,onRemoveAsset:this._handleRemoveAsset,onChangeFolder:a}}},{key:"_getFolder",value:function(e){var t=this.props,a=t.files,n=t.onUp,l=t.onChangeFolder;return{files:a,folder:e,onAddAsset:this._handleAddAsset,onChangeFolder:l,onRemoveAsset:this._handleRemoveAsset,onUp:n}}},{key:"_getHost",value:function(){return[void 0,"http://dev.cdn.mahaplatform.com"].reduce(function(e,t){return e||(p.default.isEmpty(t)?null:t)},null)||""}},{key:"_handleAddAsset",value:function(e){var t=this.props.onAddFile,a=this._getHost();t({id:e.id,name:e.original_file_name,network:"maha",content_type:e.content_type,asset:e,thumbnail:e.content_type.match(/image/)?a+e.path:null})}},{key:"_handleRemoveAsset",value:function(e){(0,this.props.onRemoveFile)({id:e.id,network:"maha"})}}]),t}(m.default.Component);_.propTypes={files:d.default.array,folders:d.default.array,q:d.default.string,onAddAsset:d.default.func,onAddFile:d.default.func,onBack:d.default.func,onChangeFolder:d.default.func,onCreate:d.default.func,onDone:d.default.func,onRemoveFile:d.default.func,onSetQuery:d.default.func,onUp:d.default.func},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(24),u=f(a(1)),d=f(a(0)),c=f(a(449));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleUp=n._handleUp.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.folder;return d.default.createElement("div",{className:"drive-folder"},d.default.createElement("div",{className:"drive-header"},d.default.createElement("div",{className:"drive-header-breadcrumb",onClick:this._handleUp},d.default.createElement("div",{className:"drive-header-back"},e.item_id?d.default.createElement("i",{className:"fa fa-fw fa-chevron-left"}):d.default.createElement("i",{className:"fa fa-fw fa-home"})),d.default.createElement("div",{className:"drive-header-label"},e.label))),d.default.createElement("div",{className:"drive-results"},d.default.createElement(i.Infinite,this._getInfinite())))}},{key:"_getInfinite",value:function(){var e=this,t={icon:"folder-open-o",title:"Empty Folder",text:"There are no items in this folder"};return{endpoint:"/api/admin/drive/items",filter:{folder_id:{$eq:this.props.folder.item_id||"null"}},empty:d.default.createElement(i.Message,t),notFound:d.default.createElement(i.Message,t),layout:function(t){return d.default.createElement(c.default,(0,n.default)({},e._getItems(),t))}}}},{key:"_getItems",value:function(){var e=this.props;return{files:e.files,onAddAsset:e.onAddAsset,onChangeFolder:e.onChangeFolder,onRemoveAsset:e.onRemoveAsset}}},{key:"_handleUp",value:function(){this.props.folder.item_id&&this.props.onUp()}}]),t}(d.default.Component);m.propTypes={folder:u.default.object,files:u.default.array,records:u.default.array,onAddAsset:u.default.func,onChangeFolder:u.default.func,onRemoveAsset:u.default.func,onUp:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.changeFolder=function(e){return{type:"CHANGE_FOLDER",folder:e}},t.up=function(){return{type:"UP"}},t.setQuery=function(e){return{type:"SET_QUERY",q:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={asset:null,response:null,status:"pending",url:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"LOOKUP_REQUEST":return(0,n.default)({},e,{status:"previewing",url:t.request.params.url,response:null});case"LOOKUP_FAILURE":return(0,n.default)({},e,{status:"failed"});case"LOOKUP_SUCCESS":return(0,n.default)({},e,{response:t.result.data,status:"previewed"});case"IMPORT_REQUEST":return(0,n.default)({},e,{url:t.request.params.url,status:"importing"});case"IMPORT_FAILURE":return(0,n.default)({},e,{status:"failed"});case"IMPORT_SUCCESS":return(0,n.default)({},e,{status:"success",asset:t.result.data});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(24),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleImport=l._handleImport.bind(l),l._handleLookup=l._handleLookup.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.response,a=e.status,n=e.url;return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"maha-attachments-web"},u.default.createElement("div",{className:"maha-attachments-web-header"},u.default.createElement(s.Searchbox,this._getSearchbox())),u.default.createElement("div",{className:"maha-attachments-web-body"},"pending"===a&&u.default.createElement(s.Message,this._getIntro()),"previewing"==a&&u.default.createElement(s.Loader,this._getPreviewing()),"previewed"===a&&t["content-type"].match(/image/)&&u.default.createElement("div",{className:"maha-attachments-web-preview"},u.default.createElement("img",{src:n})),"previewed"===a&&!t["content-type"].match(/image/)&&u.default.createElement(s.Message,this._getPreview()),"importing"==a&&u.default.createElement(s.Loader,this._getImporting()),"failed"===a&&u.default.createElement(s.Message,this._getFailed()))))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.asset,n=t.status,l=t.url,r=t.onAddAsset,o=t.onBack;n!==e.status&&"success"===n&&(r(l,a),o())}},{key:"_getPanel",value:function(){return{title:"Choose File(s)",leftItems:[{icon:"chevron-left",handler:this._handleBack}],rightItems:[{label:"Import",handler:this._handleImport}]}}},{key:"_getSearchbox",value:function(){return{prompt:"Enter a URL...",onChange:this._handleLookup}}},{key:"_getIntro",value:function(){return{icon:"globe",title:"Enter a URL",text:"Enter a URL to download the asset online."}}},{key:"_getPreviewing",value:function(){return{label:"Loading Preview"}}},{key:"_getImporting",value:function(){return{label:"Importing"}}},{key:"_getFailed",value:function(){return{icon:"exclamation-triangle",title:"Invalid URL",text:"We can't find the image at that URL. Please check the address for typing errors."}}},{key:"_getPreview",value:function(){return{icon:this._getIcon(),text:"foo",button:{label:"Import File",handler:this._handleImport}}}},{key:"_getIcon",value:function(){var e=this.props.response["content-type"];return e.match(/image/)?"picture-o":e.match(/audio/)?"volume-up":e.match(/video/)?"play-circle":e.match(/pdf/)?"file-pdf-o":e.match(/excel/)?"file-excel-o":e.match(/spreadsheet/)?"file-excel-o":e.match(/msword/)?"file-word-o":e.match(/wordprocessingml/)?"file-word-o":e.match(/document/)?"file-word-o":e.match(/powerpoint/)?"file-powerpoint-o":e.match(/presentationml/)?"file-powerpoint-o":e.match(/map/)?"map-o":e.match(/zip/)?"file-archive-o":e.match(/xml/)?"file-code-o":e.match(/html/)?"file-code-o":"file-text-o"}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleLookup",value:function(e){0!==e.length&&this.props.onLookup(e)}},{key:"_handleImport",value:function(){var e=this.props,t=e.url;(0,e.onAddFile)({id:t,name:t,network:"web",content_type:"image/jpeg",thumbnail:t}),this.props.onImportAsset(t)}}]),t}(u.default.Component);c.propTypes={asset:i.default.object,status:i.default.string,response:i.default.object,url:i.default.string,onAddAsset:i.default.func,onAddFile:i.default.func,onBack:i.default.func,onLookup:i.default.func,onImportAsset:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.lookup=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/assets/url",query:{url:e},request:"LOOKUP_REQUEST",success:"LOOKUP_SUCCESS",failure:"LOOKUP_FAILURE"}},t.importAsset=function(e){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/assets/url",body:{url:e},request:"IMPORT_REQUEST",success:"IMPORT_SUCCESS",failure:"IMPORT_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setSources=function(e){return{type:"SET_SOURCES",sources:e}},t.chooseSource=function(e){return{type:"CHOOSE_SOURCE",index:e}},t.addFile=function(e){return{type:"ADD_FILE",file:e}},t.addAsset=function(e,t){return{type:"ADD_ASSET",file_id:e,asset:t}},t.removeFile=function(e){return{type:"REMOVE_FILE",file:e}},t.removeAsset=function(e){return{type:"REMOVE_ASSET",asset:e}},t.create=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:e,body:{id:t.id},meta:{file:t},request:"CREATE_REQUEST",success:"CREATE_SUCCESS",failure:"CREATE_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.counts=t.plains=t.images=t.assets=t.source=void 0;var n=s(a(14)),l=s(a(7)),r=s(a(10)),o=a(12);function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t){return e.files};t.source=(0,o.createSelector)(function(e,t){return e.sources},function(e,t){return e.active},function(e,t){return null!==t?e[t]:null}),t.assets=(0,o.createSelector)(i,function(e){return e.reduce(function(e,t){return t.asset?[].concat((0,r.default)(e),[t.asset]):e},[])}),t.images=(0,o.createSelector)(i,function(e){return e.filter(function(e){return null!==e.thumbnail})}),t.plains=(0,o.createSelector)(i,function(e){return e.filter(function(e){return null===e.thumbnail})}),t.counts=(0,o.createSelector)(i,function(e){return e.reduce(function(e,t){return(0,l.default)({},e,(0,n.default)({},t.network,(e[t.network]||0)+1))},{})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{title:"Smileys & People",emojis:[{name:"grinning",code:"1f600",aliases:[]},{name:"grin",code:"1f601",aliases:[]},{name:"joy",code:"1f602",aliases:[]},{name:"rolling_on_the_floor_laughing",code:"1f923",aliases:[]},{name:"smiley",code:"1f603",aliases:[]},{name:"smile",code:"1f604",aliases:[]},{name:"sweat_smile",code:"1f605",aliases:[]},{name:"laughing",code:"1f606",aliases:["satisfied"]},{name:"wink",code:"1f609",aliases:[]},{name:"blush",code:"1f60a",aliases:[]},{name:"yum",code:"1f60b",aliases:[]},{name:"sunglasses",code:"1f60e",aliases:[]},{name:"heart_eyes",code:"1f60d",aliases:[]},{name:"kissing_heart",code:"1f618",aliases:[]},{name:"kissing",code:"1f617",aliases:[]},{name:"kissing_smiling_eyes",code:"1f619",aliases:[]},{name:"kissing_closed_eyes",code:"1f61a",aliases:[]},{name:"relaxed",code:"263a-fe0f",aliases:[]},{name:"slightly_smiling_face",code:"1f642",aliases:[]},{name:"hugging_face",code:"1f917",aliases:[]},{name:"star-struck",code:"1f929",aliases:["grinning_face_with_star_eyes"]},{name:"thinking_face",code:"1f914",aliases:[]},{name:"face_with_raised_eyebrow",code:"1f928",aliases:["face_with_one_eyebrow_raised"]},{name:"neutral_face",code:"1f610",aliases:[]},{name:"expressionless",code:"1f611",aliases:[]},{name:"no_mouth",code:"1f636",aliases:[]},{name:"face_with_rolling_eyes",code:"1f644",aliases:[]},{name:"smirk",code:"1f60f",aliases:[]},{name:"persevere",code:"1f623",aliases:[]},{name:"disappointed_relieved",code:"1f625",aliases:[]},{name:"open_mouth",code:"1f62e",aliases:[]},{name:"zipper_mouth_face",code:"1f910",aliases:[]},{name:"hushed",code:"1f62f",aliases:[]},{name:"sleepy",code:"1f62a",aliases:[]},{name:"tired_face",code:"1f62b",aliases:[]},{name:"sleeping",code:"1f634",aliases:[]},{name:"relieved",code:"1f60c",aliases:[]},{name:"stuck_out_tongue",code:"1f61b",aliases:[]},{name:"stuck_out_tongue_winking_eye",code:"1f61c",aliases:[]},{name:"stuck_out_tongue_closed_eyes",code:"1f61d",aliases:[]},{name:"drooling_face",code:"1f924",aliases:[]},{name:"unamused",code:"1f612",aliases:[]},{name:"sweat",code:"1f613",aliases:[]},{name:"pensive",code:"1f614",aliases:[]},{name:"confused",code:"1f615",aliases:[]},{name:"upside_down_face",code:"1f643",aliases:[]},{name:"money_mouth_face",code:"1f911",aliases:[]},{name:"astonished",code:"1f632",aliases:[]},{name:"white_frowning_face",code:"2639-fe0f",aliases:[]},{name:"slightly_frowning_face",code:"1f641",aliases:[]},{name:"confounded",code:"1f616",aliases:[]},{name:"disappointed",code:"1f61e",aliases:[]},{name:"worried",code:"1f61f",aliases:[]},{name:"triumph",code:"1f624",aliases:[]},{name:"cry",code:"1f622",aliases:[]},{name:"sob",code:"1f62d",aliases:[]},{name:"frowning",code:"1f626",aliases:[]},{name:"anguished",code:"1f627",aliases:[]},{name:"fearful",code:"1f628",aliases:[]},{name:"weary",code:"1f629",aliases:[]},{name:"exploding_head",code:"1f92f",aliases:["shocked_face_with_exploding_head"]},{name:"grimacing",code:"1f62c",aliases:[]},{name:"cold_sweat",code:"1f630",aliases:[]},{name:"scream",code:"1f631",aliases:[]},{name:"flushed",code:"1f633",aliases:[]},{name:"zany_face",code:"1f92a",aliases:["grinning_face_with_one_large_and_one_small_eye"]},{name:"dizzy_face",code:"1f635",aliases:[]},{name:"rage",code:"1f621",aliases:[]},{name:"angry",code:"1f620",aliases:[]},{name:"face_with_symbols_on_mouth",code:"1f92c",aliases:["serious_face_with_symbols_covering_mouth"]},{name:"mask",code:"1f637",aliases:[]},{name:"face_with_thermometer",code:"1f912",aliases:[]},{name:"face_with_head_bandage",code:"1f915",aliases:[]},{name:"nauseated_face",code:"1f922",aliases:[]},{name:"face_vomiting",code:"1f92e",aliases:["face_with_open_mouth_vomiting"]},{name:"sneezing_face",code:"1f927",aliases:[]},{name:"innocent",code:"1f607",aliases:[]},{name:"face_with_cowboy_hat",code:"1f920",aliases:[]},{name:"clown_face",code:"1f921",aliases:[]},{name:"lying_face",code:"1f925",aliases:[]},{name:"shushing_face",code:"1f92b",aliases:["face_with_finger_covering_closed_lips"]},{name:"face_with_hand_over_mouth",code:"1f92d",aliases:["smiling_face_with_smiling_eyes_and_hand_covering_mouth"]},{name:"face_with_monocle",code:"1f9d0",aliases:[]},{name:"nerd_face",code:"1f913",aliases:[]},{name:"smiling_imp",code:"1f608",aliases:[]},{name:"imp",code:"1f47f",aliases:[]},{name:"japanese_ogre",code:"1f479",aliases:[]},{name:"japanese_goblin",code:"1f47a",aliases:[]},{name:"skull",code:"1f480",aliases:[]},{name:"skull_and_crossbones",code:"2620-fe0f",aliases:[]},{name:"ghost",code:"1f47b",aliases:[]},{name:"alien",code:"1f47d",aliases:[]},{name:"space_invader",code:"1f47e",aliases:[]},{name:"robot_face",code:"1f916",aliases:[]},{name:"hankey",code:"1f4a9",aliases:["poop","shit"]},{name:"smiley_cat",code:"1f63a",aliases:[]},{name:"smile_cat",code:"1f638",aliases:[]},{name:"joy_cat",code:"1f639",aliases:[]},{name:"heart_eyes_cat",code:"1f63b",aliases:[]},{name:"smirk_cat",code:"1f63c",aliases:[]},{name:"kissing_cat",code:"1f63d",aliases:[]},{name:"scream_cat",code:"1f640",aliases:[]},{name:"crying_cat_face",code:"1f63f",aliases:[]},{name:"pouting_cat",code:"1f63e",aliases:[]},{name:"see_no_evil",code:"1f648",aliases:[]},{name:"hear_no_evil",code:"1f649",aliases:[]},{name:"speak_no_evil",code:"1f64a",aliases:[]},{name:"baby",code:"1f476",aliases:[]},{name:"child",code:"1f9d2",aliases:[]},{name:"boy",code:"1f466",aliases:[]},{name:"girl",code:"1f467",aliases:[]},{name:"adult",code:"1f9d1",aliases:[]},{name:"man",code:"1f468",aliases:[]},{name:"woman",code:"1f469",aliases:[]},{name:"older_adult",code:"1f9d3",aliases:[]},{name:"older_man",code:"1f474",aliases:[]},{name:"older_woman",code:"1f475",aliases:[]},{name:"male-doctor",code:"1f468-200d-2695-fe0f",aliases:[]},{name:"female-doctor",code:"1f469-200d-2695-fe0f",aliases:[]},{name:"male-student",code:"1f468-200d-1f393",aliases:[]},{name:"female-student",code:"1f469-200d-1f393",aliases:[]},{name:"male-teacher",code:"1f468-200d-1f3eb",aliases:[]},{name:"female-teacher",code:"1f469-200d-1f3eb",aliases:[]},{name:"male-judge",code:"1f468-200d-2696-fe0f",aliases:[]},{name:"female-judge",code:"1f469-200d-2696-fe0f",aliases:[]},{name:"male-farmer",code:"1f468-200d-1f33e",aliases:[]},{name:"female-farmer",code:"1f469-200d-1f33e",aliases:[]},{name:"male-cook",code:"1f468-200d-1f373",aliases:[]},{name:"female-cook",code:"1f469-200d-1f373",aliases:[]},{name:"male-mechanic",code:"1f468-200d-1f527",aliases:[]},{name:"female-mechanic",code:"1f469-200d-1f527",aliases:[]},{name:"male-factory-worker",code:"1f468-200d-1f3ed",aliases:[]},{name:"female-factory-worker",code:"1f469-200d-1f3ed",aliases:[]},{name:"male-office-worker",code:"1f468-200d-1f4bc",aliases:[]},{name:"female-office-worker",code:"1f469-200d-1f4bc",aliases:[]},{name:"male-scientist",code:"1f468-200d-1f52c",aliases:[]},{name:"female-scientist",code:"1f469-200d-1f52c",aliases:[]},{name:"male-technologist",code:"1f468-200d-1f4bb",aliases:[]},{name:"female-technologist",code:"1f469-200d-1f4bb",aliases:[]},{name:"male-singer",code:"1f468-200d-1f3a4",aliases:[]},{name:"female-singer",code:"1f469-200d-1f3a4",aliases:[]},{name:"male-artist",code:"1f468-200d-1f3a8",aliases:[]},{name:"female-artist",code:"1f469-200d-1f3a8",aliases:[]},{name:"male-pilot",code:"1f468-200d-2708-fe0f",aliases:[]},{name:"female-pilot",code:"1f469-200d-2708-fe0f",aliases:[]},{name:"male-astronaut",code:"1f468-200d-1f680",aliases:[]},{name:"female-astronaut",code:"1f469-200d-1f680",aliases:[]},{name:"male-firefighter",code:"1f468-200d-1f692",aliases:[]},{name:"female-firefighter",code:"1f469-200d-1f692",aliases:[]},{name:"cop",code:"1f46e",aliases:[]},{name:"male-police-officer",code:"1f46e-200d-2642-fe0f",aliases:[]},{name:"female-police-officer",code:"1f46e-200d-2640-fe0f",aliases:[]},{name:"sleuth_or_spy",code:"1f575-fe0f",aliases:[]},{name:"male-detective",code:"1f575-fe0f-200d-2642-fe0f",aliases:[]},{name:"female-detective",code:"1f575-fe0f-200d-2640-fe0f",aliases:[]},{name:"guardsman",code:"1f482",aliases:[]},{name:"male-guard",code:"1f482-200d-2642-fe0f",aliases:[]},{name:"female-guard",code:"1f482-200d-2640-fe0f",aliases:[]},{name:"construction_worker",code:"1f477",aliases:[]},{name:"male-construction-worker",code:"1f477-200d-2642-fe0f",aliases:[]},{name:"female-construction-worker",code:"1f477-200d-2640-fe0f",aliases:[]},{name:"prince",code:"1f934",aliases:[]},{name:"princess",code:"1f478",aliases:[]},{name:"man_with_turban",code:"1f473",aliases:[]},{name:"man-wearing-turban",code:"1f473-200d-2642-fe0f",aliases:[]},{name:"woman-wearing-turban",code:"1f473-200d-2640-fe0f",aliases:[]},{name:"man_with_gua_pi_mao",code:"1f472",aliases:[]},{name:"person_with_headscarf",code:"1f9d5",aliases:[]},{name:"bearded_person",code:"1f9d4",aliases:[]},{name:"person_with_blond_hair",code:"1f471",aliases:[]},{name:"blond-haired-man",code:"1f471-200d-2642-fe0f",aliases:[]},{name:"blond-haired-woman",code:"1f471-200d-2640-fe0f",aliases:[]},{name:"man_in_tuxedo",code:"1f935",aliases:[]},{name:"bride_with_veil",code:"1f470",aliases:[]},{name:"pregnant_woman",code:"1f930",aliases:[]},{name:"breast-feeding",code:"1f931",aliases:[]},{name:"angel",code:"1f47c",aliases:[]},{name:"santa",code:"1f385",aliases:[]},{name:"mrs_claus",code:"1f936",aliases:["mother_christmas"]},{name:"mage",code:"1f9d9",aliases:[]},{name:"female_mage",code:"1f9d9-200d-2640-fe0f",aliases:[]},{name:"male_mage",code:"1f9d9-200d-2642-fe0f",aliases:[]},{name:"fairy",code:"1f9da",aliases:[]},{name:"female_fairy",code:"1f9da-200d-2640-fe0f",aliases:[]},{name:"male_fairy",code:"1f9da-200d-2642-fe0f",aliases:[]},{name:"vampire",code:"1f9db",aliases:[]},{name:"female_vampire",code:"1f9db-200d-2640-fe0f",aliases:[]},{name:"male_vampire",code:"1f9db-200d-2642-fe0f",aliases:[]},{name:"merperson",code:"1f9dc",aliases:[]},{name:"mermaid",code:"1f9dc-200d-2640-fe0f",aliases:[]},{name:"merman",code:"1f9dc-200d-2642-fe0f",aliases:[]},{name:"elf",code:"1f9dd",aliases:[]},{name:"female_elf",code:"1f9dd-200d-2640-fe0f",aliases:[]},{name:"male_elf",code:"1f9dd-200d-2642-fe0f",aliases:[]},{name:"genie",code:"1f9de",aliases:[]},{name:"female_genie",code:"1f9de-200d-2640-fe0f",aliases:[]},{name:"male_genie",code:"1f9de-200d-2642-fe0f",aliases:[]},{name:"zombie",code:"1f9df",aliases:[]},{name:"female_zombie",code:"1f9df-200d-2640-fe0f",aliases:[]},{name:"male_zombie",code:"1f9df-200d-2642-fe0f",aliases:[]},{name:"person_frowning",code:"1f64d",aliases:[]},{name:"man-frowning",code:"1f64d-200d-2642-fe0f",aliases:[]},{name:"woman-frowning",code:"1f64d-200d-2640-fe0f",aliases:[]},{name:"person_with_pouting_face",code:"1f64e",aliases:[]},{name:"man-pouting",code:"1f64e-200d-2642-fe0f",aliases:[]},{name:"woman-pouting",code:"1f64e-200d-2640-fe0f",aliases:[]},{name:"no_good",code:"1f645",aliases:[]},{name:"man-gesturing-no",code:"1f645-200d-2642-fe0f",aliases:[]},{name:"woman-gesturing-no",code:"1f645-200d-2640-fe0f",aliases:[]},{name:"ok_woman",code:"1f646",aliases:[]},{name:"man-gesturing-ok",code:"1f646-200d-2642-fe0f",aliases:[]},{name:"woman-gesturing-ok",code:"1f646-200d-2640-fe0f",aliases:[]},{name:"information_desk_person",code:"1f481",aliases:[]},{name:"man-tipping-hand",code:"1f481-200d-2642-fe0f",aliases:[]},{name:"woman-tipping-hand",code:"1f481-200d-2640-fe0f",aliases:[]},{name:"raising_hand",code:"1f64b",aliases:[]},{name:"man-raising-hand",code:"1f64b-200d-2642-fe0f",aliases:[]},{name:"woman-raising-hand",code:"1f64b-200d-2640-fe0f",aliases:[]},{name:"bow",code:"1f647",aliases:[]},{name:"man-bowing",code:"1f647-200d-2642-fe0f",aliases:[]},{name:"woman-bowing",code:"1f647-200d-2640-fe0f",aliases:[]},{name:"face_palm",code:"1f926",aliases:[]},{name:"man-facepalming",code:"1f926-200d-2642-fe0f",aliases:[]},{name:"woman-facepalming",code:"1f926-200d-2640-fe0f",aliases:[]},{name:"shrug",code:"1f937",aliases:[]},{name:"man-shrugging",code:"1f937-200d-2642-fe0f",aliases:[]},{name:"woman-shrugging",code:"1f937-200d-2640-fe0f",aliases:[]},{name:"massage",code:"1f486",aliases:[]},{name:"man-getting-massage",code:"1f486-200d-2642-fe0f",aliases:[]},{name:"woman-getting-massage",code:"1f486-200d-2640-fe0f",aliases:[]},{name:"haircut",code:"1f487",aliases:[]},{name:"man-getting-haircut",code:"1f487-200d-2642-fe0f",aliases:[]},{name:"woman-getting-haircut",code:"1f487-200d-2640-fe0f",aliases:[]},{name:"walking",code:"1f6b6",aliases:[]},{name:"man-walking",code:"1f6b6-200d-2642-fe0f",aliases:[]},{name:"woman-walking",code:"1f6b6-200d-2640-fe0f",aliases:[]},{name:"runner",code:"1f3c3",aliases:["running"]},{name:"man-running",code:"1f3c3-200d-2642-fe0f",aliases:[]},{name:"woman-running",code:"1f3c3-200d-2640-fe0f",aliases:[]},{name:"dancer",code:"1f483",aliases:[]},{name:"man_dancing",code:"1f57a",aliases:[]},{name:"dancers",code:"1f46f",aliases:[]},{name:"man-with-bunny-ears-partying",code:"1f46f-200d-2642-fe0f",aliases:[]},{name:"woman-with-bunny-ears-partying",code:"1f46f-200d-2640-fe0f",aliases:[]},{name:"person_in_steamy_room",code:"1f9d6",aliases:[]},{name:"woman_in_steamy_room",code:"1f9d6-200d-2640-fe0f",aliases:[]},{name:"man_in_steamy_room",code:"1f9d6-200d-2642-fe0f",aliases:[]},{name:"person_climbing",code:"1f9d7",aliases:[]},{name:"woman_climbing",code:"1f9d7-200d-2640-fe0f",aliases:[]},{name:"man_climbing",code:"1f9d7-200d-2642-fe0f",aliases:[]},{name:"person_in_lotus_position",code:"1f9d8",aliases:[]},{name:"woman_in_lotus_position",code:"1f9d8-200d-2640-fe0f",aliases:[]},{name:"man_in_lotus_position",code:"1f9d8-200d-2642-fe0f",aliases:[]},{name:"bath",code:"1f6c0",aliases:[]},{name:"sleeping_accommodation",code:"1f6cc",aliases:[]},{name:"man_in_business_suit_levitating",code:"1f574-fe0f",aliases:[]},{name:"speaking_head_in_silhouette",code:"1f5e3-fe0f",aliases:[]},{name:"bust_in_silhouette",code:"1f464",aliases:[]},{name:"busts_in_silhouette",code:"1f465",aliases:[]},{name:"fencer",code:"1f93a",aliases:[]},{name:"horse_racing",code:"1f3c7",aliases:[]},{name:"skier",code:"26f7-fe0f",aliases:[]},{name:"snowboarder",code:"1f3c2",aliases:[]},{name:"golfer",code:"1f3cc-fe0f",aliases:[]},{name:"man-golfing",code:"1f3cc-fe0f-200d-2642-fe0f",aliases:[]},{name:"woman-golfing",code:"1f3cc-fe0f-200d-2640-fe0f",aliases:[]},{name:"surfer",code:"1f3c4",aliases:[]},{name:"man-surfing",code:"1f3c4-200d-2642-fe0f",aliases:[]},{name:"woman-surfing",code:"1f3c4-200d-2640-fe0f",aliases:[]},{name:"rowboat",code:"1f6a3",aliases:[]},{name:"man-rowing-boat",code:"1f6a3-200d-2642-fe0f",aliases:[]},{name:"woman-rowing-boat",code:"1f6a3-200d-2640-fe0f",aliases:[]},{name:"swimmer",code:"1f3ca",aliases:[]},{name:"man-swimming",code:"1f3ca-200d-2642-fe0f",aliases:[]},{name:"woman-swimming",code:"1f3ca-200d-2640-fe0f",aliases:[]},{name:"person_with_ball",code:"26f9-fe0f",aliases:[]},{name:"man-bouncing-ball",code:"26f9-fe0f-200d-2642-fe0f",aliases:[]},{name:"woman-bouncing-ball",code:"26f9-fe0f-200d-2640-fe0f",aliases:[]},{name:"weight_lifter",code:"1f3cb-fe0f",aliases:[]},{name:"man-lifting-weights",code:"1f3cb-fe0f-200d-2642-fe0f",aliases:[]},{name:"woman-lifting-weights",code:"1f3cb-fe0f-200d-2640-fe0f",aliases:[]},{name:"bicyclist",code:"1f6b4",aliases:[]},{name:"man-biking",code:"1f6b4-200d-2642-fe0f",aliases:[]},{name:"woman-biking",code:"1f6b4-200d-2640-fe0f",aliases:[]},{name:"mountain_bicyclist",code:"1f6b5",aliases:[]},{name:"man-mountain-biking",code:"1f6b5-200d-2642-fe0f",aliases:[]},{name:"woman-mountain-biking",code:"1f6b5-200d-2640-fe0f",aliases:[]},{name:"racing_car",code:"1f3ce-fe0f",aliases:[]},{name:"racing_motorcycle",code:"1f3cd-fe0f",aliases:[]},{name:"person_doing_cartwheel",code:"1f938",aliases:[]},{name:"man-cartwheeling",code:"1f938-200d-2642-fe0f",aliases:[]},{name:"woman-cartwheeling",code:"1f938-200d-2640-fe0f",aliases:[]},{name:"wrestlers",code:"1f93c",aliases:[]},{name:"man-wrestling",code:"1f93c-200d-2642-fe0f",aliases:[]},{name:"woman-wrestling",code:"1f93c-200d-2640-fe0f",aliases:[]},{name:"water_polo",code:"1f93d",aliases:[]},{name:"man-playing-water-polo",code:"1f93d-200d-2642-fe0f",aliases:[]},{name:"woman-playing-water-polo",code:"1f93d-200d-2640-fe0f",aliases:[]},{name:"handball",code:"1f93e",aliases:[]},{name:"man-playing-handball",code:"1f93e-200d-2642-fe0f",aliases:[]},{name:"woman-playing-handball",code:"1f93e-200d-2640-fe0f",aliases:[]},{name:"juggling",code:"1f939",aliases:[]},{name:"man-juggling",code:"1f939-200d-2642-fe0f",aliases:[]},{name:"woman-juggling",code:"1f939-200d-2640-fe0f",aliases:[]},{name:"couple",code:"1f46b",aliases:["man_and_woman_holding_hands"]},{name:"two_men_holding_hands",code:"1f46c",aliases:[]},{name:"two_women_holding_hands",code:"1f46d",aliases:[]},{name:"couplekiss",code:"1f48f",aliases:[]},{name:"woman-kiss-man",code:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",aliases:[]},{name:"man-kiss-man",code:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",aliases:[]},{name:"woman-kiss-woman",code:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",aliases:[]},{name:"couple_with_heart",code:"1f491",aliases:[]},{name:"woman-heart-man",code:"1f469-200d-2764-fe0f-200d-1f468",aliases:[]},{name:"man-heart-man",code:"1f468-200d-2764-fe0f-200d-1f468",aliases:[]},{name:"woman-heart-woman",code:"1f469-200d-2764-fe0f-200d-1f469",aliases:[]},{name:"family",code:"1f46a",aliases:["man-woman-boy"]},{name:"man-woman-boy",code:"1f468-200d-1f469-200d-1f466",aliases:["family"]},{name:"man-woman-girl",code:"1f468-200d-1f469-200d-1f467",aliases:[]},{name:"man-woman-girl-boy",code:"1f468-200d-1f469-200d-1f467-200d-1f466",aliases:[]},{name:"man-woman-boy-boy",code:"1f468-200d-1f469-200d-1f466-200d-1f466",aliases:[]},{name:"man-woman-girl-girl",code:"1f468-200d-1f469-200d-1f467-200d-1f467",aliases:[]},{name:"man-man-boy",code:"1f468-200d-1f468-200d-1f466",aliases:[]},{name:"man-man-girl",code:"1f468-200d-1f468-200d-1f467",aliases:[]},{name:"man-man-girl-boy",code:"1f468-200d-1f468-200d-1f467-200d-1f466",aliases:[]},{name:"man-man-boy-boy",code:"1f468-200d-1f468-200d-1f466-200d-1f466",aliases:[]},{name:"man-man-girl-girl",code:"1f468-200d-1f468-200d-1f467-200d-1f467",aliases:[]},{name:"woman-woman-boy",code:"1f469-200d-1f469-200d-1f466",aliases:[]},{name:"woman-woman-girl",code:"1f469-200d-1f469-200d-1f467",aliases:[]},{name:"woman-woman-girl-boy",code:"1f469-200d-1f469-200d-1f467-200d-1f466",aliases:[]},{name:"woman-woman-boy-boy",code:"1f469-200d-1f469-200d-1f466-200d-1f466",aliases:[]},{name:"woman-woman-girl-girl",code:"1f469-200d-1f469-200d-1f467-200d-1f467",aliases:[]},{name:"man-boy",code:"1f468-200d-1f466",aliases:[]},{name:"man-boy-boy",code:"1f468-200d-1f466-200d-1f466",aliases:[]},{name:"man-girl",code:"1f468-200d-1f467",aliases:[]},{name:"man-girl-boy",code:"1f468-200d-1f467-200d-1f466",aliases:[]},{name:"man-girl-girl",code:"1f468-200d-1f467-200d-1f467",aliases:[]},{name:"woman-boy",code:"1f469-200d-1f466",aliases:[]},{name:"woman-boy-boy",code:"1f469-200d-1f466-200d-1f466",aliases:[]},{name:"woman-girl",code:"1f469-200d-1f467",aliases:[]},{name:"woman-girl-boy",code:"1f469-200d-1f467-200d-1f466",aliases:[]},{name:"woman-girl-girl",code:"1f469-200d-1f467-200d-1f467",aliases:[]},{name:"selfie",code:"1f933",aliases:[]},{name:"muscle",code:"1f4aa",aliases:[]},{name:"point_left",code:"1f448",aliases:[]},{name:"point_right",code:"1f449",aliases:[]},{name:"point_up",code:"261d-fe0f",aliases:[]},{name:"point_up_2",code:"1f446",aliases:[]},{name:"middle_finger",code:"1f595",aliases:["reversed_hand_with_middle_finger_extended"]},{name:"point_down",code:"1f447",aliases:[]},{name:"v",code:"270c-fe0f",aliases:[]},{name:"crossed_fingers",code:"1f91e",aliases:["hand_with_index_and_middle_fingers_crossed"]},{name:"spock-hand",code:"1f596",aliases:[]},{name:"the_horns",code:"1f918",aliases:["sign_of_the_horns"]},{name:"call_me_hand",code:"1f919",aliases:[]},{name:"raised_hand_with_fingers_splayed",code:"1f590-fe0f",aliases:[]},{name:"hand",code:"270b",aliases:["raised_hand"]},{name:"ok_hand",code:"1f44c",aliases:[]},{name:"+1",code:"1f44d",aliases:["thumbsup"]},{name:"-1",code:"1f44e",aliases:["thumbsdown"]},{name:"fist",code:"270a",aliases:[]},{name:"facepunch",code:"1f44a",aliases:["punch"]},{name:"left-facing_fist",code:"1f91b",aliases:[]},{name:"right-facing_fist",code:"1f91c",aliases:[]},{name:"raised_back_of_hand",code:"1f91a",aliases:[]},{name:"wave",code:"1f44b",aliases:[]},{name:"i_love_you_hand_sign",code:"1f91f",aliases:[]},{name:"writing_hand",code:"270d-fe0f",aliases:[]},{name:"clap",code:"1f44f",aliases:[]},{name:"open_hands",code:"1f450",aliases:[]},{name:"raised_hands",code:"1f64c",aliases:[]},{name:"palms_up_together",code:"1f932",aliases:[]},{name:"pray",code:"1f64f",aliases:[]},{name:"handshake",code:"1f91d",aliases:[]},{name:"nail_care",code:"1f485",aliases:[]},{name:"ear",code:"1f442",aliases:[]},{name:"nose",code:"1f443",aliases:[]},{name:"footprints",code:"1f463",aliases:[]},{name:"eyes",code:"1f440",aliases:[]},{name:"eye",code:"1f441-fe0f",aliases:[]},{name:"eye-in-speech-bubble",code:"1f441-fe0f-200d-1f5e8-fe0f",aliases:[]},{name:"brain",code:"1f9e0",aliases:[]},{name:"tongue",code:"1f445",aliases:[]},{name:"lips",code:"1f444",aliases:[]},{name:"kiss",code:"1f48b",aliases:[]},{name:"cupid",code:"1f498",aliases:[]},{name:"heart",code:"2764-fe0f",aliases:[]},{name:"heartbeat",code:"1f493",aliases:[]},{name:"broken_heart",code:"1f494",aliases:[]},{name:"two_hearts",code:"1f495",aliases:[]},{name:"sparkling_heart",code:"1f496",aliases:[]},{name:"heartpulse",code:"1f497",aliases:[]},{name:"blue_heart",code:"1f499",aliases:[]},{name:"green_heart",code:"1f49a",aliases:[]},{name:"yellow_heart",code:"1f49b",aliases:[]},{name:"orange_heart",code:"1f9e1",aliases:[]},{name:"purple_heart",code:"1f49c",aliases:[]},{name:"black_heart",code:"1f5a4",aliases:[]},{name:"gift_heart",code:"1f49d",aliases:[]},{name:"revolving_hearts",code:"1f49e",aliases:[]},{name:"heart_decoration",code:"1f49f",aliases:[]},{name:"heavy_heart_exclamation_mark_ornament",code:"2763-fe0f",aliases:[]},{name:"love_letter",code:"1f48c",aliases:[]},{name:"zzz",code:"1f4a4",aliases:[]},{name:"anger",code:"1f4a2",aliases:[]},{name:"bomb",code:"1f4a3",aliases:[]},{name:"boom",code:"1f4a5",aliases:["collision"]},{name:"sweat_drops",code:"1f4a6",aliases:[]},{name:"dash",code:"1f4a8",aliases:[]},{name:"dizzy",code:"1f4ab",aliases:[]},{name:"speech_balloon",code:"1f4ac",aliases:[]},{name:"left_speech_bubble",code:"1f5e8-fe0f",aliases:[]},{name:"right_anger_bubble",code:"1f5ef-fe0f",aliases:[]},{name:"thought_balloon",code:"1f4ad",aliases:[]},{name:"hole",code:"1f573-fe0f",aliases:[]},{name:"eyeglasses",code:"1f453",aliases:[]},{name:"dark_sunglasses",code:"1f576-fe0f",aliases:[]},{name:"necktie",code:"1f454",aliases:[]},{name:"shirt",code:"1f455",aliases:["tshirt"]},{name:"jeans",code:"1f456",aliases:[]},{name:"scarf",code:"1f9e3",aliases:[]},{name:"gloves",code:"1f9e4",aliases:[]},{name:"coat",code:"1f9e5",aliases:[]},{name:"socks",code:"1f9e6",aliases:[]},{name:"dress",code:"1f457",aliases:[]},{name:"kimono",code:"1f458",aliases:[]},{name:"bikini",code:"1f459",aliases:[]},{name:"womans_clothes",code:"1f45a",aliases:[]},{name:"purse",code:"1f45b",aliases:[]},{name:"handbag",code:"1f45c",aliases:[]},{name:"pouch",code:"1f45d",aliases:[]},{name:"shopping_bags",code:"1f6cd-fe0f",aliases:[]},{name:"school_satchel",code:"1f392",aliases:[]},{name:"mans_shoe",code:"1f45e",aliases:["shoe"]},{name:"athletic_shoe",code:"1f45f",aliases:[]},{name:"high_heel",code:"1f460",aliases:[]},{name:"sandal",code:"1f461",aliases:[]},{name:"boot",code:"1f462",aliases:[]},{name:"crown",code:"1f451",aliases:[]},{name:"womans_hat",code:"1f452",aliases:[]},{name:"tophat",code:"1f3a9",aliases:[]},{name:"mortar_board",code:"1f393",aliases:[]},{name:"billed_cap",code:"1f9e2",aliases:[]},{name:"helmet_with_white_cross",code:"26d1-fe0f",aliases:[]},{name:"prayer_beads",code:"1f4ff",aliases:[]},{name:"lipstick",code:"1f484",aliases:[]},{name:"ring",code:"1f48d",aliases:[]},{name:"gem",code:"1f48e",aliases:[]}]},{title:"Animals & Nature",emojis:[{name:"monkey_face",code:"1f435",aliases:[]},{name:"monkey",code:"1f412",aliases:[]},{name:"gorilla",code:"1f98d",aliases:[]},{name:"dog",code:"1f436",aliases:[]},{name:"dog2",code:"1f415",aliases:[]},{name:"poodle",code:"1f429",aliases:[]},{name:"wolf",code:"1f43a",aliases:[]},{name:"fox_face",code:"1f98a",aliases:[]},{name:"cat",code:"1f431",aliases:[]},{name:"cat2",code:"1f408",aliases:[]},{name:"lion_face",code:"1f981",aliases:[]},{name:"tiger",code:"1f42f",aliases:[]},{name:"tiger2",code:"1f405",aliases:[]},{name:"leopard",code:"1f406",aliases:[]},{name:"horse",code:"1f434",aliases:[]},{name:"racehorse",code:"1f40e",aliases:[]},{name:"unicorn_face",code:"1f984",aliases:[]},{name:"zebra_face",code:"1f993",aliases:[]},{name:"deer",code:"1f98c",aliases:[]},{name:"cow",code:"1f42e",aliases:[]},{name:"ox",code:"1f402",aliases:[]},{name:"water_buffalo",code:"1f403",aliases:[]},{name:"cow2",code:"1f404",aliases:[]},{name:"pig",code:"1f437",aliases:[]},{name:"pig2",code:"1f416",aliases:[]},{name:"boar",code:"1f417",aliases:[]},{name:"pig_nose",code:"1f43d",aliases:[]},{name:"ram",code:"1f40f",aliases:[]},{name:"sheep",code:"1f411",aliases:[]},{name:"goat",code:"1f410",aliases:[]},{name:"dromedary_camel",code:"1f42a",aliases:[]},{name:"camel",code:"1f42b",aliases:[]},{name:"giraffe_face",code:"1f992",aliases:[]},{name:"elephant",code:"1f418",aliases:[]},{name:"rhinoceros",code:"1f98f",aliases:[]},{name:"mouse",code:"1f42d",aliases:[]},{name:"mouse2",code:"1f401",aliases:[]},{name:"rat",code:"1f400",aliases:[]},{name:"hamster",code:"1f439",aliases:[]},{name:"rabbit",code:"1f430",aliases:[]},{name:"rabbit2",code:"1f407",aliases:[]},{name:"chipmunk",code:"1f43f-fe0f",aliases:[]},{name:"hedgehog",code:"1f994",aliases:[]},{name:"bat",code:"1f987",aliases:[]},{name:"bear",code:"1f43b",aliases:[]},{name:"koala",code:"1f428",aliases:[]},{name:"panda_face",code:"1f43c",aliases:[]},{name:"feet",code:"1f43e",aliases:["paw_prints"]},{name:"turkey",code:"1f983",aliases:[]},{name:"chicken",code:"1f414",aliases:[]},{name:"rooster",code:"1f413",aliases:[]},{name:"hatching_chick",code:"1f423",aliases:[]},{name:"baby_chick",code:"1f424",aliases:[]},{name:"hatched_chick",code:"1f425",aliases:[]},{name:"bird",code:"1f426",aliases:[]},{name:"penguin",code:"1f427",aliases:[]},{name:"dove_of_peace",code:"1f54a-fe0f",aliases:[]},{name:"eagle",code:"1f985",aliases:[]},{name:"duck",code:"1f986",aliases:[]},{name:"owl",code:"1f989",aliases:[]},{name:"frog",code:"1f438",aliases:[]},{name:"crocodile",code:"1f40a",aliases:[]},{name:"turtle",code:"1f422",aliases:[]},{name:"lizard",code:"1f98e",aliases:[]},{name:"snake",code:"1f40d",aliases:[]},{name:"dragon_face",code:"1f432",aliases:[]},{name:"dragon",code:"1f409",aliases:[]},{name:"sauropod",code:"1f995",aliases:[]},{name:"t-rex",code:"1f996",aliases:[]},{name:"whale",code:"1f433",aliases:[]},{name:"whale2",code:"1f40b",aliases:[]},{name:"dolphin",code:"1f42c",aliases:["flipper"]},{name:"fish",code:"1f41f",aliases:[]},{name:"tropical_fish",code:"1f420",aliases:[]},{name:"blowfish",code:"1f421",aliases:[]},{name:"shark",code:"1f988",aliases:[]},{name:"octopus",code:"1f419",aliases:[]},{name:"shell",code:"1f41a",aliases:[]},{name:"crab",code:"1f980",aliases:[]},{name:"shrimp",code:"1f990",aliases:[]},{name:"squid",code:"1f991",aliases:[]},{name:"snail",code:"1f40c",aliases:[]},{name:"butterfly",code:"1f98b",aliases:[]},{name:"bug",code:"1f41b",aliases:[]},{name:"ant",code:"1f41c",aliases:[]},{name:"bee",code:"1f41d",aliases:["honeybee"]},{name:"beetle",code:"1f41e",aliases:[]},{name:"cricket",code:"1f997",aliases:[]},{name:"spider",code:"1f577-fe0f",aliases:[]},{name:"spider_web",code:"1f578-fe0f",aliases:[]},{name:"scorpion",code:"1f982",aliases:[]},{name:"bouquet",code:"1f490",aliases:[]},{name:"cherry_blossom",code:"1f338",aliases:[]},{name:"white_flower",code:"1f4ae",aliases:[]},{name:"rosette",code:"1f3f5-fe0f",aliases:[]},{name:"rose",code:"1f339",aliases:[]},{name:"wilted_flower",code:"1f940",aliases:[]},{name:"hibiscus",code:"1f33a",aliases:[]},{name:"sunflower",code:"1f33b",aliases:[]},{name:"blossom",code:"1f33c",aliases:[]},{name:"tulip",code:"1f337",aliases:[]},{name:"seedling",code:"1f331",aliases:[]},{name:"evergreen_tree",code:"1f332",aliases:[]},{name:"deciduous_tree",code:"1f333",aliases:[]},{name:"palm_tree",code:"1f334",aliases:[]},{name:"cactus",code:"1f335",aliases:[]},{name:"ear_of_rice",code:"1f33e",aliases:[]},{name:"herb",code:"1f33f",aliases:[]},{name:"shamrock",code:"2618-fe0f",aliases:[]},{name:"four_leaf_clover",code:"1f340",aliases:[]},{name:"maple_leaf",code:"1f341",aliases:[]},{name:"fallen_leaf",code:"1f342",aliases:[]},{name:"leaves",code:"1f343",aliases:[]}]},{title:"Food & Drink",emojis:[{name:"grapes",code:"1f347",aliases:[]},{name:"melon",code:"1f348",aliases:[]},{name:"watermelon",code:"1f349",aliases:[]},{name:"tangerine",code:"1f34a",aliases:[]},{name:"lemon",code:"1f34b",aliases:[]},{name:"banana",code:"1f34c",aliases:[]},{name:"pineapple",code:"1f34d",aliases:[]},{name:"apple",code:"1f34e",aliases:[]},{name:"green_apple",code:"1f34f",aliases:[]},{name:"pear",code:"1f350",aliases:[]},{name:"peach",code:"1f351",aliases:[]},{name:"cherries",code:"1f352",aliases:[]},{name:"strawberry",code:"1f353",aliases:[]},{name:"kiwifruit",code:"1f95d",aliases:[]},{name:"tomato",code:"1f345",aliases:[]},{name:"coconut",code:"1f965",aliases:[]},{name:"avocado",code:"1f951",aliases:[]},{name:"eggplant",code:"1f346",aliases:[]},{name:"potato",code:"1f954",aliases:[]},{name:"carrot",code:"1f955",aliases:[]},{name:"corn",code:"1f33d",aliases:[]},{name:"hot_pepper",code:"1f336-fe0f",aliases:[]},{name:"cucumber",code:"1f952",aliases:[]},{name:"broccoli",code:"1f966",aliases:[]},{name:"mushroom",code:"1f344",aliases:[]},{name:"peanuts",code:"1f95c",aliases:[]},{name:"chestnut",code:"1f330",aliases:[]},{name:"bread",code:"1f35e",aliases:[]},{name:"croissant",code:"1f950",aliases:[]},{name:"baguette_bread",code:"1f956",aliases:[]},{name:"pretzel",code:"1f968",aliases:[]},{name:"pancakes",code:"1f95e",aliases:[]},{name:"cheese_wedge",code:"1f9c0",aliases:[]},{name:"meat_on_bone",code:"1f356",aliases:[]},{name:"poultry_leg",code:"1f357",aliases:[]},{name:"cut_of_meat",code:"1f969",aliases:[]},{name:"bacon",code:"1f953",aliases:[]},{name:"hamburger",code:"1f354",aliases:[]},{name:"fries",code:"1f35f",aliases:[]},{name:"pizza",code:"1f355",aliases:[]},{name:"hotdog",code:"1f32d",aliases:[]},{name:"sandwich",code:"1f96a",aliases:[]},{name:"taco",code:"1f32e",aliases:[]},{name:"burrito",code:"1f32f",aliases:[]},{name:"stuffed_flatbread",code:"1f959",aliases:[]},{name:"egg",code:"1f95a",aliases:[]},{name:"fried_egg",code:"1f373",aliases:["cooking"]},{name:"shallow_pan_of_food",code:"1f958",aliases:[]},{name:"stew",code:"1f372",aliases:[]},{name:"bowl_with_spoon",code:"1f963",aliases:[]},{name:"green_salad",code:"1f957",aliases:[]},{name:"popcorn",code:"1f37f",aliases:[]},{name:"canned_food",code:"1f96b",aliases:[]},{name:"bento",code:"1f371",aliases:[]},{name:"rice_cracker",code:"1f358",aliases:[]},{name:"rice_ball",code:"1f359",aliases:[]},{name:"rice",code:"1f35a",aliases:[]},{name:"curry",code:"1f35b",aliases:[]},{name:"ramen",code:"1f35c",aliases:[]},{name:"spaghetti",code:"1f35d",aliases:[]},{name:"sweet_potato",code:"1f360",aliases:[]},{name:"oden",code:"1f362",aliases:[]},{name:"sushi",code:"1f363",aliases:[]},{name:"fried_shrimp",code:"1f364",aliases:[]},{name:"fish_cake",code:"1f365",aliases:[]},{name:"dango",code:"1f361",aliases:[]},{name:"dumpling",code:"1f95f",aliases:[]},{name:"fortune_cookie",code:"1f960",aliases:[]},{name:"takeout_box",code:"1f961",aliases:[]},{name:"icecream",code:"1f366",aliases:[]},{name:"shaved_ice",code:"1f367",aliases:[]},{name:"ice_cream",code:"1f368",aliases:[]},{name:"doughnut",code:"1f369",aliases:[]},{name:"cookie",code:"1f36a",aliases:[]},{name:"birthday",code:"1f382",aliases:[]},{name:"cake",code:"1f370",aliases:[]},{name:"pie",code:"1f967",aliases:[]},{name:"chocolate_bar",code:"1f36b",aliases:[]},{name:"candy",code:"1f36c",aliases:[]},{name:"lollipop",code:"1f36d",aliases:[]},{name:"custard",code:"1f36e",aliases:[]},{name:"honey_pot",code:"1f36f",aliases:[]},{name:"baby_bottle",code:"1f37c",aliases:[]},{name:"glass_of_milk",code:"1f95b",aliases:[]},{name:"coffee",code:"2615",aliases:[]},{name:"tea",code:"1f375",aliases:[]},{name:"sake",code:"1f376",aliases:[]},{name:"champagne",code:"1f37e",aliases:[]},{name:"wine_glass",code:"1f377",aliases:[]},{name:"cocktail",code:"1f378",aliases:[]},{name:"tropical_drink",code:"1f379",aliases:[]},{name:"beer",code:"1f37a",aliases:[]},{name:"beers",code:"1f37b",aliases:[]},{name:"clinking_glasses",code:"1f942",aliases:[]},{name:"tumbler_glass",code:"1f943",aliases:[]},{name:"cup_with_straw",code:"1f964",aliases:[]},{name:"chopsticks",code:"1f962",aliases:[]},{name:"knife_fork_plate",code:"1f37d-fe0f",aliases:[]},{name:"fork_and_knife",code:"1f374",aliases:[]},{name:"spoon",code:"1f944",aliases:[]},{name:"hocho",code:"1f52a",aliases:["knife"]},{name:"amphora",code:"1f3fa",aliases:[]}]},{title:"Travel & Places",emojis:[{name:"earth_africa",code:"1f30d",aliases:[]},{name:"earth_americas",code:"1f30e",aliases:[]},{name:"earth_asia",code:"1f30f",aliases:[]},{name:"globe_with_meridians",code:"1f310",aliases:[]},{name:"world_map",code:"1f5fa-fe0f",aliases:[]},{name:"japan",code:"1f5fe",aliases:[]},{name:"snow_capped_mountain",code:"1f3d4-fe0f",aliases:[]},{name:"mountain",code:"26f0-fe0f",aliases:[]},{name:"volcano",code:"1f30b",aliases:[]},{name:"mount_fuji",code:"1f5fb",aliases:[]},{name:"camping",code:"1f3d5-fe0f",aliases:[]},{name:"beach_with_umbrella",code:"1f3d6-fe0f",aliases:[]},{name:"desert",code:"1f3dc-fe0f",aliases:[]},{name:"desert_island",code:"1f3dd-fe0f",aliases:[]},{name:"national_park",code:"1f3de-fe0f",aliases:[]},{name:"stadium",code:"1f3df-fe0f",aliases:[]},{name:"classical_building",code:"1f3db-fe0f",aliases:[]},{name:"building_construction",code:"1f3d7-fe0f",aliases:[]},{name:"house_buildings",code:"1f3d8-fe0f",aliases:[]},{name:"cityscape",code:"1f3d9-fe0f",aliases:[]},{name:"derelict_house_building",code:"1f3da-fe0f",aliases:[]},{name:"house",code:"1f3e0",aliases:[]},{name:"house_with_garden",code:"1f3e1",aliases:[]},{name:"office",code:"1f3e2",aliases:[]},{name:"post_office",code:"1f3e3",aliases:[]},{name:"european_post_office",code:"1f3e4",aliases:[]},{name:"hospital",code:"1f3e5",aliases:[]},{name:"bank",code:"1f3e6",aliases:[]},{name:"hotel",code:"1f3e8",aliases:[]},{name:"love_hotel",code:"1f3e9",aliases:[]},{name:"convenience_store",code:"1f3ea",aliases:[]},{name:"school",code:"1f3eb",aliases:[]},{name:"department_store",code:"1f3ec",aliases:[]},{name:"factory",code:"1f3ed",aliases:[]},{name:"japanese_castle",code:"1f3ef",aliases:[]},{name:"european_castle",code:"1f3f0",aliases:[]},{name:"wedding",code:"1f492",aliases:[]},{name:"tokyo_tower",code:"1f5fc",aliases:[]},{name:"statue_of_liberty",code:"1f5fd",aliases:[]},{name:"church",code:"26ea",aliases:[]},{name:"mosque",code:"1f54c",aliases:[]},{name:"synagogue",code:"1f54d",aliases:[]},{name:"shinto_shrine",code:"26e9-fe0f",aliases:[]},{name:"kaaba",code:"1f54b",aliases:[]},{name:"fountain",code:"26f2",aliases:[]},{name:"tent",code:"26fa",aliases:[]},{name:"foggy",code:"1f301",aliases:[]},{name:"night_with_stars",code:"1f303",aliases:[]},{name:"sunrise_over_mountains",code:"1f304",aliases:[]},{name:"sunrise",code:"1f305",aliases:[]},{name:"city_sunset",code:"1f306",aliases:[]},{name:"city_sunrise",code:"1f307",aliases:[]},{name:"bridge_at_night",code:"1f309",aliases:[]},{name:"hotsprings",code:"2668-fe0f",aliases:[]},{name:"milky_way",code:"1f30c",aliases:[]},{name:"carousel_horse",code:"1f3a0",aliases:[]},{name:"ferris_wheel",code:"1f3a1",aliases:[]},{name:"roller_coaster",code:"1f3a2",aliases:[]},{name:"barber",code:"1f488",aliases:[]},{name:"circus_tent",code:"1f3aa",aliases:[]},{name:"performing_arts",code:"1f3ad",aliases:[]},{name:"frame_with_picture",code:"1f5bc-fe0f",aliases:[]},{name:"art",code:"1f3a8",aliases:[]},{name:"slot_machine",code:"1f3b0",aliases:[]},{name:"steam_locomotive",code:"1f682",aliases:[]},{name:"railway_car",code:"1f683",aliases:[]},{name:"bullettrain_side",code:"1f684",aliases:[]},{name:"bullettrain_front",code:"1f685",aliases:[]},{name:"train2",code:"1f686",aliases:[]},{name:"metro",code:"1f687",aliases:[]},{name:"light_rail",code:"1f688",aliases:[]},{name:"station",code:"1f689",aliases:[]},{name:"tram",code:"1f68a",aliases:[]},{name:"monorail",code:"1f69d",aliases:[]},{name:"mountain_railway",code:"1f69e",aliases:[]},{name:"train",code:"1f68b",aliases:[]},{name:"bus",code:"1f68c",aliases:[]},{name:"oncoming_bus",code:"1f68d",aliases:[]},{name:"trolleybus",code:"1f68e",aliases:[]},{name:"minibus",code:"1f690",aliases:[]},{name:"ambulance",code:"1f691",aliases:[]},{name:"fire_engine",code:"1f692",aliases:[]},{name:"police_car",code:"1f693",aliases:[]},{name:"oncoming_police_car",code:"1f694",aliases:[]},{name:"taxi",code:"1f695",aliases:[]},{name:"oncoming_taxi",code:"1f696",aliases:[]},{name:"car",code:"1f697",aliases:["red_car"]},{name:"oncoming_automobile",code:"1f698",aliases:[]},{name:"blue_car",code:"1f699",aliases:[]},{name:"truck",code:"1f69a",aliases:[]},{name:"articulated_lorry",code:"1f69b",aliases:[]},{name:"tractor",code:"1f69c",aliases:[]},{name:"bike",code:"1f6b2",aliases:[]},{name:"scooter",code:"1f6f4",aliases:[]},{name:"motor_scooter",code:"1f6f5",aliases:[]},{name:"busstop",code:"1f68f",aliases:[]},{name:"motorway",code:"1f6e3-fe0f",aliases:[]},{name:"railway_track",code:"1f6e4-fe0f",aliases:[]},{name:"fuelpump",code:"26fd",aliases:[]},{name:"rotating_light",code:"1f6a8",aliases:[]},{name:"traffic_light",code:"1f6a5",aliases:[]},{name:"vertical_traffic_light",code:"1f6a6",aliases:[]},{name:"construction",code:"1f6a7",aliases:[]},{name:"octagonal_sign",code:"1f6d1",aliases:[]},{name:"anchor",code:"2693",aliases:[]},{name:"boat",code:"26f5",aliases:["sailboat"]},{name:"canoe",code:"1f6f6",aliases:[]},{name:"speedboat",code:"1f6a4",aliases:[]},{name:"passenger_ship",code:"1f6f3-fe0f",aliases:[]},{name:"ferry",code:"26f4-fe0f",aliases:[]},{name:"motor_boat",code:"1f6e5-fe0f",aliases:[]},{name:"ship",code:"1f6a2",aliases:[]},{name:"airplane",code:"2708-fe0f",aliases:[]},{name:"small_airplane",code:"1f6e9-fe0f",aliases:[]},{name:"airplane_departure",code:"1f6eb",aliases:[]},{name:"airplane_arriving",code:"1f6ec",aliases:[]},{name:"seat",code:"1f4ba",aliases:[]},{name:"helicopter",code:"1f681",aliases:[]},{name:"suspension_railway",code:"1f69f",aliases:[]},{name:"mountain_cableway",code:"1f6a0",aliases:[]},{name:"aerial_tramway",code:"1f6a1",aliases:[]},{name:"satellite",code:"1f6f0-fe0f",aliases:[]},{name:"rocket",code:"1f680",aliases:[]},{name:"flying_saucer",code:"1f6f8",aliases:[]},{name:"bellhop_bell",code:"1f6ce-fe0f",aliases:[]},{name:"door",code:"1f6aa",aliases:[]},{name:"bed",code:"1f6cf-fe0f",aliases:[]},{name:"couch_and_lamp",code:"1f6cb-fe0f",aliases:[]},{name:"toilet",code:"1f6bd",aliases:[]},{name:"shower",code:"1f6bf",aliases:[]},{name:"bathtub",code:"1f6c1",aliases:[]},{name:"hourglass",code:"231b",aliases:[]},{name:"hourglass_flowing_sand",code:"23f3",aliases:[]},{name:"watch",code:"231a",aliases:[]},{name:"alarm_clock",code:"23f0",aliases:[]},{name:"stopwatch",code:"23f1-fe0f",aliases:[]},{name:"timer_clock",code:"23f2-fe0f",aliases:[]},{name:"mantelpiece_clock",code:"1f570-fe0f",aliases:[]},{name:"clock12",code:"1f55b",aliases:[]},{name:"clock1230",code:"1f567",aliases:[]},{name:"clock1",code:"1f550",aliases:[]},{name:"clock130",code:"1f55c",aliases:[]},{name:"clock2",code:"1f551",aliases:[]},{name:"clock230",code:"1f55d",aliases:[]},{name:"clock3",code:"1f552",aliases:[]},{name:"clock330",code:"1f55e",aliases:[]},{name:"clock4",code:"1f553",aliases:[]},{name:"clock430",code:"1f55f",aliases:[]},{name:"clock5",code:"1f554",aliases:[]},{name:"clock530",code:"1f560",aliases:[]},{name:"clock6",code:"1f555",aliases:[]},{name:"clock630",code:"1f561",aliases:[]},{name:"clock7",code:"1f556",aliases:[]},{name:"clock730",code:"1f562",aliases:[]},{name:"clock8",code:"1f557",aliases:[]},{name:"clock830",code:"1f563",aliases:[]},{name:"clock9",code:"1f558",aliases:[]},{name:"clock930",code:"1f564",aliases:[]},{name:"clock10",code:"1f559",aliases:[]},{name:"clock1030",code:"1f565",aliases:[]},{name:"clock11",code:"1f55a",aliases:[]},{name:"clock1130",code:"1f566",aliases:[]},{name:"new_moon",code:"1f311",aliases:[]},{name:"waxing_crescent_moon",code:"1f312",aliases:[]},{name:"first_quarter_moon",code:"1f313",aliases:[]},{name:"moon",code:"1f314",aliases:["waxing_gibbous_moon"]},{name:"full_moon",code:"1f315",aliases:[]},{name:"waning_gibbous_moon",code:"1f316",aliases:[]},{name:"last_quarter_moon",code:"1f317",aliases:[]},{name:"waning_crescent_moon",code:"1f318",aliases:[]},{name:"crescent_moon",code:"1f319",aliases:[]},{name:"new_moon_with_face",code:"1f31a",aliases:[]},{name:"first_quarter_moon_with_face",code:"1f31b",aliases:[]},{name:"last_quarter_moon_with_face",code:"1f31c",aliases:[]},{name:"thermometer",code:"1f321-fe0f",aliases:[]},{name:"sunny",code:"2600-fe0f",aliases:[]},{name:"full_moon_with_face",code:"1f31d",aliases:[]},{name:"sun_with_face",code:"1f31e",aliases:[]},{name:"star",code:"2b50",aliases:[]},{name:"star2",code:"1f31f",aliases:[]},{name:"stars",code:"1f320",aliases:[]},{name:"cloud",code:"2601-fe0f",aliases:[]},{name:"partly_sunny",code:"26c5",aliases:[]},{name:"thunder_cloud_and_rain",code:"26c8-fe0f",aliases:[]},{name:"mostly_sunny",code:"1f324-fe0f",aliases:["sun_small_cloud"]},{name:"barely_sunny",code:"1f325-fe0f",aliases:["sun_behind_cloud"]},{name:"partly_sunny_rain",code:"1f326-fe0f",aliases:["sun_behind_rain_cloud"]},{name:"rain_cloud",code:"1f327-fe0f",aliases:[]},{name:"snow_cloud",code:"1f328-fe0f",aliases:[]},{name:"lightning",code:"1f329-fe0f",aliases:["lightning_cloud"]},{name:"tornado",code:"1f32a-fe0f",aliases:["tornado_cloud"]},{name:"fog",code:"1f32b-fe0f",aliases:[]},{name:"wind_blowing_face",code:"1f32c-fe0f",aliases:[]},{name:"cyclone",code:"1f300",aliases:[]},{name:"rainbow",code:"1f308",aliases:[]},{name:"closed_umbrella",code:"1f302",aliases:[]},{name:"umbrella",code:"2602-fe0f",aliases:[]},{name:"umbrella_with_rain_drops",code:"2614",aliases:[]},{name:"umbrella_on_ground",code:"26f1-fe0f",aliases:[]},{name:"zap",code:"26a1",aliases:[]},{name:"snowflake",code:"2744-fe0f",aliases:[]},{name:"snowman",code:"2603-fe0f",aliases:[]},{name:"snowman_without_snow",code:"26c4",aliases:[]},{name:"comet",code:"2604-fe0f",aliases:[]},{name:"fire",code:"1f525",aliases:[]},{name:"droplet",code:"1f4a7",aliases:[]},{name:"ocean",code:"1f30a",aliases:[]}]},{title:"Activities",emojis:[{name:"jack_o_lantern",code:"1f383",aliases:[]},{name:"christmas_tree",code:"1f384",aliases:[]},{name:"fireworks",code:"1f386",aliases:[]},{name:"sparkler",code:"1f387",aliases:[]},{name:"sparkles",code:"2728",aliases:[]},{name:"balloon",code:"1f388",aliases:[]},{name:"tada",code:"1f389",aliases:[]},{name:"confetti_ball",code:"1f38a",aliases:[]},{name:"tanabata_tree",code:"1f38b",aliases:[]},{name:"bamboo",code:"1f38d",aliases:[]},{name:"dolls",code:"1f38e",aliases:[]},{name:"flags",code:"1f38f",aliases:[]},{name:"wind_chime",code:"1f390",aliases:[]},{name:"rice_scene",code:"1f391",aliases:[]},{name:"ribbon",code:"1f380",aliases:[]},{name:"gift",code:"1f381",aliases:[]},{name:"reminder_ribbon",code:"1f397-fe0f",aliases:[]},{name:"admission_tickets",code:"1f39f-fe0f",aliases:[]},{name:"ticket",code:"1f3ab",aliases:[]},{name:"medal",code:"1f396-fe0f",aliases:[]},{name:"trophy",code:"1f3c6",aliases:[]},{name:"sports_medal",code:"1f3c5",aliases:[]},{name:"first_place_medal",code:"1f947",aliases:[]},{name:"second_place_medal",code:"1f948",aliases:[]},{name:"third_place_medal",code:"1f949",aliases:[]},{name:"soccer",code:"26bd",aliases:[]},{name:"baseball",code:"26be",aliases:[]},{name:"basketball",code:"1f3c0",aliases:[]},{name:"volleyball",code:"1f3d0",aliases:[]},{name:"football",code:"1f3c8",aliases:[]},{name:"rugby_football",code:"1f3c9",aliases:[]},{name:"tennis",code:"1f3be",aliases:[]},{name:"8ball",code:"1f3b1",aliases:[]},{name:"bowling",code:"1f3b3",aliases:[]},{name:"cricket_bat_and_ball",code:"1f3cf",aliases:[]},{name:"field_hockey_stick_and_ball",code:"1f3d1",aliases:[]},{name:"ice_hockey_stick_and_puck",code:"1f3d2",aliases:[]},{name:"table_tennis_paddle_and_ball",code:"1f3d3",aliases:[]},{name:"badminton_racquet_and_shuttlecock",code:"1f3f8",aliases:[]},{name:"boxing_glove",code:"1f94a",aliases:[]},{name:"martial_arts_uniform",code:"1f94b",aliases:[]},{name:"goal_net",code:"1f945",aliases:[]},{name:"dart",code:"1f3af",aliases:[]},{name:"golf",code:"26f3",aliases:[]},{name:"ice_skate",code:"26f8-fe0f",aliases:[]},{name:"fishing_pole_and_fish",code:"1f3a3",aliases:[]},{name:"running_shirt_with_sash",code:"1f3bd",aliases:[]},{name:"ski",code:"1f3bf",aliases:[]},{name:"sled",code:"1f6f7",aliases:[]},{name:"curling_stone",code:"1f94c",aliases:[]},{name:"video_game",code:"1f3ae",aliases:[]},{name:"joystick",code:"1f579-fe0f",aliases:[]},{name:"game_die",code:"1f3b2",aliases:[]},{name:"spades",code:"2660-fe0f",aliases:[]},{name:"hearts",code:"2665-fe0f",aliases:[]},{name:"diamonds",code:"2666-fe0f",aliases:[]},{name:"clubs",code:"2663-fe0f",aliases:[]},{name:"black_joker",code:"1f0cf",aliases:[]},{name:"mahjong",code:"1f004",aliases:[]},{name:"flower_playing_cards",code:"1f3b4",aliases:[]}]},{title:"Objects",emojis:[{name:"mute",code:"1f507",aliases:[]},{name:"speaker",code:"1f508",aliases:[]},{name:"sound",code:"1f509",aliases:[]},{name:"loud_sound",code:"1f50a",aliases:[]},{name:"loudspeaker",code:"1f4e2",aliases:[]},{name:"mega",code:"1f4e3",aliases:[]},{name:"postal_horn",code:"1f4ef",aliases:[]},{name:"bell",code:"1f514",aliases:[]},{name:"no_bell",code:"1f515",aliases:[]},{name:"musical_score",code:"1f3bc",aliases:[]},{name:"musical_note",code:"1f3b5",aliases:[]},{name:"notes",code:"1f3b6",aliases:[]},{name:"studio_microphone",code:"1f399-fe0f",aliases:[]},{name:"level_slider",code:"1f39a-fe0f",aliases:[]},{name:"control_knobs",code:"1f39b-fe0f",aliases:[]},{name:"microphone",code:"1f3a4",aliases:[]},{name:"headphones",code:"1f3a7",aliases:[]},{name:"radio",code:"1f4fb",aliases:[]},{name:"saxophone",code:"1f3b7",aliases:[]},{name:"guitar",code:"1f3b8",aliases:[]},{name:"musical_keyboard",code:"1f3b9",aliases:[]},{name:"trumpet",code:"1f3ba",aliases:[]},{name:"violin",code:"1f3bb",aliases:[]},{name:"drum_with_drumsticks",code:"1f941",aliases:[]},{name:"iphone",code:"1f4f1",aliases:[]},{name:"calling",code:"1f4f2",aliases:[]},{name:"phone",code:"260e-fe0f",aliases:["telephone"]},{name:"telephone_receiver",code:"1f4de",aliases:[]},{name:"pager",code:"1f4df",aliases:[]},{name:"fax",code:"1f4e0",aliases:[]},{name:"battery",code:"1f50b",aliases:[]},{name:"electric_plug",code:"1f50c",aliases:[]},{name:"computer",code:"1f4bb",aliases:[]},{name:"desktop_computer",code:"1f5a5-fe0f",aliases:[]},{name:"printer",code:"1f5a8-fe0f",aliases:[]},{name:"keyboard",code:"2328-fe0f",aliases:[]},{name:"three_button_mouse",code:"1f5b1-fe0f",aliases:[]},{name:"trackball",code:"1f5b2-fe0f",aliases:[]},{name:"minidisc",code:"1f4bd",aliases:[]},{name:"floppy_disk",code:"1f4be",aliases:[]},{name:"cd",code:"1f4bf",aliases:[]},{name:"dvd",code:"1f4c0",aliases:[]},{name:"movie_camera",code:"1f3a5",aliases:[]},{name:"film_frames",code:"1f39e-fe0f",aliases:[]},{name:"film_projector",code:"1f4fd-fe0f",aliases:[]},{name:"clapper",code:"1f3ac",aliases:[]},{name:"tv",code:"1f4fa",aliases:[]},{name:"camera",code:"1f4f7",aliases:[]},{name:"camera_with_flash",code:"1f4f8",aliases:[]},{name:"video_camera",code:"1f4f9",aliases:[]},{name:"vhs",code:"1f4fc",aliases:[]},{name:"mag",code:"1f50d",aliases:[]},{name:"mag_right",code:"1f50e",aliases:[]},{name:"microscope",code:"1f52c",aliases:[]},{name:"telescope",code:"1f52d",aliases:[]},{name:"satellite_antenna",code:"1f4e1",aliases:[]},{name:"candle",code:"1f56f-fe0f",aliases:[]},{name:"bulb",code:"1f4a1",aliases:[]},{name:"flashlight",code:"1f526",aliases:[]},{name:"izakaya_lantern",code:"1f3ee",aliases:["lantern"]},{name:"notebook_with_decorative_cover",code:"1f4d4",aliases:[]},{name:"closed_book",code:"1f4d5",aliases:[]},{name:"book",code:"1f4d6",aliases:["open_book"]},{name:"green_book",code:"1f4d7",aliases:[]},{name:"blue_book",code:"1f4d8",aliases:[]},{name:"orange_book",code:"1f4d9",aliases:[]},{name:"books",code:"1f4da",aliases:[]},{name:"notebook",code:"1f4d3",aliases:[]},{name:"ledger",code:"1f4d2",aliases:[]},{name:"page_with_curl",code:"1f4c3",aliases:[]},{name:"scroll",code:"1f4dc",aliases:[]},{name:"page_facing_up",code:"1f4c4",aliases:[]},{name:"newspaper",code:"1f4f0",aliases:[]},{name:"rolled_up_newspaper",code:"1f5de-fe0f",aliases:[]},{name:"bookmark_tabs",code:"1f4d1",aliases:[]},{name:"bookmark",code:"1f516",aliases:[]},{name:"label",code:"1f3f7-fe0f",aliases:[]},{name:"moneybag",code:"1f4b0",aliases:[]},{name:"yen",code:"1f4b4",aliases:[]},{name:"dollar",code:"1f4b5",aliases:[]},{name:"euro",code:"1f4b6",aliases:[]},{name:"pound",code:"1f4b7",aliases:[]},{name:"money_with_wings",code:"1f4b8",aliases:[]},{name:"credit_card",code:"1f4b3",aliases:[]},{name:"chart",code:"1f4b9",aliases:[]},{name:"currency_exchange",code:"1f4b1",aliases:[]},{name:"heavy_dollar_sign",code:"1f4b2",aliases:[]},{name:"email",code:"2709-fe0f",aliases:["envelope"]},{name:"e-mail",code:"1f4e7",aliases:[]},{name:"incoming_envelope",code:"1f4e8",aliases:[]},{name:"envelope_with_arrow",code:"1f4e9",aliases:[]},{name:"outbox_tray",code:"1f4e4",aliases:[]},{name:"inbox_tray",code:"1f4e5",aliases:[]},{name:"package",code:"1f4e6",aliases:[]},{name:"mailbox",code:"1f4eb",aliases:[]},{name:"mailbox_closed",code:"1f4ea",aliases:[]},{name:"mailbox_with_mail",code:"1f4ec",aliases:[]},{name:"mailbox_with_no_mail",code:"1f4ed",aliases:[]},{name:"postbox",code:"1f4ee",aliases:[]},{name:"ballot_box_with_ballot",code:"1f5f3-fe0f",aliases:[]},{name:"pencil2",code:"270f-fe0f",aliases:[]},{name:"black_nib",code:"2712-fe0f",aliases:[]},{name:"lower_left_fountain_pen",code:"1f58b-fe0f",aliases:[]},{name:"lower_left_ballpoint_pen",code:"1f58a-fe0f",aliases:[]},{name:"lower_left_paintbrush",code:"1f58c-fe0f",aliases:[]},{name:"lower_left_crayon",code:"1f58d-fe0f",aliases:[]},{name:"memo",code:"1f4dd",aliases:["pencil"]},{name:"briefcase",code:"1f4bc",aliases:[]},{name:"file_folder",code:"1f4c1",aliases:[]},{name:"open_file_folder",code:"1f4c2",aliases:[]},{name:"card_index_dividers",code:"1f5c2-fe0f",aliases:[]},{name:"date",code:"1f4c5",aliases:[]},{name:"calendar",code:"1f4c6",aliases:[]},{name:"spiral_note_pad",code:"1f5d2-fe0f",aliases:[]},{name:"spiral_calendar_pad",code:"1f5d3-fe0f",aliases:[]},{name:"card_index",code:"1f4c7",aliases:[]},{name:"chart_with_upwards_trend",code:"1f4c8",aliases:[]},{name:"chart_with_downwards_trend",code:"1f4c9",aliases:[]},{name:"bar_chart",code:"1f4ca",aliases:[]},{name:"clipboard",code:"1f4cb",aliases:[]},{name:"pushpin",code:"1f4cc",aliases:[]},{name:"round_pushpin",code:"1f4cd",aliases:[]},{name:"paperclip",code:"1f4ce",aliases:[]},{name:"linked_paperclips",code:"1f587-fe0f",aliases:[]},{name:"straight_ruler",code:"1f4cf",aliases:[]},{name:"triangular_ruler",code:"1f4d0",aliases:[]},{name:"scissors",code:"2702-fe0f",aliases:[]},{name:"card_file_box",code:"1f5c3-fe0f",aliases:[]},{name:"file_cabinet",code:"1f5c4-fe0f",aliases:[]},{name:"wastebasket",code:"1f5d1-fe0f",aliases:[]},{name:"lock",code:"1f512",aliases:[]},{name:"unlock",code:"1f513",aliases:[]},{name:"lock_with_ink_pen",code:"1f50f",aliases:[]},{name:"closed_lock_with_key",code:"1f510",aliases:[]},{name:"key",code:"1f511",aliases:[]},{name:"old_key",code:"1f5dd-fe0f",aliases:[]},{name:"hammer",code:"1f528",aliases:[]},{name:"pick",code:"26cf-fe0f",aliases:[]},{name:"hammer_and_pick",code:"2692-fe0f",aliases:[]},{name:"hammer_and_wrench",code:"1f6e0-fe0f",aliases:[]},{name:"dagger_knife",code:"1f5e1-fe0f",aliases:[]},{name:"crossed_swords",code:"2694-fe0f",aliases:[]},{name:"gun",code:"1f52b",aliases:[]},{name:"bow_and_arrow",code:"1f3f9",aliases:[]},{name:"shield",code:"1f6e1-fe0f",aliases:[]},{name:"wrench",code:"1f527",aliases:[]},{name:"nut_and_bolt",code:"1f529",aliases:[]},{name:"gear",code:"2699-fe0f",aliases:[]},{name:"compression",code:"1f5dc-fe0f",aliases:[]},{name:"alembic",code:"2697-fe0f",aliases:[]},{name:"scales",code:"2696-fe0f",aliases:[]},{name:"link",code:"1f517",aliases:[]},{name:"chains",code:"26d3-fe0f",aliases:[]},{name:"syringe",code:"1f489",aliases:[]},{name:"pill",code:"1f48a",aliases:[]},{name:"smoking",code:"1f6ac",aliases:[]},{name:"coffin",code:"26b0-fe0f",aliases:[]},{name:"funeral_urn",code:"26b1-fe0f",aliases:[]},{name:"moyai",code:"1f5ff",aliases:[]},{name:"oil_drum",code:"1f6e2-fe0f",aliases:[]},{name:"crystal_ball",code:"1f52e",aliases:[]},{name:"shopping_trolley",code:"1f6d2",aliases:[]}]},{title:"Symbols",emojis:[{name:"atm",code:"1f3e7",aliases:[]},{name:"put_litter_in_its_place",code:"1f6ae",aliases:[]},{name:"potable_water",code:"1f6b0",aliases:[]},{name:"wheelchair",code:"267f",aliases:[]},{name:"mens",code:"1f6b9",aliases:[]},{name:"womens",code:"1f6ba",aliases:[]},{name:"restroom",code:"1f6bb",aliases:[]},{name:"baby_symbol",code:"1f6bc",aliases:[]},{name:"wc",code:"1f6be",aliases:[]},{name:"passport_control",code:"1f6c2",aliases:[]},{name:"customs",code:"1f6c3",aliases:[]},{name:"baggage_claim",code:"1f6c4",aliases:[]},{name:"left_luggage",code:"1f6c5",aliases:[]},{name:"warning",code:"26a0-fe0f",aliases:[]},{name:"children_crossing",code:"1f6b8",aliases:[]},{name:"no_entry",code:"26d4",aliases:[]},{name:"no_entry_sign",code:"1f6ab",aliases:[]},{name:"no_bicycles",code:"1f6b3",aliases:[]},{name:"no_smoking",code:"1f6ad",aliases:[]},{name:"do_not_litter",code:"1f6af",aliases:[]},{name:"non-potable_water",code:"1f6b1",aliases:[]},{name:"no_pedestrians",code:"1f6b7",aliases:[]},{name:"no_mobile_phones",code:"1f4f5",aliases:[]},{name:"underage",code:"1f51e",aliases:[]},{name:"radioactive_sign",code:"2622-fe0f",aliases:[]},{name:"biohazard_sign",code:"2623-fe0f",aliases:[]},{name:"arrow_up",code:"2b06-fe0f",aliases:[]},{name:"arrow_upper_right",code:"2197-fe0f",aliases:[]},{name:"arrow_right",code:"27a1-fe0f",aliases:[]},{name:"arrow_lower_right",code:"2198-fe0f",aliases:[]},{name:"arrow_down",code:"2b07-fe0f",aliases:[]},{name:"arrow_lower_left",code:"2199-fe0f",aliases:[]},{name:"arrow_left",code:"2b05-fe0f",aliases:[]},{name:"arrow_upper_left",code:"2196-fe0f",aliases:[]},{name:"arrow_up_down",code:"2195-fe0f",aliases:[]},{name:"left_right_arrow",code:"2194-fe0f",aliases:[]},{name:"leftwards_arrow_with_hook",code:"21a9-fe0f",aliases:[]},{name:"arrow_right_hook",code:"21aa-fe0f",aliases:[]},{name:"arrow_heading_up",code:"2934-fe0f",aliases:[]},{name:"arrow_heading_down",code:"2935-fe0f",aliases:[]},{name:"arrows_clockwise",code:"1f503",aliases:[]},{name:"arrows_counterclockwise",code:"1f504",aliases:[]},{name:"back",code:"1f519",aliases:[]},{name:"end",code:"1f51a",aliases:[]},{name:"on",code:"1f51b",aliases:[]},{name:"soon",code:"1f51c",aliases:[]},{name:"top",code:"1f51d",aliases:[]},{name:"place_of_worship",code:"1f6d0",aliases:[]},{name:"atom_symbol",code:"269b-fe0f",aliases:[]},{name:"om_symbol",code:"1f549-fe0f",aliases:[]},{name:"star_of_david",code:"2721-fe0f",aliases:[]},{name:"wheel_of_dharma",code:"2638-fe0f",aliases:[]},{name:"yin_yang",code:"262f-fe0f",aliases:[]},{name:"latin_cross",code:"271d-fe0f",aliases:[]},{name:"orthodox_cross",code:"2626-fe0f",aliases:[]},{name:"star_and_crescent",code:"262a-fe0f",aliases:[]},{name:"peace_symbol",code:"262e-fe0f",aliases:[]},{name:"menorah_with_nine_branches",code:"1f54e",aliases:[]},{name:"six_pointed_star",code:"1f52f",aliases:[]},{name:"aries",code:"2648",aliases:[]},{name:"taurus",code:"2649",aliases:[]},{name:"gemini",code:"264a",aliases:[]},{name:"cancer",code:"264b",aliases:[]},{name:"leo",code:"264c",aliases:[]},{name:"virgo",code:"264d",aliases:[]},{name:"libra",code:"264e",aliases:[]},{name:"scorpius",code:"264f",aliases:[]},{name:"sagittarius",code:"2650",aliases:[]},{name:"capricorn",code:"2651",aliases:[]},{name:"aquarius",code:"2652",aliases:[]},{name:"pisces",code:"2653",aliases:[]},{name:"ophiuchus",code:"26ce",aliases:[]},{name:"twisted_rightwards_arrows",code:"1f500",aliases:[]},{name:"repeat",code:"1f501",aliases:[]},{name:"repeat_one",code:"1f502",aliases:[]},{name:"arrow_forward",code:"25b6-fe0f",aliases:[]},{name:"fast_forward",code:"23e9",aliases:[]},{name:"black_right_pointing_double_triangle_with_vertical_bar",code:"23ed-fe0f",aliases:[]},{name:"black_right_pointing_triangle_with_double_vertical_bar",code:"23ef-fe0f",aliases:[]},{name:"arrow_backward",code:"25c0-fe0f",aliases:[]},{name:"rewind",code:"23ea",aliases:[]},{name:"black_left_pointing_double_triangle_with_vertical_bar",code:"23ee-fe0f",aliases:[]},{name:"arrow_up_small",code:"1f53c",aliases:[]},{name:"arrow_double_up",code:"23eb",aliases:[]},{name:"arrow_down_small",code:"1f53d",aliases:[]},{name:"arrow_double_down",code:"23ec",aliases:[]},{name:"double_vertical_bar",code:"23f8-fe0f",aliases:[]},{name:"black_square_for_stop",code:"23f9-fe0f",aliases:[]},{name:"black_circle_for_record",code:"23fa-fe0f",aliases:[]},{name:"eject",code:"23cf-fe0f",aliases:[]},{name:"cinema",code:"1f3a6",aliases:[]},{name:"low_brightness",code:"1f505",aliases:[]},{name:"high_brightness",code:"1f506",aliases:[]},{name:"signal_strength",code:"1f4f6",aliases:[]},{name:"vibration_mode",code:"1f4f3",aliases:[]},{name:"mobile_phone_off",code:"1f4f4",aliases:[]},{name:"female_sign",code:"2640-fe0f",aliases:[]},{name:"male_sign",code:"2642-fe0f",aliases:[]},{name:"medical_symbol",code:"2695-fe0f",aliases:["staff_of_aesculapius"]},{name:"recycle",code:"267b-fe0f",aliases:[]},{name:"fleur_de_lis",code:"269c-fe0f",aliases:[]},{name:"trident",code:"1f531",aliases:[]},{name:"name_badge",code:"1f4db",aliases:[]},{name:"beginner",code:"1f530",aliases:[]},{name:"o",code:"2b55",aliases:[]},{name:"white_check_mark",code:"2705",aliases:[]},{name:"ballot_box_with_check",code:"2611-fe0f",aliases:[]},{name:"heavy_check_mark",code:"2714-fe0f",aliases:[]},{name:"heavy_multiplication_x",code:"2716-fe0f",aliases:[]},{name:"x",code:"274c",aliases:[]},{name:"negative_squared_cross_mark",code:"274e",aliases:[]},{name:"heavy_plus_sign",code:"2795",aliases:[]},{name:"heavy_minus_sign",code:"2796",aliases:[]},{name:"heavy_division_sign",code:"2797",aliases:[]},{name:"curly_loop",code:"27b0",aliases:[]},{name:"loop",code:"27bf",aliases:[]},{name:"part_alternation_mark",code:"303d-fe0f",aliases:[]},{name:"eight_spoked_asterisk",code:"2733-fe0f",aliases:[]},{name:"eight_pointed_black_star",code:"2734-fe0f",aliases:[]},{name:"sparkle",code:"2747-fe0f",aliases:[]},{name:"bangbang",code:"203c-fe0f",aliases:[]},{name:"interrobang",code:"2049-fe0f",aliases:[]},{name:"question",code:"2753",aliases:[]},{name:"grey_question",code:"2754",aliases:[]},{name:"grey_exclamation",code:"2755",aliases:[]},{name:"exclamation",code:"2757",aliases:["heavy_exclamation_mark"]},{name:"wavy_dash",code:"3030-fe0f",aliases:[]},{name:"copyright",code:"00a9-fe0f",aliases:[]},{name:"registered",code:"00ae-fe0f",aliases:[]},{name:"tm",code:"2122-fe0f",aliases:[]},{name:"hash",code:"0023-fe0f-20e3",aliases:[]},{name:"keycap_star",code:"002a-fe0f-20e3",aliases:[]},{name:"zero",code:"0030-fe0f-20e3",aliases:[]},{name:"one",code:"0031-fe0f-20e3",aliases:[]},{name:"two",code:"0032-fe0f-20e3",aliases:[]},{name:"three",code:"0033-fe0f-20e3",aliases:[]},{name:"four",code:"0034-fe0f-20e3",aliases:[]},{name:"five",code:"0035-fe0f-20e3",aliases:[]},{name:"six",code:"0036-fe0f-20e3",aliases:[]},{name:"seven",code:"0037-fe0f-20e3",aliases:[]},{name:"eight",code:"0038-fe0f-20e3",aliases:[]},{name:"nine",code:"0039-fe0f-20e3",aliases:[]},{name:"keycap_ten",code:"1f51f",aliases:[]},{name:"100",code:"1f4af",aliases:[]},{name:"capital_abcd",code:"1f520",aliases:[]},{name:"abcd",code:"1f521",aliases:[]},{name:"1234",code:"1f522",aliases:[]},{name:"symbols",code:"1f523",aliases:[]},{name:"abc",code:"1f524",aliases:[]},{name:"a",code:"1f170-fe0f",aliases:[]},{name:"ab",code:"1f18e",aliases:[]},{name:"b",code:"1f171-fe0f",aliases:[]},{name:"cl",code:"1f191",aliases:[]},{name:"cool",code:"1f192",aliases:[]},{name:"free",code:"1f193",aliases:[]},{name:"information_source",code:"2139-fe0f",aliases:[]},{name:"id",code:"1f194",aliases:[]},{name:"m",code:"24c2-fe0f",aliases:[]},{name:"new",code:"1f195",aliases:[]},{name:"ng",code:"1f196",aliases:[]},{name:"o2",code:"1f17e-fe0f",aliases:[]},{name:"ok",code:"1f197",aliases:[]},{name:"parking",code:"1f17f-fe0f",aliases:[]},{name:"sos",code:"1f198",aliases:[]},{name:"up",code:"1f199",aliases:[]},{name:"vs",code:"1f19a",aliases:[]},{name:"koko",code:"1f201",aliases:[]},{name:"sa",code:"1f202-fe0f",aliases:[]},{name:"u6708",code:"1f237-fe0f",aliases:[]},{name:"u6709",code:"1f236",aliases:[]},{name:"u6307",code:"1f22f",aliases:[]},{name:"ideograph_advantage",code:"1f250",aliases:[]},{name:"u5272",code:"1f239",aliases:[]},{name:"u7121",code:"1f21a",aliases:[]},{name:"u7981",code:"1f232",aliases:[]},{name:"accept",code:"1f251",aliases:[]},{name:"u7533",code:"1f238",aliases:[]},{name:"u5408",code:"1f234",aliases:[]},{name:"u7a7a",code:"1f233",aliases:[]},{name:"congratulations",code:"3297-fe0f",aliases:[]},{name:"secret",code:"3299-fe0f",aliases:[]},{name:"u55b6",code:"1f23a",aliases:[]},{name:"u6e80",code:"1f235",aliases:[]},{name:"black_small_square",code:"25aa-fe0f",aliases:[]},{name:"white_small_square",code:"25ab-fe0f",aliases:[]},{name:"white_medium_square",code:"25fb-fe0f",aliases:[]},{name:"black_medium_square",code:"25fc-fe0f",aliases:[]},{name:"white_medium_small_square",code:"25fd",aliases:[]},{name:"black_medium_small_square",code:"25fe",aliases:[]},{name:"black_large_square",code:"2b1b",aliases:[]},{name:"white_large_square",code:"2b1c",aliases:[]},{name:"large_orange_diamond",code:"1f536",aliases:[]},{name:"large_blue_diamond",code:"1f537",aliases:[]},{name:"small_orange_diamond",code:"1f538",aliases:[]},{name:"small_blue_diamond",code:"1f539",aliases:[]},{name:"small_red_triangle",code:"1f53a",aliases:[]},{name:"small_red_triangle_down",code:"1f53b",aliases:[]},{name:"diamond_shape_with_a_dot_inside",code:"1f4a0",aliases:[]},{name:"radio_button",code:"1f518",aliases:[]},{name:"black_square_button",code:"1f532",aliases:[]},{name:"white_square_button",code:"1f533",aliases:[]},{name:"white_circle",code:"26aa",aliases:[]},{name:"black_circle",code:"26ab",aliases:[]},{name:"red_circle",code:"1f534",aliases:[]},{name:"large_blue_circle",code:"1f535",aliases:[]}]},{title:"Flags",emojis:[{name:"checkered_flag",code:"1f3c1",aliases:[]},{name:"triangular_flag_on_post",code:"1f6a9",aliases:[]},{name:"crossed_flags",code:"1f38c",aliases:[]},{name:"waving_black_flag",code:"1f3f4",aliases:[]},{name:"waving_white_flag",code:"1f3f3-fe0f",aliases:[]},{name:"rainbow-flag",code:"1f3f3-fe0f-200d-1f308",aliases:[]},{name:"flag-ac",code:"1f1e6-1f1e8",aliases:[]},{name:"flag-ad",code:"1f1e6-1f1e9",aliases:[]},{name:"flag-ae",code:"1f1e6-1f1ea",aliases:[]},{name:"flag-af",code:"1f1e6-1f1eb",aliases:[]},{name:"flag-ag",code:"1f1e6-1f1ec",aliases:[]},{name:"flag-ai",code:"1f1e6-1f1ee",aliases:[]},{name:"flag-al",code:"1f1e6-1f1f1",aliases:[]},{name:"flag-am",code:"1f1e6-1f1f2",aliases:[]},{name:"flag-ao",code:"1f1e6-1f1f4",aliases:[]},{name:"flag-aq",code:"1f1e6-1f1f6",aliases:[]},{name:"flag-ar",code:"1f1e6-1f1f7",aliases:[]},{name:"flag-as",code:"1f1e6-1f1f8",aliases:[]},{name:"flag-at",code:"1f1e6-1f1f9",aliases:[]},{name:"flag-au",code:"1f1e6-1f1fa",aliases:[]},{name:"flag-aw",code:"1f1e6-1f1fc",aliases:[]},{name:"flag-ax",code:"1f1e6-1f1fd",aliases:[]},{name:"flag-az",code:"1f1e6-1f1ff",aliases:[]},{name:"flag-ba",code:"1f1e7-1f1e6",aliases:[]},{name:"flag-bb",code:"1f1e7-1f1e7",aliases:[]},{name:"flag-bd",code:"1f1e7-1f1e9",aliases:[]},{name:"flag-be",code:"1f1e7-1f1ea",aliases:[]},{name:"flag-bf",code:"1f1e7-1f1eb",aliases:[]},{name:"flag-bg",code:"1f1e7-1f1ec",aliases:[]},{name:"flag-bh",code:"1f1e7-1f1ed",aliases:[]},{name:"flag-bi",code:"1f1e7-1f1ee",aliases:[]},{name:"flag-bj",code:"1f1e7-1f1ef",aliases:[]},{name:"flag-bl",code:"1f1e7-1f1f1",aliases:[]},{name:"flag-bm",code:"1f1e7-1f1f2",aliases:[]},{name:"flag-bn",code:"1f1e7-1f1f3",aliases:[]},{name:"flag-bo",code:"1f1e7-1f1f4",aliases:[]},{name:"flag-bq",code:"1f1e7-1f1f6",aliases:[]},{name:"flag-br",code:"1f1e7-1f1f7",aliases:[]},{name:"flag-bs",code:"1f1e7-1f1f8",aliases:[]},{name:"flag-bt",code:"1f1e7-1f1f9",aliases:[]},{name:"flag-bv",code:"1f1e7-1f1fb",aliases:[]},{name:"flag-bw",code:"1f1e7-1f1fc",aliases:[]},{name:"flag-by",code:"1f1e7-1f1fe",aliases:[]},{name:"flag-bz",code:"1f1e7-1f1ff",aliases:[]},{name:"flag-ca",code:"1f1e8-1f1e6",aliases:[]},{name:"flag-cc",code:"1f1e8-1f1e8",aliases:[]},{name:"flag-cd",code:"1f1e8-1f1e9",aliases:[]},{name:"flag-cf",code:"1f1e8-1f1eb",aliases:[]},{name:"flag-cg",code:"1f1e8-1f1ec",aliases:[]},{name:"flag-ch",code:"1f1e8-1f1ed",aliases:[]},{name:"flag-ci",code:"1f1e8-1f1ee",aliases:[]},{name:"flag-ck",code:"1f1e8-1f1f0",aliases:[]},{name:"flag-cl",code:"1f1e8-1f1f1",aliases:[]},{name:"flag-cm",code:"1f1e8-1f1f2",aliases:[]},{name:"cn",code:"1f1e8-1f1f3",aliases:["flag-cn"]},{name:"flag-co",code:"1f1e8-1f1f4",aliases:[]},{name:"flag-cp",code:"1f1e8-1f1f5",aliases:[]},{name:"flag-cr",code:"1f1e8-1f1f7",aliases:[]},{name:"flag-cu",code:"1f1e8-1f1fa",aliases:[]},{name:"flag-cv",code:"1f1e8-1f1fb",aliases:[]},{name:"flag-cw",code:"1f1e8-1f1fc",aliases:[]},{name:"flag-cx",code:"1f1e8-1f1fd",aliases:[]},{name:"flag-cy",code:"1f1e8-1f1fe",aliases:[]},{name:"flag-cz",code:"1f1e8-1f1ff",aliases:[]},{name:"de",code:"1f1e9-1f1ea",aliases:["flag-de"]},{name:"flag-dg",code:"1f1e9-1f1ec",aliases:[]},{name:"flag-dj",code:"1f1e9-1f1ef",aliases:[]},{name:"flag-dk",code:"1f1e9-1f1f0",aliases:[]},{name:"flag-dm",code:"1f1e9-1f1f2",aliases:[]},{name:"flag-do",code:"1f1e9-1f1f4",aliases:[]},{name:"flag-dz",code:"1f1e9-1f1ff",aliases:[]},{name:"flag-ea",code:"1f1ea-1f1e6",aliases:[]},{name:"flag-ec",code:"1f1ea-1f1e8",aliases:[]},{name:"flag-ee",code:"1f1ea-1f1ea",aliases:[]},{name:"flag-eg",code:"1f1ea-1f1ec",aliases:[]},{name:"flag-eh",code:"1f1ea-1f1ed",aliases:[]},{name:"flag-er",code:"1f1ea-1f1f7",aliases:[]},{name:"es",code:"1f1ea-1f1f8",aliases:["flag-es"]},{name:"flag-et",code:"1f1ea-1f1f9",aliases:[]},{name:"flag-eu",code:"1f1ea-1f1fa",aliases:[]},{name:"flag-fi",code:"1f1eb-1f1ee",aliases:[]},{name:"flag-fj",code:"1f1eb-1f1ef",aliases:[]},{name:"flag-fk",code:"1f1eb-1f1f0",aliases:[]},{name:"flag-fm",code:"1f1eb-1f1f2",aliases:[]},{name:"flag-fo",code:"1f1eb-1f1f4",aliases:[]},{name:"fr",code:"1f1eb-1f1f7",aliases:["flag-fr"]},{name:"flag-ga",code:"1f1ec-1f1e6",aliases:[]},{name:"gb",code:"1f1ec-1f1e7",aliases:["uk","flag-gb"]},{name:"flag-gd",code:"1f1ec-1f1e9",aliases:[]},{name:"flag-ge",code:"1f1ec-1f1ea",aliases:[]},{name:"flag-gf",code:"1f1ec-1f1eb",aliases:[]},{name:"flag-gg",code:"1f1ec-1f1ec",aliases:[]},{name:"flag-gh",code:"1f1ec-1f1ed",aliases:[]},{name:"flag-gi",code:"1f1ec-1f1ee",aliases:[]},{name:"flag-gl",code:"1f1ec-1f1f1",aliases:[]},{name:"flag-gm",code:"1f1ec-1f1f2",aliases:[]},{name:"flag-gn",code:"1f1ec-1f1f3",aliases:[]},{name:"flag-gp",code:"1f1ec-1f1f5",aliases:[]},{name:"flag-gq",code:"1f1ec-1f1f6",aliases:[]},{name:"flag-gr",code:"1f1ec-1f1f7",aliases:[]},{name:"flag-gs",code:"1f1ec-1f1f8",aliases:[]},{name:"flag-gt",code:"1f1ec-1f1f9",aliases:[]},{name:"flag-gu",code:"1f1ec-1f1fa",aliases:[]},{name:"flag-gw",code:"1f1ec-1f1fc",aliases:[]},{name:"flag-gy",code:"1f1ec-1f1fe",aliases:[]},{name:"flag-hk",code:"1f1ed-1f1f0",aliases:[]},{name:"flag-hm",code:"1f1ed-1f1f2",aliases:[]},{name:"flag-hn",code:"1f1ed-1f1f3",aliases:[]},{name:"flag-hr",code:"1f1ed-1f1f7",aliases:[]},{name:"flag-ht",code:"1f1ed-1f1f9",aliases:[]},{name:"flag-hu",code:"1f1ed-1f1fa",aliases:[]},{name:"flag-ic",code:"1f1ee-1f1e8",aliases:[]},{name:"flag-id",code:"1f1ee-1f1e9",aliases:[]},{name:"flag-ie",code:"1f1ee-1f1ea",aliases:[]},{name:"flag-il",code:"1f1ee-1f1f1",aliases:[]},{name:"flag-im",code:"1f1ee-1f1f2",aliases:[]},{name:"flag-in",code:"1f1ee-1f1f3",aliases:[]},{name:"flag-io",code:"1f1ee-1f1f4",aliases:[]},{name:"flag-iq",code:"1f1ee-1f1f6",aliases:[]},{name:"flag-ir",code:"1f1ee-1f1f7",aliases:[]},{name:"flag-is",code:"1f1ee-1f1f8",aliases:[]},{name:"it",code:"1f1ee-1f1f9",aliases:["flag-it"]},{name:"flag-je",code:"1f1ef-1f1ea",aliases:[]},{name:"flag-jm",code:"1f1ef-1f1f2",aliases:[]},{name:"flag-jo",code:"1f1ef-1f1f4",aliases:[]},{name:"jp",code:"1f1ef-1f1f5",aliases:["flag-jp"]},{name:"flag-ke",code:"1f1f0-1f1ea",aliases:[]},{name:"flag-kg",code:"1f1f0-1f1ec",aliases:[]},{name:"flag-kh",code:"1f1f0-1f1ed",aliases:[]},{name:"flag-ki",code:"1f1f0-1f1ee",aliases:[]},{name:"flag-km",code:"1f1f0-1f1f2",aliases:[]},{name:"flag-kn",code:"1f1f0-1f1f3",aliases:[]},{name:"flag-kp",code:"1f1f0-1f1f5",aliases:[]},{name:"kr",code:"1f1f0-1f1f7",aliases:["flag-kr"]},{name:"flag-kw",code:"1f1f0-1f1fc",aliases:[]},{name:"flag-ky",code:"1f1f0-1f1fe",aliases:[]},{name:"flag-kz",code:"1f1f0-1f1ff",aliases:[]},{name:"flag-la",code:"1f1f1-1f1e6",aliases:[]},{name:"flag-lb",code:"1f1f1-1f1e7",aliases:[]},{name:"flag-lc",code:"1f1f1-1f1e8",aliases:[]},{name:"flag-li",code:"1f1f1-1f1ee",aliases:[]},{name:"flag-lk",code:"1f1f1-1f1f0",aliases:[]},{name:"flag-lr",code:"1f1f1-1f1f7",aliases:[]},{name:"flag-ls",code:"1f1f1-1f1f8",aliases:[]},{name:"flag-lt",code:"1f1f1-1f1f9",aliases:[]},{name:"flag-lu",code:"1f1f1-1f1fa",aliases:[]},{name:"flag-lv",code:"1f1f1-1f1fb",aliases:[]},{name:"flag-ly",code:"1f1f1-1f1fe",aliases:[]},{name:"flag-ma",code:"1f1f2-1f1e6",aliases:[]},{name:"flag-mc",code:"1f1f2-1f1e8",aliases:[]},{name:"flag-md",code:"1f1f2-1f1e9",aliases:[]},{name:"flag-me",code:"1f1f2-1f1ea",aliases:[]},{name:"flag-mf",code:"1f1f2-1f1eb",aliases:[]},{name:"flag-mg",code:"1f1f2-1f1ec",aliases:[]},{name:"flag-mh",code:"1f1f2-1f1ed",aliases:[]},{name:"flag-mk",code:"1f1f2-1f1f0",aliases:[]},{name:"flag-ml",code:"1f1f2-1f1f1",aliases:[]},{name:"flag-mm",code:"1f1f2-1f1f2",aliases:[]},{name:"flag-mn",code:"1f1f2-1f1f3",aliases:[]},{name:"flag-mo",code:"1f1f2-1f1f4",aliases:[]},{name:"flag-mp",code:"1f1f2-1f1f5",aliases:[]},{name:"flag-mq",code:"1f1f2-1f1f6",aliases:[]},{name:"flag-mr",code:"1f1f2-1f1f7",aliases:[]},{name:"flag-ms",code:"1f1f2-1f1f8",aliases:[]},{name:"flag-mt",code:"1f1f2-1f1f9",aliases:[]},{name:"flag-mu",code:"1f1f2-1f1fa",aliases:[]},{name:"flag-mv",code:"1f1f2-1f1fb",aliases:[]},{name:"flag-mw",code:"1f1f2-1f1fc",aliases:[]},{name:"flag-mx",code:"1f1f2-1f1fd",aliases:[]},{name:"flag-my",code:"1f1f2-1f1fe",aliases:[]},{name:"flag-mz",code:"1f1f2-1f1ff",aliases:[]},{name:"flag-na",code:"1f1f3-1f1e6",aliases:[]},{name:"flag-nc",code:"1f1f3-1f1e8",aliases:[]},{name:"flag-ne",code:"1f1f3-1f1ea",aliases:[]},{name:"flag-nf",code:"1f1f3-1f1eb",aliases:[]},{name:"flag-ng",code:"1f1f3-1f1ec",aliases:[]},{name:"flag-ni",code:"1f1f3-1f1ee",aliases:[]},{name:"flag-nl",code:"1f1f3-1f1f1",aliases:[]},{name:"flag-no",code:"1f1f3-1f1f4",aliases:[]},{name:"flag-np",code:"1f1f3-1f1f5",aliases:[]},{name:"flag-nr",code:"1f1f3-1f1f7",aliases:[]},{name:"flag-nu",code:"1f1f3-1f1fa",aliases:[]},{name:"flag-nz",code:"1f1f3-1f1ff",aliases:[]},{name:"flag-om",code:"1f1f4-1f1f2",aliases:[]},{name:"flag-pa",code:"1f1f5-1f1e6",aliases:[]},{name:"flag-pe",code:"1f1f5-1f1ea",aliases:[]},{name:"flag-pf",code:"1f1f5-1f1eb",aliases:[]},{name:"flag-pg",code:"1f1f5-1f1ec",aliases:[]},{name:"flag-ph",code:"1f1f5-1f1ed",aliases:[]},{name:"flag-pk",code:"1f1f5-1f1f0",aliases:[]},{name:"flag-pl",code:"1f1f5-1f1f1",aliases:[]},{name:"flag-pm",code:"1f1f5-1f1f2",aliases:[]},{name:"flag-pn",code:"1f1f5-1f1f3",aliases:[]},{name:"flag-pr",code:"1f1f5-1f1f7",aliases:[]},{name:"flag-ps",code:"1f1f5-1f1f8",aliases:[]},{name:"flag-pt",code:"1f1f5-1f1f9",aliases:[]},{name:"flag-pw",code:"1f1f5-1f1fc",aliases:[]},{name:"flag-py",code:"1f1f5-1f1fe",aliases:[]},{name:"flag-qa",code:"1f1f6-1f1e6",aliases:[]},{name:"flag-re",code:"1f1f7-1f1ea",aliases:[]},{name:"flag-ro",code:"1f1f7-1f1f4",aliases:[]},{name:"flag-rs",code:"1f1f7-1f1f8",aliases:[]},{name:"ru",code:"1f1f7-1f1fa",aliases:["flag-ru"]},{name:"flag-rw",code:"1f1f7-1f1fc",aliases:[]},{name:"flag-sa",code:"1f1f8-1f1e6",aliases:[]},{name:"flag-sb",code:"1f1f8-1f1e7",aliases:[]},{name:"flag-sc",code:"1f1f8-1f1e8",aliases:[]},{name:"flag-sd",code:"1f1f8-1f1e9",aliases:[]},{name:"flag-se",code:"1f1f8-1f1ea",aliases:[]},{name:"flag-sg",code:"1f1f8-1f1ec",aliases:[]},{name:"flag-sh",code:"1f1f8-1f1ed",aliases:[]},{name:"flag-si",code:"1f1f8-1f1ee",aliases:[]},{name:"flag-sj",code:"1f1f8-1f1ef",aliases:[]},{name:"flag-sk",code:"1f1f8-1f1f0",aliases:[]},{name:"flag-sl",code:"1f1f8-1f1f1",aliases:[]},{name:"flag-sm",code:"1f1f8-1f1f2",aliases:[]},{name:"flag-sn",code:"1f1f8-1f1f3",aliases:[]},{name:"flag-so",code:"1f1f8-1f1f4",aliases:[]},{name:"flag-sr",code:"1f1f8-1f1f7",aliases:[]},{name:"flag-ss",code:"1f1f8-1f1f8",aliases:[]},{name:"flag-st",code:"1f1f8-1f1f9",aliases:[]},{name:"flag-sv",code:"1f1f8-1f1fb",aliases:[]},{name:"flag-sx",code:"1f1f8-1f1fd",aliases:[]},{name:"flag-sy",code:"1f1f8-1f1fe",aliases:[]},{name:"flag-sz",code:"1f1f8-1f1ff",aliases:[]},{name:"flag-ta",code:"1f1f9-1f1e6",aliases:[]},{name:"flag-tc",code:"1f1f9-1f1e8",aliases:[]},{name:"flag-td",code:"1f1f9-1f1e9",aliases:[]},{name:"flag-tf",code:"1f1f9-1f1eb",aliases:[]},{name:"flag-tg",code:"1f1f9-1f1ec",aliases:[]},{name:"flag-th",code:"1f1f9-1f1ed",aliases:[]},{name:"flag-tj",code:"1f1f9-1f1ef",aliases:[]},{name:"flag-tk",code:"1f1f9-1f1f0",aliases:[]},{name:"flag-tl",code:"1f1f9-1f1f1",aliases:[]},{name:"flag-tm",code:"1f1f9-1f1f2",aliases:[]},{name:"flag-tn",code:"1f1f9-1f1f3",aliases:[]},{name:"flag-to",code:"1f1f9-1f1f4",aliases:[]},{name:"flag-tr",code:"1f1f9-1f1f7",aliases:[]},{name:"flag-tt",code:"1f1f9-1f1f9",aliases:[]},{name:"flag-tv",code:"1f1f9-1f1fb",aliases:[]},{name:"flag-tw",code:"1f1f9-1f1fc",aliases:[]},{name:"flag-tz",code:"1f1f9-1f1ff",aliases:[]},{name:"flag-ua",code:"1f1fa-1f1e6",aliases:[]},{name:"flag-ug",code:"1f1fa-1f1ec",aliases:[]},{name:"flag-um",code:"1f1fa-1f1f2",aliases:[]},{name:"flag-un",code:"1f1fa-1f1f3",aliases:[]},{name:"us",code:"1f1fa-1f1f8",aliases:["flag-us"]},{name:"flag-uy",code:"1f1fa-1f1fe",aliases:[]},{name:"flag-uz",code:"1f1fa-1f1ff",aliases:[]},{name:"flag-va",code:"1f1fb-1f1e6",aliases:[]},{name:"flag-vc",code:"1f1fb-1f1e8",aliases:[]},{name:"flag-ve",code:"1f1fb-1f1ea",aliases:[]},{name:"flag-vg",code:"1f1fb-1f1ec",aliases:[]},{name:"flag-vi",code:"1f1fb-1f1ee",aliases:[]},{name:"flag-vn",code:"1f1fb-1f1f3",aliases:[]},{name:"flag-vu",code:"1f1fb-1f1fa",aliases:[]},{name:"flag-wf",code:"1f1fc-1f1eb",aliases:[]},{name:"flag-ws",code:"1f1fc-1f1f8",aliases:[]},{name:"flag-xk",code:"1f1fd-1f1f0",aliases:[]},{name:"flag-ye",code:"1f1fe-1f1ea",aliases:[]},{name:"flag-yt",code:"1f1fe-1f1f9",aliases:[]},{name:"flag-za",code:"1f1ff-1f1e6",aliases:[]},{name:"flag-zm",code:"1f1ff-1f1f2",aliases:[]},{name:"flag-zw",code:"1f1ff-1f1fc",aliases:[]}]}]},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toggleEmojis=function(e){return{type:"TOGGLE_EMOJIS"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(2)),l=h(a(3)),r=h(a(4)),o=h(a(5)),s=h(a(418)),i=h(a(452)),u=h(a(453)),d=h(a(455)),c=h(a(1)),f=h(a(25)),m=h(a(8)),p=h(a(0));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={show:!1},l._handleDeleteComment=l._handleDeleteComment.bind(l),l._handleHideActions=l._handleHideActions.bind(l),l._handleQuoteComment=l._handleQuoteComment.bind(l),l._handleShowActions=l._handleShowActions.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.created_at,a=e.quoted_comment,n=e.user,l=this.state.show;return p.default.createElement("div",this._getMessage(),p.default.createElement("div",{className:"maha-message-avatar"},p.default.createElement(f.default,{user:n})),p.default.createElement("div",{className:"maha-message-content"},p.default.createElement("div",{className:"maha-message-author"},p.default.createElement("div",{className:"maha-message-name"},n.full_name),p.default.createElement("div",{className:"maha-message-timestamp"},(0,m.default)(t).format("MMM D @ hh:mm A"))),a&&p.default.createElement(s.default,{comment:a}),p.default.createElement("div",{className:"maha-message-text"},p.default.createElement(d.default,this._getRichtext())),p.default.createElement(i.default,this._getReactions())),l&&p.default.createElement("div",{className:"maha-message-actions"},p.default.createElement("div",{className:"maha-message-action"},p.default.createElement("div",{className:"maha-message-reply",title:"Reply to this comment",onClick:this._handleQuoteComment},p.default.createElement("i",{className:"fa fa-fw fa-arrow-circle-left"}))),p.default.createElement("div",{className:"maha-message-action"},p.default.createElement(u.default,this._getReaction())),p.default.createElement("div",{className:"maha-message-action"},p.default.createElement("div",{className:"maha-message-delete",title:"Delete this comment",onClick:this._handleDeleteComment},p.default.createElement("i",{className:"fa fa-fw fa-trash"})))))}},{key:"_getMessage",value:function(){return{className:"maha-message inline",onMouseEnter:this._handleShowActions,onMouseLeave:this._handleHideActions}}},{key:"_getRichtext",value:function(){var e=this.props,t=e.attachments;return{text:e.text,attachments:t}}},{key:"_getReaction",value:function(){var e=this.props;return{id:e.id,reactions:e.reactions,table:"maha_comments"}}},{key:"_getReactions",value:function(){var e=this.props;return{id:e.id,reactions:e.reactions,table:"maha_comments"}}},{key:"_handleHideActions",value:function(){this.setState({show:!1})}},{key:"_handleQuoteComment",value:function(){this.props.onQuoteComment()}},{key:"_handleShowActions",value:function(){this.setState({show:!0})}}]),t}(p.default.Component);_.contextTypes={admin:c.default.object,confirm:c.default.object,network:c.default.object},_.propTypes={attachments:c.default.array,created_at:c.default.string,id:c.default.number,quoted_comment:c.default.object,reactions:c.default.array,text:c.default.string,uid:c.default.string,updated_at:c.default.string,user:c.default.object,onQuoteComment:c.default.func},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.user_reactions=t.reactions=t.total=void 0;var n=i(a(14)),l=i(a(10)),r=i(a(7)),o=a(12),s=i(a(9));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,o.createSelector)(function(e,t){return e.maha.reactions.reactions},function(e,t){return t.table},function(e,t){return t.id},function(e,t){return t.reactions},function(e,t,a,n){return s.default.get(e,t+"."+a)||n});t.total=(0,o.createSelector)(u,function(e){return e.length}),t.reactions=(0,o.createSelector)(u,function(e){return e.reduce(function(e,t){return(0,r.default)({},e,(0,n.default)({},t.type,[].concat((0,l.default)(e[t.type]||[]),[{id:t.id,full_name:t.full_name,initials:t.initials,photo:t.photo}])))},{})}),t.user_reactions=(0,o.createSelector)(u,function(e,t){return e.maha.admin.user.id},function(e,t){return e.filter(function(e){return e.id===t}).map(function(e){return e.type})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.onReact=function(e,t,a){return{type:"maha.reactions/REACT",table:e,id:t,reaction:a}},t.onUnreact=function(e,t,a){return{type:"maha.reactions/UNREACT",table:e,id:t,reaction:a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(185)),i=f(a(1)),u=f(a(0)),d=f(a(1055)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={show:!1},l._handleHideReactions=l._handleHideReactions.bind(l),l._handleShowReactions=l._handleShowReactions.bind(l),l._handleReaction=l._handleReaction.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.context.admin.user,t=this.props,a=t.reactions,n=t.type,l=this.state.show;return 0===a.length?null:u.default.createElement("div",this._getReaction(),l&&u.default.createElement("div",{className:"maha-reactions-reaction-users"},a.map(function(t,a){return u.default.createElement("div",{className:"maha-reactions-reaction-user",key:"user_"+t.id},e.id===t.id?"You":t.full_name)})),u.default.createElement(s.default,{unicode:d.default[n]}),a.length)}},{key:"_getReaction",value:function(){return{className:"maha-reactions-reaction",onMouseEnter:this._handleShowReactions,onMouseLeave:this._handleHideReactions,onClick:this._handleReaction}}},{key:"_handleHideReactions",value:function(){this.setState({show:!1})}},{key:"_handleShowReactions",value:function(){this.setState({show:!0})}},{key:"_handleReaction",value:function(){var e=this.context.admin.user,t=this.props,a=t.id,n=t.table,l=t.type,r=t.user_reactions,o=t.onReact,s=t.onUnreact;(c.default.includes(r,l)?s:o)(n,a,{id:e.id,full_name:e.full_name,initials:e.initials,photo:e.photo,type:l}),this.context.network.request({method:"patch",endpoint:"/api/admin/"+n+"/"+a+"/react/"+l,onFailure:function(e){},onSuccess:function(e){}})}}]),t}(u.default.Component);m.contextTypes={admin:i.default.object,network:i.default.object},m.propTypes={id:i.default.number,reactions:i.default.array,type:i.default.string,table:i.default.string,user_reactions:i.default.array,onReact:i.default.func,onUnreact:i.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f604",cry:"1f625",rage:"1f621",heart:"2764-fe0f"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.user_reactions=t.reactions=t.total=void 0;var n=i(a(14)),l=i(a(10)),r=i(a(7)),o=a(12),s=i(a(9));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,o.createSelector)(function(e,t){return e.maha.reactions.reactions},function(e,t){return t.table},function(e,t){return t.id},function(e,t){return t.reactions},function(e,t,a,n){return s.default.get(e,t+"."+a)||n});t.total=(0,o.createSelector)(u,function(e){return e.length}),t.reactions=(0,o.createSelector)(u,function(e){return e.reduce(function(e,t){return(0,r.default)({},e,(0,n.default)({},t.type,[].concat((0,l.default)(e[t.type]||[]),[{id:t.id,full_name:t.full_name,initials:t.initials,photo:t.photo}])))},{})}),t.user_reactions=(0,o.createSelector)(u,function(e,t){return e.maha.admin.user.id},function(e,t){return e.filter(function(e){return e.id===t}).map(function(e){return e.type})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.onReact=function(e,t,a){return{type:"maha.reactions/REACT",table:e,id:t,reaction:a}},t.onUnreact=function(e,t,a){return{type:"maha.reactions/UNREACT",table:e,id:t,reaction:a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{label:"Like",type:"thumbsup",unicode:"1f44d"},{label:"Dislike",type:"thumbsdown",unicode:"1f44e"},{label:"Happy",type:"smile",unicode:"1f604"},{label:"Sad",type:"cry",unicode:"1f625"},{label:"Angry",type:"rage",unicode:"1f621"},{label:"Love",type:"heart",unicode:"2764-fe0f"}]},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(88)),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleClick=n._handleClick.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.asset;return d.default.createElement("div",{className:"maha-attachment-asset"},d.default.createElement(i.default,(0,n.default)({},e,{onClick:this._handleClick})))}},{key:"_handleClick",value:function(){var e=this.props.asset;this.context.router.push("/admin/assets/"+e.id)}}]),t}(d.default.Component);f.contextTypes={router:u.default.object},f.propTypes={asset:u.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.default=function(e){return n.default.createElement("div",{className:"maha-attachment-image"},n.default.createElement("img",{src:e.image_url}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.default=function(e){return n.default.createElement("a",{href:e.title_link,rel:"noopener noreferrer",target:"_blank",className:"maha-attachment-link"},e.image_url&&n.default.createElement("div",{className:"maha-attachment-link-image"},n.default.createElement("img",{src:e.image_url})),n.default.createElement("div",{className:"maha-attachment-details"},n.default.createElement("div",{className:"maha-attachment-title"},e.title),n.default.createElement("div",{className:"maha-attachment-text"},e.text),n.default.createElement("div",{className:"maha-attachment-service"},e.service_icon&&n.default.createElement("img",{src:e.service_icon}),e.service_name)))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.from_url;return s.default.createElement("span",{className:"maha-attachment-local",onClick:this._handleClick},e)}},{key:"_handleClick",value:function(e){var t=this.context.router,a=this.props.title_link;t.push(a),e.stopPropagation()}}]),t}(s.default.Component);d.contextTypes={router:i.default.object},d.propTypes={from_url:i.default.string,title_link:i.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(44)),r=c(a(2)),o=c(a(3)),s=c(a(4)),i=c(a(5)),u=c(a(0)),d=c(a(1));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={active:!1},n._handleClick=n._handleClick.bind(n),l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.image_url,a=e.title,n=e.text,l=e.service_name,r=e.service_icon,o=this.state.active;return u.default.createElement("div",{className:"maha-attachment-video"},o?u.default.createElement("div",{className:"maha-attachment-video-player"},u.default.createElement("iframe",{src:this._getAutoplayUrl(),frameBorder:"0",gesture:"media",allowFullScreen:!0})):u.default.createElement("div",{className:"maha-attachment-video-image",onClick:this._handleClick},u.default.createElement("img",{src:t}),"www.youtube.com"===l&&u.default.createElement("div",{className:"maha-attachment-video-play"})),u.default.createElement("div",{className:"maha-attachment-details"},u.default.createElement("div",{className:"maha-attachment-title"},a),n&&u.default.createElement("div",{className:"maha-attachment-text"},n),u.default.createElement("div",{className:"maha-attachment-service"},r&&u.default.createElement("img",{src:r}),l)))}},{key:"_getAutoplayUrl",value:function(){var e=this.props.video_url.match(/([^?]*)\??(.*)?/),t=(0,l.default)(e,3),a=t[1],r=t[2];return a+"?"+[].concat((0,n.default)((r||"").split("&")),["autoplay=1"]).join("&")}},{key:"_handleClick",value:function(){this.setState({active:!0})}}]),t}(u.default.Component);f.propTypes={video_url:d.default.string,image_url:d.default.string,title:d.default.string,text:d.default.string,service_icon:d.default.string,service_name:d.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setTyping=function(e){return{type:"SET_TYPING",typing:e}},t.showMore=function(){return{type:"SHOW_MORE"}},t.type=function(e){return{type:"TYPE",q:e}},t.set=function(e){return{type:"SET",comments:e}},t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.create=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:e,body:{text:t.text,uid:t.uid,quoted_comment_id:t.quoted_comment_id},meta:{comment:t},request:"CREATE_REQUEST",success:"CREATE_SUCCESS",failure:"CREATE_FAILURE"}},t.add=function(e){return{type:"ADD",comment:e}},t.quoteComment=function(e){return{type:"QUOTE_COMMENT",id:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quoted_comment=t.comments=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));var r=t.comments=(0,n.createSelector)(function(e,t){return e.comments},function(e,t){return e.hidden},function(e,t){return e.sort(function(e,t){return e.created_at>t.created_at?1:e.created_at<t.created_at?-1:0}).filter(function(e,a){return a>=t})});t.quoted_comment=(0,n.createSelector)(r,function(e,t){return e.quoted_comment_id},function(e,t){return l.default.find(e,{id:t})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(186)),u=c(a(417)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.asset,a=e.comments;return d.default.createElement("div",{className:"maha-asset-preview"},d.default.createElement("div",{className:"maha-asset-preview-main"},d.default.createElement("div",{className:"maha-asset-preview-body"},d.default.createElement(i.default,{asset:t})),a&&document.body.clientWidth>768&&d.default.createElement("div",{className:"maha-asset-preview-sidebar"},d.default.createElement(u.default,{asset:t}))))}}]),t}(d.default.Component);f.propTypes={asset:s.default.object,comments:s.default.bool},f.defaultProps={comments:!1},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(82)),u=c(a(36)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.content_type,a=e.has_preview,n=e.id,l=e.original_file_name,r=e.path,o=a?"/assets/"+n+"/preview.jpg":r;return d.default.createElement("div",{className:"maha-asset-thumbnail"},t.match(/image/)?d.default.createElement(u.default,{src:o,title:l,transforms:{fit:"cover",h:50,w:50}}):d.default.createElement(i.default,{content_type:t}))}}]),t}(d.default.Component);f.propTypes={content_type:s.default.string,file_name:s.default.string,file_size:s.default.number,has_preview:s.default.bool,id:s.default.number,original_file_name:s.default.string,path:s.default.string,preview:s.default.bool},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={adding:!1,assigned:{status:"pending",records:[]},q:"",unassigned:{status:"pending",records:[]}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"ADD":return(0,l.default)({},e,{adding:!1,assigned:(0,l.default)({},e.assigned,{records:[].concat((0,n.default)(e.assigned.records),[t.assignee])})});case"BEGIN_ADD":return(0,l.default)({},e,{adding:!0});case"FETCH_ASSIGNED_REQUEST":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{status:"loading"})});case"FETCH_ASSIGNED_SUCCESS":return(0,l.default)({},e,{assigned:{records:t.result.data,status:"success"}});case"FETCH_UNASSIGNED_REQUEST":return(0,l.default)({},e,{unassigned:(0,l.default)({},e.unassigned,{status:"loading"})});case"FETCH_UNASSIGNED_SUCCESS":return(0,l.default)({},e,{unassigned:{records:t.result.data,status:"success"}});case"QUERY":return(0,l.default)({},e,{q:t.q});case"REMOVE":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{records:[].concat((0,n.default)(e.assigned.records.filter(function(e,a){return a!==t.index})))})});case"SAVE_REQUEST":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{status:"saving"})});case"SAVE_SUCCESS":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{status:"saved"})});case"SET":return(0,l.default)({},e,{assigned:{records:t.assigned,status:"success"}});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=a(6),u=a(21),d=p(a(1071)),c=p(a(1)),f=p(a(1072)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.list=null,n._handleAdd=n._handleAdd.bind(n),n._handleBeginAdd=n._handleBeginAdd.bind(n),n._handleCancel=n._handleCancel.bind(n),n._handleSave=n._handleSave.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.assigned,l=t.assignedFormat,r=t.empty,o=t.footer,s=t.label,c=t.text,f=t.unassigned;return m.default.createElement(i.ModalPanel,this._getModalPanel(),m.default.createElement("div",{className:this._getClass()},m.default.createElement("div",{className:"maha-assignment-body"},"loading"===a.status&&m.default.createElement(i.Loader,null),"success"===a.status&&m.default.createElement("div",{className:"maha-assignment-assigned"},m.default.createElement("div",{className:"maha-assignment-add",onClick:this._handleBeginAdd},"Assign a ",s,"..."),0===a.records.length&&m.default.createElement(i.Message,r),a.records.length>0&&m.default.createElement("div",{className:"maha-assignment-list",ref:function(t){return e.list=t}},m.default.createElement(u.TransitionGroup,null,a.records.map(function(t,a){return m.default.createElement(u.CSSTransition,{classNames:"expanded",timeout:1e3,exit:!1,key:"assigned_"+t.id},m.default.createElement("div",{className:"maha-assignment-item"},m.default.createElement("div",{className:"maha-assignment-item-token"},m.default.createElement(i.Format,(0,n.default)({},t,{format:l,text:c,value:t}))),m.default.createElement("div",{className:"maha-assignment-item-icon",onClick:e._handleRemove.bind(e,a)},m.default.createElement("i",{className:"fa fa-fw fa-times"}))))})))),m.default.createElement("div",{className:"maha-assignment-unassigned"},m.default.createElement("div",{className:"maha-assignment-unassigned-header"},m.default.createElement(i.Searchbox,this._getSearchbox())),m.default.createElement("div",{className:"maha-assignment-unassigned-body"},"loading"===f.status&&m.default.createElement(i.Loader,null),"success"===f.status&&m.default.createElement(d.default,this._getUnassigned())))),o&&m.default.createElement("div",{className:"maha-assignment-footer"},o)))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.assignedEndpoint,a=e.defaultValue,n=e.unassignedEndpoint,l=e.onFetchAssigned,r=e.onFetchUnassigned,o=e.onSet;if(r(n),a)return o(a);l(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.assigned,a=this.context.modal;t.records.length>e.assigned.records.length&&t.status===e.assigned.status&&(this.list.scrollTop=this.list.scrollHeight),t.status!==e.assigned.status&&"saved"===t.status&&a.close()}},{key:"_getModalPanel",value:function(){return{title:this.props.title,leftItems:[{label:"Cancel",handler:this._handleCancel}],rightItems:[{label:"Save",handler:this._handleSave}]}}},{key:"_getClass",value:function(){var e=["maha-assignment"];return this.props.adding&&e.push("adding"),e.join(" ")}},{key:"_getSearchbox",value:function(){return{prompt:"Find a "+this.props.label,onChange:this.props.onQuery}}},{key:"_getUnassigned",value:function(){var e=this.props,t=e.text,a=e.unassigned,n=e.unassignedFormat;return{text:t,unassigned:a,value:e.value,format:n,onChoose:this._handleAdd}}},{key:"_handleAdd",value:function(e){this.props.onAdd(e)}},{key:"_handleBeginAdd",value:function(){this.props.onBeginAdd()}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleRemove",value:function(e){this.props.onRemove(e)}},{key:"_handleSave",value:function(){var e=this.props,t=e.action,a=e.ids;(0,e.onSave)(t,a)}}]),t}(m.default.Component);h.contextTypes={modal:c.default.object},h.propTypes={action:c.default.string,adding:c.default.bool,assigned:c.default.object,assignedEndpoint:c.default.string,assignedFormat:c.default.any,defaultValue:c.default.array,endpoint:c.default.string,empty:c.default.object,footer:c.default.any,ids:c.default.array,item:c.default.object,label:c.default.string,method:c.default.string,q:c.default.string,title:c.default.string,text:c.default.string,unassigned:c.default.object,unassignedEndpoint:c.default.string,unassignedFormat:c.default.any,value:c.default.string,afterSave:c.default.func,onAdd:c.default.func,onBeginAdd:c.default.func,onFetchAssigned:c.default.func,onFetchUnassigned:c.default.func,onQuery:c.default.func,onRemove:c.default.func,onSave:c.default.func,onUpdate:c.default.func},h.defaultProps={assignedFormat:f.default,method:"PATCH",text:"title",unassignedFormat:f.default,value:"id"},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleChoose=n._handleChoose.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.text,l=t.format,r=t.unassigned;return d.default.createElement("div",{className:"maha-assignment-list"},"success"===r.status&&0===r.records.length&&d.default.createElement(i.Message,this._getNotFound()),"success"===r.status&&r.records.length>0&&d.default.createElement("div",{className:"maha-assignment-unassigned-items"},r.records.length>0&&r.records.map(function(t,r){return d.default.createElement("div",{className:"maha-assignment-unassigned-item",key:"unassigned_"+t.id,onClick:e._handleChoose.bind(e,t)},d.default.createElement(i.Format,(0,n.default)({},t,{format:l,text:a,value:t})))})))}},{key:"_getNotFound",value:function(){return{icon:"times",title:"No Results Found",text:"No records matched your query"}}},{key:"_handleChoose",value:function(e){this.props.onChoose(e)}}]),t}(d.default.Component);f.propTypes={format:u.default.any,text:u.default.string,unassigned:u.default.object,value:u.default.string,onChoose:u.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(0)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.text,a=e.value;return l.default.createElement("div",{className:"reframe-value-token"},r.default.get(a,t))};s.propTypes={text:n.default.any,value:n.default.object},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchUnassigned=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,query:{$page:{limit:0}},request:"FETCH_UNASSIGNED_REQUEST",success:"FETCH_UNASSIGNED_SUCCESS",failure:"FETCH_UNASSIGNED_FAILURE"}},t.fetchAssigned=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,request:"FETCH_ASSIGNED_REQUEST",success:"FETCH_ASSIGNED_SUCCESS",failure:"FETCH_ASSIGNED_FAILURE"}},t.save=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:e,body:{ids:t},request:"SAVE_REQUEST",success:"SAVE_SUCCESS",failure:"SAVE_FAILURE"}},t.query=function(e){return{type:"QUERY",q:e}},t.beginAdd=function(){return{type:"BEGIN_ADD"}},t.add=function(e){return{type:"ADD",assignee:e}},t.remove=function(e){return{type:"REMOVE",index:e}},t.set=function(e){return{type:"SET",assigned:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ids=t.unassigned=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));var r=function(e,t){return{status:e.assigned.status,records:e.assigned.records||[]}},o=(0,n.createSelector)(function(e,t){return{status:e.unassigned.status,records:e.unassigned.records||[]}},function(e,t){return e.q.toLowerCase()},function(e,t){return{status:e.status,records:e.records.filter(function(e){return 0===t.length||e.full_name.toLowerCase().search(t)>=0})}});t.unassigned=(0,n.createSelector)(o,r,function(e,t){return{status:e.status,records:e.records.filter(function(e){return l.default.findIndex(t.records,{id:e.id})<0})}}),t.ids=(0,n.createSelector)(r,function(e){return e.records.map(function(e){return e.id})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={status:"pending",ids:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET":return function(e,t){return(0,n.default)({},e,{ids:t.ids})}(e,t);case"SAVE_SUCCESS":return function(e,t){return(0,n.default)({},e,{status:"success"})}(e);case"SAVE_FAILURE":return function(e,t){return(0,n.default)({},e,{status:"failure"})}(e);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(14)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return d.default.createElement(i.ModalPanel,this._getPanel(),d.default.createElement(i.ToggleList,this._getToggleList()))}},{key:"componentDidUpdate",value:function(e){var t=this.props.status,a=this.context.modal;e.status!==t&&"success"===t&&a.close()}},{key:"_getPanel",value:function(){return{className:"assignment",title:this.props.title,leftItems:[{label:"Cancel",handler:this._handleCancel.bind(this)}],rightItems:[{label:"Save",handler:this._handleSave.bind(this)}]}}},{key:"_getToggleList",value:function(){var e=this.props,t=e.defaultValue,a=e.endpoint,n=e.format;return{defaultValue:t,endpoint:a,filters:e.filters,format:n,multiple:e.multiple,text:e.text,value:e.value,onChange:this._handleChange.bind(this)}}},{key:"_handleChange",value:function(e){this.props.onSet(e)}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSave",value:function(){var e=this.props,t=e.action,a=e.ids,l=e.method,r=e.multiple,o=r?"ids":"id",s=this.props.name||o,i=r?(0,n.default)({},s,a):(0,n.default)({},s,a[0]);this.props.onSave(t,l,i)}}]),t}(d.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={action:u.default.string,defaultValue:u.default.array,endpoint:u.default.string,filters:u.default.array,format:u.default.any,ids:u.default.array,method:u.default.string,multiple:u.default.bool,name:u.default.string,status:u.default.string,text:u.default.string,title:u.default.string,value:u.default.string,onSave:u.default.func,onSet:u.default.func},f.defaultProps={method:"PATCH",multiple:!1},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.save=function(e,t,a){return{type:"API_REQUEST",method:t,endpoint:e,body:a,request:"SAVE_REQUEST",success:"SAVE_SUCCESS",failure:"SAVE_FAILURE"}},t.set=function(e){return{type:"SET",ids:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={assets:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"FETCH_SUCCESS":return(0,n.default)({},e,{assets:t.result.data});case"SET":return(0,n.default)({},e,{assets:t.assets});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=f(a(0)),d=f(a(88)),c=f(a(116));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleClick=n._handleClick.bind(n),n._handleSet=n._handleSet.bind(n),n._handleDone=n._handleDone.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.assets,a=e.prompt;return u.default.createElement("div",{className:"maha-attachmentfield"},t.map(function(e,t){return u.default.createElement("div",{className:"maha-attachmentfield-asset",key:"asset_"+t},u.default.createElement(d.default,(0,n.default)({},e,{download:!1,key:"asset_"+e.id})),u.default.createElement("div",{className:"maha-attachmentfield-asset-remove"},u.default.createElement("i",{className:"fa fa-fw fa-times"})))}),u.default.createElement("div",{className:"ui button",onClick:this._handleClick},a))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onFetch,n=e.onReady;t&&a(),n()}},{key:"_getAttachments",value:function(){return{onCancel:this._handleCancel,onChooseAssets:this._handleSet,onDone:this._handleDone}}},{key:"_handleCancel",value:function(){this.context.form.pop()}},{key:"_handleSet",value:function(e){var t=this.props.multiple;this.props.onSet(e);var a=t?e.map(function(e){return e.id}):e[0].id;this.props.onChange(a)}},{key:"_handleDone",value:function(){this.context.form.pop()}},{key:"_handleClick",value:function(){this.context.form.push(u.default.createElement(c.default,this._getAttachments()))}}]),t}(u.default.Component);m.contextTypes={form:i.default.object},m.propTypes={assets:i.default.array,defaultValue:i.default.array,multiple:i.default.bool,prompt:i.default.string,onChange:i.default.func,onFetch:i.default.func,onReady:i.default.func,onSet:i.default.func},m.defaultProps={multiple:!1,onReady:function(){},prompt:"Add Attachment"},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/assets",query:{$ids:e},request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.set=function(e){return{type:"SET",assets:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(8)),u=c(a(0)),d=c(a(25));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.entries;return u.default.createElement("div",{className:"maha-audit"},e.map(function(e,t){return u.default.createElement("div",{className:"maha-audit-entry",key:"entry_"+t},u.default.createElement("div",{className:"maha-audit-entry-avatar"},u.default.createElement(d.default,{user:e.user,width:"16",height:"16",presence:!1})),u.default.createElement("div",{className:"maha-audit-entry-details"},u.default.createElement("div",{className:"maha-audit-entry-text"},e.story," by "+e.user.full_name),u.default.createElement("div",{className:"maha-audit-entry-timestamp"},(0,i.default)(e.created_at).format("MM/DD/YY @ h:mm A"))))}))}}]),t}(u.default.Component);f.propTypes={entries:s.default.array},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={active:0},o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.options;return t?s.default.createElement("div",{className:"maha-chooser"},t.map(function(t,a){return s.default.createElement("div",{className:e._getClass(a),key:"option_"+a,onClick:e._handleChoose.bind(e,a)},t.value)})):null}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.options,l=a.onChange,r=this.state.active;r!==t.active&&l(n[r].key)}},{key:"_getClass",value:function(e){var t=["maha-chooser-item"];return e===this.state.active&&t.push("active"),t.join(" ")}},{key:"_handleChoose",value:function(e){this.setState({active:e})}}]),t}(s.default.Component);d.propTypes={options:i.default.array,defaultValue:i.default.any,onChange:i.default.func,onReady:i.default.func},d.defaultProps={onChange:function(){},onReady:function(){}},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={editorState:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_STATE":return(0,n.default)({},e,{editorState:t.editorState});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=a(419),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleChange=n._handleChange.bind(n),n._handleKeyBinding=n._handleKeyBinding.bind(n),n._handleKeyCommand=n._handleKeyCommand.bind(n),n._handleFocus=n._handleFocus.bind(n),n._handleUpArrow=n._handleUpArrow.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.editorState;return d.default.createElement("div",{className:"maha-editor"},e&&d.default.createElement(i.Editor,this._getEditor()))}},{key:"componentDidMount",value:function(){var e=this.props.defaultValue,t=this._getInitialState(e);this._handleChange(t),this.props.onReady()}},{key:"_getInitialState",value:function(e){var t=this._getDecorator();if(!e)return i.EditorState.createEmpty(t);var a=(0,i.convertFromHTML)(e.replace(/\n/g,"<br />")),n=i.ContentState.createFromBlockArray(a),l=i.EditorState.createWithContent(n,t),r=i.EditorState.moveSelectionToEnd(l).getSelection();return i.EditorState.forceSelection(l,r)}},{key:"_getDecorator",value:function(){return new i.CompositeDecorator([])}},{key:"_getEditor",value:function(){var e=this,t=this.props,a=t.editorState,n=t.placeholder;return{ref:function(t){return e.el=t},editorState:a,onChange:this._handleChange,placeholder:n,keyBindingFn:this._handleKeyBinding,handleKeyCommand:this._handleKeyCommand,onFocus:this._handleFocus,onUpArrow:this._handleUpArrow}}},{key:"_handleReset",value:function(){var e=this.props.editorState,t=i.EditorState.push(e,i.ContentState.createFromText(""));this._handleChange(i.EditorState.moveFocusToEnd(t))}},{key:"_handleChange",value:function(e){var t=this.props.onChange;this.props.onSetState(e),t(this._getConverted(e))}},{key:"_handleKeyBinding",value:function(e){return(0,i.getDefaultKeyBinding)(e)}},{key:"_handleKeyCommand",value:function(e){return"message-save"===e?(this._handleSave(),"handled"):"not-handled"}},{key:"_handleUpArrow",value:function(e){e.preventDefault(),this.props.onUpArrow()}},{key:"_handleFocus",value:function(){this.props.onFocus()}},{key:"_getConverted",value:function(e){return(0,i.convertToRaw)(e.getCurrentContent()).blocks.reduce(function(e,t){return[].concat((0,n.default)(e),[t.text])},[]).join("\r\n")}},{key:"_handleSave",value:function(){var e=this.props,t=e.editorState,a=e.onSubmit,n=this._getConverted(t);0!==n.length&&(a(n),this._handleReset())}}]),t}(d.default.Component);f.propTypes={defaultValue:u.default.string,editorState:u.default.object,placeholder:u.default.string,uploads:u.default.array,onChange:u.default.func,onFocus:u.default.func,onReady:u.default.func,onSetState:u.default.func,onSubmit:u.default.func,onToggleEmojis:u.default.func,onUpArrow:u.default.func},f.defaultProps={placeholder:"Enter text",onChange:function(){},onReady:function(){},onSubmit:function(){},onUpArrow:function(){},onFocus:function(){}},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setState=function(e){return{type:"SET_STATE",editorState:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(8)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.date,a=(0,l.default)(t).calendar((0,l.default)(),{sameDay:"[Today]",lastDay:"[Yesterday]",lastWeek:"dddd, MMMM Do, YYYY",sameElse:"dddd, MMMM Do, YYYY"});return r.default.createElement("div",{className:"maha-feed-date"},a)};s.propTypes={date:n.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={cards:[],import:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"PUSH_CARD":return(0,l.default)({},e,{cards:[].concat((0,n.default)(e.cards),[t.card])});case"POP_CARD":return(0,l.default)({},e,{cards:e.cards.slice(0,-1)});case"SET_IMPORT":return(0,l.default)({},e,{import:t.import});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(7)),l=E(a(2)),r=E(a(3)),o=E(a(4)),s=E(a(5)),i=E(a(0)),u=E(a(1)),d=a(6),c=E(a(464)),f=E(a(465)),m=E(a(466)),p=E(a(467)),h=E(a(469)),_=E(a(470)),v=E(a(471)),y=E(a(474)),g=E(a(475)),b=E(a(476));function E(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleBack=n._handleBack.bind(n),n._handleCancel=n._handleCancel.bind(n),n._handleDone=n._handleDone.bind(n),n._handleGoPreview=n._handleGoPreview.bind(n),n._handleGoUpload=n._handleGoUpload.bind(n),n._handlePushCard=n._handlePushCard.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Stack,this._getStack())}},{key:"componentDidMount",value:function(){var e=this;(0,this.props.onPushCard)({component:function(t){return i.default.createElement(c.default,(0,n.default)({},t,e._getIntro()))}})}},{key:"_getStack",value:function(){var e=this.props;return{slideFirst:!1,cards:e.cards,fields:e.fields}}},{key:"_getIntro",value:function(){var e=this.props;return{defaultMapping:e.defaultMapping,table:e.table,onCancel:this._handleCancel,onNew:this._handleGoUpload,onResume:this._handleDone,onPreview:this._handleGoPreview}}},{key:"_getUpload",value:function(){return{table:this.props.table,onBack:this._handleBack,onDone:this._handleDone}}},{key:"_getPreview",value:function(){var e=this.props,t=e.fields;return{defaultMapping:e.defaultMapping,fields:t,defaultValue:this.props.import,onBack:this._handleBack,onDone:this._handleDone}}},{key:"_getMapping",value:function(){return{fields:this.props.fields,defaultValue:this.props.import,onBack:this._handleBack,onPushCard:this._handlePushCard,onDone:this._handleDone}}},{key:"_getConfigure",value:function(){var e=this.props.primaryKey;return{defaultValue:this.props.import,primaryKey:e,onBack:this._handleBack,onDone:this._handleDone}}},{key:"_getParsing",value:function(){var e=this.props,t=e.table,a=e.primaryKey;return{defaultValue:this.props.import,primaryKey:a,table:t,onBack:this._handleBack,onDone:this._handleDone,rules:this.props.rules}}},{key:"_getValidating",value:function(){return{defaultValue:this.props.import,rules:this.props.rules,fields:this.props.fields,onBack:this._handleBack,onDone:this._handleDone,onPushCard:this._handlePushCard}}},{key:"_getProcessing",value:function(){var e=this.props,t=e.table,a=e.primaryKey;return{defaultValue:this.props.import,fields:this.props.fields,destination:this.props.destination,defaultParams:this.props.defaultParams,primaryKey:a,table:t,onBack:this._handleBack,onDone:this._handleDone,onPushCard:this._handlePushCard}}},{key:"_getFinalizing",value:function(){return{defaultValue:this.props.import,finalizeComponent:this.props.finalizeComponent,onDone:this._handleDone,onPushCard:this._handlePushCard}}},{key:"_getComplete",value:function(){return{import:this.props.import,destination:this.props.destination,onDone:this._handleDone,onPushCard:this._handlePushCard}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleBack",value:function(){this.props.onPopCard()}},{key:"_handleGoUpload",value:function(){this._handlePushCard(f.default,this._getUpload.bind(this))}},{key:"_handleGoPreview",value:function(){this._handlePushCard(m.default,this._getPreview.bind(this))}},{key:"_handleDone",value:function(e){var t=this.props,a=t.onSetImport,n=(t.onPopCard,t.finalizeComponent);a(e),"previewing"===e.stage?this._handlePushCard(m.default,this._getPreview.bind(this)):"mapping"===e.stage?this._handlePushCard(p.default,this._getMapping.bind(this)):"configuring"===e.stage?this._handlePushCard(h.default,this._getConfigure.bind(this)):"parsing"===e.stage?this._handlePushCard(_.default,this._getParsing.bind(this)):"validating"===e.stage?this._handlePushCard(v.default,this._getValidating.bind(this)):"processing"===e.stage?this._handlePushCard(y.default,this._getProcessing.bind(this)):"finalizing"===e.stage&&n?this._handlePushCard(g.default,this._getFinalizing.bind(this)):("finalizing"===e.stage&&!n||"complete"===e.stage)&&("finalizing"===e.stage&&(e.stage="complete",a(e)),this._handlePushCard(b.default,this._getComplete.bind(this)))}},{key:"_handlePushCard",value:function(e,t){(0,this.props.onPushCard)({component:function(a){return i.default.createElement(e,(0,n.default)({},a,t()))}})}},{key:"_handleConfiguring",value:function(e,t,a){var n=this.props.import.id;this.props.onUpdateImport(n,{stage:"validating",name:e,strategy:t,primary_key:a})}}]),t}(i.default.Component);k.contextTypes={modal:u.default.object,router:u.default.object},k.propTypes={cards:u.default.array,defaultMapping:u.default.array,defaultParams:u.default.object,destination:u.default.func,import:u.default.object,fields:u.default.array,finalizeComponent:u.default.any,primaryKey:u.default.string,rules:u.default.object,status:u.default.string,table:u.default.string,onPopCard:u.default.func,onPushCard:u.default.func,onSetImport:u.default.func,onUpdateImport:u.default.func},t.default=k},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={imports:null,status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"FETCH_REQUEST":return(0,l.default)({},e,{status:"loading"});case"FETCH_FAILURE":return(0,l.default)({},e,{status:"failure"});case"FETCH_SUCCESS":return(0,l.default)({},e,{imports:t.result.data,status:"success"});case"DESTROY_SUCCESS":return(0,l.default)({},e,{imports:[].concat((0,n.default)(e.imports.filter(function(e){return e.id!==t.id})))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(10)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=a(6),u=m(a(1)),d=m(a(8)),c=m(a(0)),f=m(a(51));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleNew=n._handleNew.bind(n),n._handleDeleteAll=n._handleDeleteAll.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.defaultMapping,a=e.imports,n=e.status;return c.default.createElement(i.ModalPanel,this._getPanel(),"loading"===n&&c.default.createElement(i.Loader,this._getLoader()),"success"===n&&c.default.createElement("div",{className:"import-intro"},c.default.createElement("div",{className:"import-intro-start"},c.default.createElement("h3",null,"Import Records"),c.default.createElement("p",null,"To make bulk entry easier, you can import records from a spreadsheet"),c.default.createElement("button",{className:"ui green fluid large button start-new",onClick:this._handleNew},"Start New Import",c.default.createElement("i",{className:"fa fa-chevron-right"}))),t&&c.default.createElement("div",{className:"import-intro-template"},c.default.createElement("h3",null,"Templates"),c.default.createElement("p",null,"To keeps things simple, download this template and then reupload with your data"),c.default.createElement(i.Buttons,this._getTemplateButtons())),a.length>0&&c.default.createElement("div",{className:"import-intro-incomplete"},c.default.createElement("div",{className:"import-intro-incomplete-header"},c.default.createElement("h3",null,"Previous Imports"),c.default.createElement("p",null,"We found the following incomplete imports"),c.default.createElement("div",{className:"import-intro-deleteall",onClick:this._handleDeleteAll},"Delete All")),c.default.createElement(i.List,this._getList()))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.table;(0,e.onFetch)(t)}},{key:"_getPanel",value:function(){return{title:"Import Data",leftItems:[{label:"Cancel",handler:this._handleCancel}]}}},{key:"_getLoader",value:function(){return{label:"Loading previous imports"}}},{key:"_getTemplateButtons",value:function(){return{buttons:[{label:"CSV",handler:this._downloadTemplate.bind(this,"csv")},{label:"XLSX",handler:this._downloadTemplate.bind(this,"xlsx")}]}}},{key:"_getList",value:function(){var e=this,t=this.props.imports;return{items:[].concat((0,n.default)(t.map(function(t,a){return{icon:"file-excel-o",component:function(){return c.default.createElement("div",{className:"import-item"},c.default.createElement("strong",null,t.name||t.asset.original_file_name),c.default.createElement("br",null),(0,d.default)(t.created_at).format("MMM DD, YYYY @ h:mm a"),c.default.createElement("br",null),c.default.createElement("div",{className:"import-item-remove",onClick:e._handleRemove.bind(e,t)},"Delete Import"))},handler:e._handleResume.bind(e,t)}})))}}},{key:"_getMessage",value:function(){return{icon:"upload",title:"Import Records",text:"Lorem ipsum dolor amet synth hashtag tousled tattooed intelligentsia ennui paleo fingerstache.",button:{label:"Choose File",handler:this._handleNew}}}},{key:"_handleDeleteAll",value:function(){var e=this;this.props.imports.map(function(t){return e.props.onDestroy(t.id)})}},{key:"_handleCancel",value:function(){this.props.onCancel()}},{key:"_handleNew",value:function(){this.props.onNew()}},{key:"_handleResume",value:function(e){this.props.onResume(e)}},{key:"_handleRemove",value:function(e,t){this.props.onDestroy(e.id),t.stopPropagation()}},{key:"_downloadTemplate",value:function(e){var t=this.context.admin.team.token,a=this.props.defaultMapping.map(function(e,t){return e.header});window.location.href="/api/admin/imports/template."+e+"?download=true&filename=template&token="+t+"&"+f.default.stringify({columns:a})}}]),t}(c.default.Component);p.contextTypes={admin:u.default.object},p.propTypes={imports:u.default.array,status:u.default.string,table:u.default.string,defaultMapping:u.default.array,onCancel:u.default.func,onDestroy:u.default.func,onFetch:u.default.func,onNew:u.default.func,onResume:u.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports",query:{$filter:{object_type:{$eq:e},stage:{$ne:"complete"}}},request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.destroy=function(e){return{type:"API_REQUEST",method:"DELETE",endpoint:"/api/admin/imports/"+e,meta:{id:e},request:"DESTROY_REQUEST",success:"DESTROY_SUCCESS",failure:"DESTROY_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={import:null,status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"CREATE_IMPORT_REQUEST":return(0,n.default)({},e,{status:"loading"});case"CREATE_IMPORT_FAILURE":return(0,n.default)({},e,{status:"failure"});case"CREATE_IMPORT_SUCCESS":return(0,n.default)({},e,{import:t.result.data,status:"success"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleAttachment=l._handleAttachment.bind(l),l._handleCancel=l._handleCancel.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.status;return"loading"===e?s.default.createElement(u.Loader,this._getLoader()):"failure"===e?s.default.createElement(u.Message,this._getFailure()):"success"===e?null:s.default.createElement(u.Attachments,this._getAttachments())}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.status,n=t.onDone;a!==e.status&&"success"===a&&n(this.props.import)}},{key:"_getAttachments",value:function(){return{cancelText:s.default.createElement("i",{className:"fa fa-fw fa-chevron-left"}),prompt:"Upload File",multiple:!1,networks:["device","web","maha","google","dropbox","box","microsoft"],onCancel:this._handleCancel,onChooseAssets:this._handleAttachment,onDone:function(){}}}},{key:"_getLoader",value:function(){return{label:"Analyzing your data..."}}},{key:"_getFailure",value:function(){return{icon:"exclamation-triangle",title:"Upload failed",text:"Unable to process your file"}}},{key:"_handleCancel",value:function(){this.props.onBack()}},{key:"_handleAttachment",value:function(e){var t=this.props.table;this.props.onCreateImport({object_type:t,asset_id:e.id,stage:"previewing"})}}]),t}(s.default.Component);c.contextTypes={},c.propTypes={import:i.default.object,status:i.default.string,table:i.default.string,onBack:i.default.func,onCreateImport:i.default.func,onDone:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createImport=function(e){return{type:"API_REQUEST",method:"POST",body:e,endpoint:"/api/admin/imports",request:"CREATE_IMPORT_REQUEST",success:"CREATE_IMPORT_SUCCESS",failure:"CREATE_IMPORT_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={delimiter:",",headers:!0,index:0,parsed:null,status:"pending",import:null,table_fields:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"INIT":return(0,n.default)({},e,{import:t.import});case"PREVIEW_DATA_REQUEST":return(0,n.default)({},e,{delimiter:t.request.params.delimiter,headers:t.request.params.headers,quote:t.request.params.quote,status:"loading"});case"PREVIEW_DATA_FAILURE":return(0,n.default)({},e,{status:"failure"});case"PREVIEW_DATA_SUCCESS":return(0,n.default)({},e,{parsed:t.result.data,status:"loaded",index:0});case"PREVIOUS":return(0,n.default)({},e,{index:e.index>0?e.index-1:0});case"NEXT":return(0,n.default)({},e,{index:e.index<e.parsed.rows.length-1?e.index+1:e.index});case"UPDATE_IMPORT_REQUEST":return(0,n.default)({},e,{status:"saving"});case"UPDATE_IMPORT_FAILURE":return(0,n.default)({},e,{status:"failure"});case"UPDATE_IMPORT_SUCCESS":return(0,n.default)({},e,{import:t.result.data,status:"saved"});case"PREVIEW_FIELDS_SUCCESS":return(0,n.default)({},e,{table_fields:t.result.data});case"PREVIEW_TABLES_SUCCESS":return(0,n.default)({},e,{tables:t.result.data});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(14)),l=p(a(10)),r=p(a(7)),o=p(a(2)),s=p(a(3)),i=p(a(4)),u=p(a(5)),d=a(6),c=p(a(1)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,n,l;(0,o.default)(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return a=n=(0,i.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._handleBack=n._handleBack.bind(n),n._handleChangeDelimiter=n._handleChangeDelimiter.bind(n),n._handleChangeHeaders=n._handleChangeHeaders.bind(n),n._handleDone=n._handleDone.bind(n),n._handleNext=n._handleNext.bind(n),n._handlePrevious=n._handlePrevious.bind(n),l=a,(0,i.default)(n,l)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.parsed,n=e.record,l=e.rowNumber,r=e.status;if(!this.props.import)return null;var o=this.props.import;return f.default.createElement(d.ModalPanel,this._getPanel(),n&&f.default.createElement("div",{className:"maha-import-preview"},f.default.createElement("div",{className:"maha-import-preview-header"},o.asset.content_type.match(/csv/)&&f.default.createElement("div",{className:"maha-import-preview-header-item"},f.default.createElement(d.Chooser,this._getDelimiter())),f.default.createElement("div",{className:"maha-import-preview-header-item"},f.default.createElement(d.Chooser,this._getHeaders()))),"loading"===r&&f.default.createElement(d.Loader,this._getLoader()),"failure"===r&&f.default.createElement(d.Message,this._getFailure()),("loaded"===r||"saving"===r)&&f.default.createElement("div",{className:"maha-import-preview-result"},f.default.createElement("div",{className:"maha-import-preview-pager"},f.default.createElement("div",{className:"maha-import-preview-pager-item"},t>0?f.default.createElement("div",{className:"ui green tiny fluid button",onClick:this._handlePrevious},f.default.createElement("i",{className:"fa fa-fw fa-chevron-left"})):f.default.createElement("div",{className:"ui tiny fluid button disabled"},f.default.createElement("i",{className:"fa fa-fw fa-chevron-left"}))),f.default.createElement("div",{className:"maha-import-preview-pager-item"},f.default.createElement("label",null,"Row Number: ",l)),f.default.createElement("div",{className:"maha-import-preview-pager-item"},t<a.rows.length-1?f.default.createElement("div",{className:"ui green tiny fluid button",onClick:this._handleNext},f.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})):f.default.createElement("div",{className:"ui tiny fluid button disabled"},f.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))),f.default.createElement("div",{className:"maha-import-preview-body"},f.default.createElement("table",{className:"maha-import-preview-record"},f.default.createElement("tbody",null,n.map(function(e,t){return f.default.createElement("tr",{key:"property_"+t},f.default.createElement("th",null,e.key),f.default.createElement("td",null,e.value))})))))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onInit,n=e.onGetFields,l=e.onGetTables;a(t),n(t.object_type),l(t.object_type)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.delimiter,n=t.headers,l=t.status,r=t.onDone;m.default.isEqual(this.props.import,e.import)||e.import||this.props.onPreviewData(this.props.import.id,a,n),l!==e.status&&"saved"===l&&r(this.props.import)}},{key:"_getPanel",value:function(){var e=this.props.status,t={title:"Preview Data",leftItems:[{icon:"chevron-left",handler:this._handleBack}]};return"failed"!==e&&(t.rightItems=[{label:"Next",handler:this._handleDone}]),t}},{key:"_getLoader",value:function(){return{label:"Parsing your data..."}}},{key:"_getFailure",value:function(){return{icon:"exclamation-triangle",title:"Preview failed",text:"Unable to parse your data"}}},{key:"_getDelimiter",value:function(){return{defaultValue:this.props.delimiter,options:[{key:",",value:"Comma"},{key:"\t",value:"Tab"},{key:"s",value:"Space"},{key:":",value:"Colon"},{key:"|",value:"Pipe"}],onChange:this._handleChangeDelimiter}}},{key:"_getHeaders",value:function(){return{defaultValue:this.props.headers,options:[{key:!0,value:"Headers"},{key:!1,value:"No Headers"}],onChange:this._handleChangeHeaders}}},{key:"_getInitialMapping",value:function(){var e=this.props,t=e.fields,a=e.parsed,o=e.table_fields,s=function(e){return e?(m.default.endsWith(e,"_code")&&(e=e.replace("_code","")),m.default.endsWith(e,"_id")&&(e=e.replace("_id","")),m.default.endsWith(e,"_number")&&(e=e.replace("_number","")),m.default.endsWith(e,"s")&&(e=e.substring(0,e.length-1)),e.replace(/_/g,"").replace(/ /g,"").replace(/[^\w\s]/gi,"").toLowerCase()):null},i=function(e){return o.reduce(function(t,a){if(t)return t;if(s(e).match(/photo|image|logo/))return"upload";if(s(a.name)===s(e)||s(a.label)===s(e)){if(a.related)return"relation";if(a.data_type)return a.data_type}return null},null)},u=e.tables.reduce(function(e,t){return(0,r.default)({},e,(0,n.default)({},t.table,[].concat((0,l.default)(e[t.table]||[]),[t.field])))},{}),d=function(e){return Object.keys(u).reduce(function(t,a){return t||(s(e)===s(m.default.split(a,"_")[1])?a:null)},null)};return a.headers.map(function(e){return{header:e,field:function(e){return t.reduce(function(t,a){return t||(s(a.name)===s(e)?a.name:s(a.label)===s(e)?a.name:null)},null)}(e),type:i(e)?i(e):"text",relation:d(e),relation_columns:function(e){return m.default.includes(u[e],"name")?"name":m.default.includes(u[e],"title")?"title":m.default.includes(u[e],"email")?"email":null}(d(e))}})}},{key:"_checkIfTemplate",value:function(){var e=this.props,t=e.parsed,a=e.defaultMapping;if(!a)return!1;var n=function(e){return e.endsWith("_id")&&(e=e.replace("_id","")),e.endsWith("_code")&&(e=e.replace("_code","")),e.replace(/_/g,"").replace(/ /g,"").replace(/[^\w\s]/gi,"").toLowerCase()},l=a.map(function(e,t){return n(e.header)});return!t.headers.reduce(function(e,t,a){return e||(!m.default.includes(l,n(t))||null)},null)}},{key:"_handleChangeDelimiter",value:function(e){var t=this.props.headers;this.props.onPreviewData(this.props.import.id,e,t)}},{key:"_handleChangeHeaders",value:function(e){var t=this.props.delimiter;this.props.onPreviewData(this.props.import.id,t,e)}},{key:"_handlePrevious",value:function(){this.props.onPrevious()}},{key:"_handleNext",value:function(){this.props.onNext()}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleDone",value:function(){var e=this.props,t=e.headers,a=e.delimiter,n=e.onUpdateImport,l=e.defaultMapping;n(this.props.import.id,{mapping:this._checkIfTemplate()?l:this._getInitialMapping(),stage:this._checkIfTemplate()?"configuring":"mapping",headers:t,delimiter:a})}}]),t}(f.default.Component);h.propTypes={defaultMapping:c.default.array,defaultValue:c.default.object,delimiter:c.default.string,fields:c.default.array,headers:c.default.bool,import:c.default.object,index:c.default.number,parsed:c.default.object,record:c.default.array,rowNumber:c.default.number,status:c.default.string,table:c.default.array,table_fields:c.default.array,onBack:c.default.func,onDone:c.default.func,onGetFields:c.default.func,onGetTables:c.default.func,onInit:c.default.func,onNext:c.default.func,onPreviewData:c.default.func,onPrevious:c.default.func,onUpdateImport:c.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.previewData=function(e,t,a){return{type:"API_REQUEST",method:"POST",body:{delimiter:t,headers:a},endpoint:"/api/admin/imports/"+e+"/preview",request:"PREVIEW_DATA_REQUEST",success:"PREVIEW_DATA_SUCCESS",failure:"PREVIEW_DATA_FAILURE"}},t.previous=function(){return{type:"PREVIOUS"}},t.next=function(){return{type:"NEXT"}},t.updateImport=function(e,t){return{type:"API_REQUEST",method:"PATCH",body:t,endpoint:"/api/admin/imports/"+e,request:"UPDATE_IMPORT_REQUEST",success:"UPDATE_IMPORT_SUCCESS",failure:"UPDATE_IMPORT_FAILURE"}},t.getFields=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports/fields/"+e,request:"PREVIEW_FIELDS_REQUEST",success:"PREVIEW_FIELDS_SUCCESS",failure:"PREVIEW_FIELDS_FAILURE"}},t.getTables=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports/tables/"+e,request:"PREVIEW_TABLES_REQUEST",success:"PREVIEW_TABLES_SUCCESS",failure:"PREVIEW_TABLES_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rowNumber=t.record=void 0;var n=a(12),l=function(e){return e.index};t.record=(0,n.createSelector)(function(e){return e.parsed},l,function(e,t){return e?e.headers.map(function(a,n){return{key:a,value:e.rows[t][n]}}):null}),t.rowNumber=(0,n.createSelector)(function(e){return e.headers},l,function(e,t){return(e?1:0)+t+1})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={import:null,mapping:null,status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"INIT":return(0,l.default)({},e,{mapping:t.import.mapping,import:t.import});case"UPDATE_MAPPING":return(0,l.default)({},e,{mapping:[].concat((0,n.default)(e.mapping.slice(0,t.index)),[t.mappingItem],(0,n.default)(e.mapping.slice(t.index+1)))});case"UPDATE_IMPORT_REQUEST":return(0,l.default)({},e,{mapping:t.request.params.mapping,status:"saving"});case"UPDATE_IMPORT_FAILURE":return(0,l.default)({},e,{status:"failure"});case"UPDATE_IMPORT_SUCCESS":return(0,l.default)({},e,{import:t.result.data,status:"saved"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=a(6),i=f(a(1)),u=f(a(468)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.value,a="number"==typeof t?"Column "+(t+1):t;return d.default.createElement("div",{className:"token"},a)};m.propTypes={value:i.default.number};var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleDone=l._handleDone.bind(l),l._handleFieldDone=l._handleFieldDone.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mapping,a=e.isValid;return d.default.createElement(s.ModalPanel,this._getPanel(),t&&d.default.createElement("div",{className:"import-mapping"},!a&&d.default.createElement("div",{className:"import-mapping-warning"},d.default.createElement("i",{className:"fa fa-fw fa-exclamation-triangle"}),"You cannot proceed until all required database fields have been matched to an import column"),d.default.createElement(s.Table,this._getTable())))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue;(0,e.onInit)(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.mapping,n=t.onUpdateImport;if(c.default.isEqual(a,e.mapping)||null===e.mapping||n(this.props.import.id,{mapping:a}),!c.default.isEqual(this.props.import,e.import)&&null!==e.import){if("configuring"!==this.props.import.stage)return;this.props.onDone(this.props.import)}}},{key:"_getPanel",value:function(){var e=this.props.isValid;return{title:"Map Fields",leftItems:[{icon:"chevron-left",handler:this._handleBack}],rightItems:e?[{label:"Next",handler:this._handleDone}]:[]}}},{key:"_getTable",value:function(){var e=this,t=this.props.mapping;return{columns:[{label:"Header",key:"header",primary:!0,format:m},{label:"Field",key:"field",primary:!0},{collapsing:!0,format:function(){return d.default.createElement(s.Button,e._getButton())}}],records:t,handler:this._handleClick.bind(this)}}},{key:"_getButton",value:function(){return{label:"Configure"}}},{key:"_getField",value:function(e,t){return{index:t,defaultValue:e,table:this.props.import.object_type,fields:this.props.fields,mapped:this.props.mapped,onBack:this._handleBack,onDone:this._handleFieldDone}}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handlePushCard",value:function(e,t){this.props.onPushCard(e,t)}},{key:"_handleClick",value:function(e,t){this._handlePushCard(u.default,this._getField.bind(this,e,t))}},{key:"_handleFieldDone",value:function(e,t){this.props.onUpdateMapping(e,t),this.props.onBack()}},{key:"_handleDone",value:function(){this.props.onUpdateImport(this.props.import.id,{stage:"configuring"})}}]),t}(d.default.Component);p.contextTypes={},p.propTypes={defaultValue:i.default.object,fields:i.default.array,import:i.default.object,isValid:i.default.bool,mapping:i.default.array,mapped:i.default.array,status:i.default.string,unmapped:i.default.array,onBack:i.default.func,onDone:i.default.func,onField:i.default.func,onInit:i.default.func,onPushCard:i.default.func,onUpdateImport:i.default.func,onUpdateMapping:i.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={status:"pending",config:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_CONFIG":return(0,n.default)({},e,{status:"ready",config:t.config});case"UPDATE_CONFIG":return(0,n.default)({},e,{config:(0,n.default)({},e.config,t.config)});case"PREVIEW_FIELDS_SUCCESS":return(0,n.default)({},e,{table_fields:t.result.data});case"PREVIEW_RELATIONCOLUMN_SUCCESS":return(0,n.default)({},e,{relation_columns:t.result.data});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),l._handleFieldName=l._handleFieldName.bind(l),l._handleFieldType=l._handleFieldType.bind(l),l._handleFieldRelation=l._handleFieldRelation.bind(l),l._handleRelationColumns=l._handleRelationColumns.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.config,a=e.status,n=e.table_fields,l=e.relation_columns;return u.default.createElement(s.ModalPanel,this._getPanel(),"ready"===a&&u.default.createElement("div",{className:"maha-import-field"},u.default.createElement("div",{className:"maha-import-field-row"},u.default.createElement("div",{className:"maha-import-field-label"},"Column Name:"),u.default.createElement("div",{className:"maha-import-field-value"},t.header)),u.default.createElement("div",{className:"maha-import-field-row"},u.default.createElement("div",{className:"maha-import-field-label"},"Field Name:"),u.default.createElement("div",{className:"maha-import-field-value"},u.default.createElement(s.Dropdown,this._getFieldName()))),u.default.createElement("div",{className:"maha-import-field-row"},u.default.createElement("div",{className:"maha-import-field-label"},"Field Type:"),u.default.createElement("div",{className:"maha-import-field-value"},u.default.createElement(s.Dropdown,this._getFieldType()))),"relation"===t.type&&n&&u.default.createElement("div",{className:"maha-import-field-row"},u.default.createElement("div",{className:"maha-import-field-label"},"Linked Table:"),u.default.createElement("div",{className:"maha-import-field-value"},u.default.createElement(s.Dropdown,this._getFieldRelation()))),t.relation&&l&&u.default.createElement("div",{className:"maha-import-field-row"},u.default.createElement("div",{className:"maha-import-field-label"},"Field to Match:"),u.default.createElement("div",{className:"maha-import-field-value"},u.default.createElement(s.Dropdown,this._getRelationColumns())))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onSetConfig,n=e.onGetFields,l=e.table;a(t),n(l)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.onGetRelationColumns,n=t.config;t.relation_columns;d.default.isEqual(this.props.config,e.config)||e.config||a(n.relation)}},{key:"_getPanel",value:function(){return{title:"Configure Field",rightItems:[{label:"Done",handler:this._handleDone}]}}},{key:"_getFieldName",value:function(){var e=this.props,t=e.control;return{options:e.availableFields.map(function(e,t){return{value:e.name,text:e.label}}),defaultValue:t?t.name:null,onChange:this._handleFieldName}}},{key:"_getFieldType",value:function(){var e=this.props.config;return{options:[{value:"text",text:"Text"},{value:"upload",text:"Image or file upload"},{value:"relation",text:"Relation to another table"}],defaultValue:e?e.type:"text",onChange:this._handleFieldType}}},{key:"_getFieldRelation",value:function(){var e=this.props,t=e.config,a=e.table_fields,n=function(e){return e.endsWith("_id")&&(e=e.substring(0,e.length-3)),e.endsWith("s")&&(e=e.substring(0,e.length-1)),-1!=e.indexOf("_")&&(e=e.split("_")[1]),e.replace(/_/g,"").replace(/ /g,"").replace(/[^\w\s]/gi,"").toLowerCase()};return{options:a.reduce(function(e,t){return t.related&&e.push({value:t.related.table,text:t.related.table}),e},[]),defaultValue:t?function(e){return a.reduce(function(t,a){if(t)return t;if(e.relation)return e.relation;if(a.related){if(a.related.table===e.field)return a.related.table;if(n(a.related.table)===n(e.field))return a.related.table}return null},null)}(t):null,onChange:this._handleFieldRelation}}},{key:"_getRelationColumns",value:function(){var e=this.props,t=e.config,a=e.relation_columns,n=function(e){return a.reduce(function(t,a){return t||(e.relation_column?e.relation_column:"name"===a.name?a.name:"title"===a.name?a.name:"email"===a.name?a.name:null)},null)};return console.log("guessRelationColumns(config) is ",n(t)),{options:a.reduce(function(e,t){return e.push({value:t.name,text:t.name}),e},[]),defaultValue:t?n(t):null,onChange:this._handleRelationColumns}}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleDone",value:function(){var e=this.props,t=e.index,a=e.config;this.props.onDone(a,t)}},{key:"_handleFieldName",value:function(e){this.props.onUpdateConfig({field:e})}},{key:"_handleFieldType",value:function(e){this.props.onUpdateConfig({type:e})}},{key:"_handleFieldRelation",value:function(e){this.props.onUpdateConfig({relation:e})}},{key:"_handleRelationColumns",value:function(e){this.props.onUpdateConfig({relationcolumn:e})}}]),t}(u.default.Component);f.contextTypes={},f.propTypes={availableFields:i.default.array,config:i.default.object,control:i.default.object,defaultValue:i.default.object,fields:i.default.array,header:i.default.string,index:i.default.number,mapped:i.default.array,status:i.default.string,table:i.default.string,table_fields:i.default.array,relation_columns:i.default.array,onBack:i.default.func,onDone:i.default.func,onChange:i.default.func,onGetFields:i.default.func,onGetRelationColumns:i.default.func,onSetConfig:i.default.func,onUpdateConfig:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setConfig=function(e){return{type:"SET_CONFIG",config:e}},t.updateConfig=function(e){return{type:"UPDATE_CONFIG",config:e}},t.getFields=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports/fields/"+e,request:"PREVIEW_FIELDS_REQUEST",success:"PREVIEW_FIELDS_SUCCESS",failure:"PREVIEW_FIELDS_FAILURE"}},t.getRelationColumns=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports/fields/"+e,request:"PREVIEW_RELATIONCOLUMNS_REQUEST",success:"PREVIEW_RELATIONCOLUMN_SUCCESS",failure:"PREVIEW_RELATIONCOLUMNS_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.availableFields=t.control=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));var r=function(e,t){return t.fields},o=function(e,t){return e.config||{}};t.control=(0,n.createSelector)(r,o,function(e,t){return l.default.find(e,{name:t.field})}),t.availableFields=(0,n.createSelector)(r,function(e,t){return t.mapped},o,function(e,t,a){return e.filter(function(e){return!l.default.includes(t,e.name)||e.name===a.field})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.updateMapping=function(e,t){return{type:"UPDATE_MAPPING",index:t,mappingItem:e}},t.updateImport=function(e,t){return{type:"API_REQUEST",method:"PATCH",body:t,endpoint:"/api/admin/imports/"+e,request:"UPDATE_IMPORT_REQUEST",success:"UPDATE_IMPORT_SUCCESS",failure:"UPDATE_IMPORT_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValid=t.mapped=void 0;var n=o(a(10)),l=a(12),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.mapped=function(e,t){return e.mapping?e.mapping.reduce(function(e,t){return null!==t.field?[].concat((0,n.default)(e),[t.field]):e},[]):[]};t.isValid=(0,l.createSelector)(s,function(e,t){return t.fields.reduce(function(e,t){return!0===t.required?[].concat((0,n.default)(e),[t.name]):e},[])},function(e,t){return t.reduce(function(t,a){return t?r.default.includes(e,a):t},!0)})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={import:null,name:null,strategy:"ignore"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"INIT":return(0,n.default)({},e,{import:t.import});case"UPDATE_IMPORT_REQUEST":return(0,n.default)({},e,{status:"saving"});case"UPDATE_IMPORT_FAILURE":return(0,n.default)({},e,{status:"failure"});case"UPDATE_IMPORT_SUCCESS":return(0,n.default)({},e,{import:t.result.data,name:t.name,strategy:t.strategy,status:"saved"});case"UPDATE_NAME":return(0,n.default)({},e,{name:t.name});case"UPDATE_STRATEGY":return(0,n.default)({},e,{strategy:t.strategy});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=a(6),i=f(a(1109)),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleNameChange=l._handleNameChange.bind(l),l._handleNext=l._handleNext.bind(l),l._handleStrategyChange=l._handleStrategyChange.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.primaryKey;return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement("div",{className:"import-config"},d.default.createElement("div",{className:"import-config-row"},d.default.createElement("div",{className:"import-config-label"},"Name"),d.default.createElement("div",{className:"import-config-value"},d.default.createElement(s.TextField,this._getName()))),null!=e&&d.default.createElement("div",{className:"import-config-row"},d.default.createElement("div",{className:"import-config-label"},"How should we handle duplicate records?"),d.default.createElement("div",{className:"import-config-value"},d.default.createElement(s.RadioGroup,this._getStrategy())))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue;(0,e.onInit)(t)}},{key:"componentDidUpdate",value:function(e){if(!c.default.isEqual(this.props.import,e.import)&&null!==e.import&&null!==this.props.import){if("parsing"!==this.props.import.stage)return;this.props.onDone(this.props.import)}}},{key:"_getPanel",value:function(){return{title:"Configure Import",leftItems:[{icon:"chevron-left",handler:this._handleBack}],rightItems:[{label:"Next",handler:this._handleNext}]}}},{key:"_getName",value:function(){return{defaultValue:this.props.name,placeholder:"Enter an optional name for this import",onChange:this._handleNameChange}}},{key:"_getStrategy",value:function(){return{defaultValue:this.props.strategy,format:i.default,onChange:this._handleStrategyChange,options:[{value:"ignore",title:"Ignore",text:"Ignore duplicate records"},{value:"overwrite",title:"Merge & Overwrite",text:"Merge duplicates, overwriting existing fields with data from import"},{value:"discard",title:"Merge & Discard",text:"Merge duplicates, discarding data that conflicts with existing fields"}]}}},{key:"_handleNameChange",value:function(e){this.props.onUpdateName(e)}},{key:"_handleStrategyChange",value:function(e){this.props.onUpdateStrategy(e)}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleNext",value:function(){var e=this.props,t=e.name,a=e.strategy;this.props.onUpdateImport(this.props.import.id,{stage:"parsing",name:t,strategy:a})}}]),t}(d.default.Component);m.propTypes={defaultValue:u.default.object,primaryKey:u.default.string,name:u.default.string,strategy:u.default.string,import:u.default.object,onBack:u.default.func,onInit:u.default.func,onDone:u.default.func,onUpdateName:u.default.func,onUpdateImport:u.default.func,onUpdateStrategy:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(0)),l=r(a(1));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.title,a=e.text;return n.default.createElement("div",{className:"token"},n.default.createElement("strong",null,t),n.default.createElement("br",null),a)};o.propTypes={text:l.default.text,title:l.default.title},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.updateImport=function(e,t){return{type:"API_REQUEST",method:"PATCH",body:t,endpoint:"/api/admin/imports/"+e,request:"UPDATE_IMPORT_REQUEST",success:"UPDATE_IMPORT_SUCCESS",failure:"UPDATE_IMPORT_FAILURE"}},t.updateName=function(e){return{type:"UPDATE_NAME",name:e}},t.updateStrategy=function(e){return{type:"UPDATE_STRATEGY",strategy:e}}},function(e,t,a){"use strict"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={import:null,error:null,status:"pending",progress:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"PARSE_REQUEST":return(0,n.default)({},e,{status:"parsing"});case"PARSE_FALURE":return(0,n.default)({},e,{status:"failure",error:t.error});case"INIT":return(0,n.default)({},e,{import:t.import});case"SUCCESS":return(0,n.default)({},e,{status:"success",import:t.import});case"FAIL":return(0,n.default)({},e,{status:"failure",error:t.error});case"UPDATE_PROGRESS":return(0,n.default)({},e,{progress:t.progress});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleDone=l._handleDone.bind(l),l._handleProgress=d.default.throttle(l._handleProgress.bind(l),150),l._handleSuccess=l._handleSuccess.bind(l),l._handleFailure=l._handleFailure.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.status;return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"import-parsing"},"parsing"===e&&u.default.createElement(s.Progress,this._getProgress()),"failure"===e&&u.default.createElement(s.Message,this._getErrorMessage())))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.rules,a=e.defaultValue,n=e.primaryKey,l=e.table;this.props.onInit(a),this.props.onParse(a.id,{rules:t,primaryKey:n,table:l})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.status,n=t.onDone;e.status!==a&&("parsing"===a?this._handleJoin():"failure"===a?this._handleLeave():"success"===a&&(this._handleLeave(),n(this.props.import)))}},{key:"_getPanel",value:function(){var e=this.props.status,t={title:"Parsing Import",leftItems:[{icon:"chevron-left",handler:this._handleBack}]};return"ready"===e&&(t.rightItems=[{label:"Next",handler:this._handleDone}]),t}},{key:"_getProgress",value:function(){var e=this.props.progress;return{percent:e?e.completed/e.total*100:0,title:"Parsing your import",label:e?e.completed+"/"+e.total:""}}},{key:"_getErrorMessage",value:function(){return{title:"Parsing Failed",text:"Oh no! Your data was not parsed successfully.",icon:"warning",color:"red",animation:"shake"}}},{key:"_handleJoin",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.join(t),e.subscribe([{target:t,action:"progress",handler:this._handleProgress},{target:t,action:"success",handler:this._handleSuccess},{target:t,action:"failed",handler:this._handleFailure}])}},{key:"_handleLeave",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.leave(t),e.unsubscribe([{target:t,action:"progress",handler:this._handleProgress},{target:t,action:"success",handler:this._handleSuccess},{target:t,action:"failed",handler:this._handleFailure}])}},{key:"_handleProgress",value:function(e){this.props.onUpdateProgress(e)}},{key:"_handleSuccess",value:function(e){this.props.onSuccess(e)}},{key:"_handleFailure",value:function(e){this.props.onFail(e)}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleDone",value:function(){this.props.onDone()}}]),t}(u.default.Component);f.contextTypes={network:i.default.object},f.propTypes={defaultValue:i.default.object,error:i.default.string,import:i.default.object,primaryKey:i.default.string,progress:i.default.object,table:i.default.string,status:i.default.string,onBack:i.default.func,onDone:i.default.func,onFail:i.default.func,onInit:i.default.func,onParse:i.default.func,onSuccess:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.parse=function(e,t){return{type:"API_REQUEST",method:"POST",body:t,endpoint:"/api/admin/imports/"+e+"/parse",request:"PARSE_REQUEST",success:"PARSE_SUCCESS",failure:"PARSE_FAILURE"}},t.success=function(e){return{type:"SUCCESS",import:e}},t.fail=function(e){return{type:"FAIL",error:e}},t.updateProgress=function(e){return{type:"UPDATE_PROGRESS",progress:e}}},function(e,t,a){"use strict"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={import:null,error:null,status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"PARSE_OMITERRORS_REQUEST":return(0,n.default)({},e,{status:"loading"});case"PARSE_OMITERRORS_SUCCESS":return(0,n.default)({},e,{import:t.result.data,status:"success"});case"INIT":return(0,n.default)({},e,{import:t.import});case"FETCH_SUCCESS":return(0,n.default)({},e,{import:t.result.data});case"UPDATE_IMPORT_SUCCESS":return(0,n.default)({},e,{import:t.result.data,status:"saved"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=a(6),i=m(a(1)),u=m(a(0)),d=m(a(56)),c=m(a(472)),f=m(a(473));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleDone=l._handleDone.bind(l),l._handleFetchImport=l._handleFetchImport.bind(l),l._handleFixErrorsButton=l._handleFixErrorsButton.bind(l),l._handleReviewNewButton=l._handleReviewNewButton.bind(l),l._handleRunImportButton=l._handleRunImportButton.bind(l),l._handleSkipAllErrorsButton=l._handleSkipAllErrorsButton.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.import;return e?u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"import-validating"},u.default.createElement("div",{className:"import-validating-success"},u.default.createElement("div",{className:"import-validating-success-title"},"Your import has been parsed!"),u.default.createElement("div",null,"We found..."),u.default.createElement("div",{className:"totals-row"},u.default.createElement("div",{className:"value"},e.valid_count),"new ",(0,d.default)("record",e.valid_count)," that will be created.",e.valid_count>0&&u.default.createElement("div",{className:"button-row"},u.default.createElement(s.Button,this._getReviewNewButton()))),e.error_count>0&&u.default.createElement("div",{className:"totals-row"},u.default.createElement("div",{className:"value"},e.error_count),(0,d.default)("record",e.error_count)," with errors.",e.error_count>0&&u.default.createElement("div",{className:"button-row"},u.default.createElement(s.Button,this._getFixErrorsButton()),u.default.createElement(s.Button,this._getSkipAllErrorsButton()))),e.omit_count>0&&u.default.createElement("div",{className:"totals-row"},u.default.createElement("div",{className:"value"},e.omit_count),(0,d.default)("record",e.omit_count)," will be skipped."),e.duplicate_count>0&&u.default.createElement("div",{className:"totals-row"},u.default.createElement("div",{className:"value"},e.duplicate_count),(0,d.default)("record",e.duplicate_count)," with duplicates that will be ",this._getStrategyString(e.strategy),"."),e.nonunique_count>0&&u.default.createElement("div",{className:"totals-row"},u.default.createElement("div",{className:"value"},e.nonunique_count),"non-unique ",(0,d.default)("record",e.nonunique_count)," within your spreadsheet that will be ignored."),u.default.createElement("br",null),(e.valid_count>0||e.duplicate_count>0&&"ignore"!=e.strategy)&&u.default.createElement(s.Button,this._getRunImportButton())))):null}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.rules,e.defaultValue);this.props.onInit(t)}},{key:"componentWillUnmount",value:function(){this._handleLeave()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.onDone,n=t.status;if(this.props.import&&null===e.import&&this._handleJoin(),!_.isEqual(this.props.import,e.import)&&null!==e.import&&"saved"===n){if("processing"!==this.props.import.stage)return;a(this.props.import)}}},{key:"_getReviewNewButton",value:function(){return{label:"Review new records",handler:this._handleReviewNewButton}}},{key:"_getFixErrorsButton",value:function(){return{label:"Fix errors now",handler:this._handleFixErrorsButton}}},{key:"_getSkipAllErrorsButton",value:function(){return{label:"Skip all errors",handler:this._handleSkipAllErrorsButton}}},{key:"_getRunImportButton",value:function(){return{label:"Run Import Now",className:"run-import ui fluid button",color:"green",handler:this._handleRunImportButton}}},{key:"_getStrategyString",value:function(e){return"ignore"===e?"ignored":"overwrite"===e?"merged (overwritten)":"dischard"===e?"merged (discharded)":"create"===e?"created as new":"handled"}},{key:"_getPanel",value:function(){var e=this.props.status,t={title:"Validating Import",leftItems:[{icon:"chevron-left",handler:this._handleBack}]};return"ready"===e&&(t.rightItems=[{label:"Next",handler:this._handleDone}]),t}},{key:"_getFix",value:function(){return{defaultValue:this.props.import,fields:this.props.fields,onBack:this._handleBack.bind(this),rules:this.props.rules}}},{key:"_getReview",value:function(){return{defaultValue:this.props.import,onBack:this._handleBack}}},{key:"_handleJoin",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.join(t),e.subscribe([{target:t,action:"refresh",handler:this._handleFetchImport}])}},{key:"_handleLeave",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.leave(t),e.unsubscribe([{target:t,action:"refresh",handler:this._handleFetchImport}])}},{key:"_handleFetchImport",value:function(){var e=this.props.import.id;this.props.onFetch(e)}},{key:"_handleFixErrorsButton",value:function(){this.props.onPushCard(f.default,this._getFix.bind(this))}},{key:"_handleSkipAllErrorsButton",value:function(){this.props.onOmitErrors(this.props.import.id)}},{key:"_handleReviewNewButton",value:function(){this.props.onPushCard(c.default,this._getReview.bind(this))}},{key:"_handleRunImportButton",value:function(){(0,this.props.onUpdateImport)(this.props.import.id,{stage:"processing"})}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleDone",value:function(){this.props.onDone()}}]),t}(u.default.Component);p.contextTypes={network:i.default.object},p.propTypes={defaultValue:i.default.object,error:i.default.string,import:i.default.object,fields:i.default.array,rules:i.default.object,status:i.default.string,onBack:i.default.func,onDone:i.default.func,onFail:i.default.func,onInit:i.default.func,onOmitErrors:i.default.func,onPushCard:i.default.func,onSetImport:i.default.func,onSuccess:i.default.func,onUpdateImport:i.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={index:0,status:"loading",import:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"INIT":return(0,n.default)({},e,{import:t.import});case"PREVIOUS":return(0,n.default)({},e,{index:e.index>0?e.index-1:0});case"NEXT":return(0,n.default)({},e,{index:e.index<e.import.valid_count-1?e.index+1:e.index});case"FETCH_REQUEST":return(0,n.default)({},e,{status:"loading"});case"FETCH_FAILURE":return(0,n.default)({},e,{status:"failure"});case"FETCH_SUCCESS":return(0,n.default)({},e,{import_items:t.result.data,status:"success"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),l._handleNext=l._handleNext.bind(l),l._handlePrevious=l._handlePrevious.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.import_items,n=e.status,l=this.props.import?this.props.import.mapping:{},r=a?a[t]:null;return u.default.createElement(s.ModalPanel,this._getPanel(),a&&u.default.createElement("div",{className:"maha-import-review"},"loading"===n&&u.default.createElement(s.Loader,this._getLoader()),("loaded"===n||"success"===n)&&u.default.createElement("div",null,u.default.createElement("div",{className:"maha-import-review-pager"},u.default.createElement("div",{className:"maha-import-review-pager-item"},t>0?u.default.createElement("div",{className:"ui green tiny fluid button",onClick:this._handlePrevious},u.default.createElement("i",{className:"fa fa-fw fa-chevron-left"})):u.default.createElement("div",{className:"ui tiny fluid button disabled"},u.default.createElement("i",{className:"fa fa-fw fa-chevron-left"}))),u.default.createElement("div",{className:"maha-import-review-pager-item"},u.default.createElement("label",null,"Record Number: ",t+1)),u.default.createElement("div",{className:"maha-import-review-pager-item"},t<this.props.import.valid_count-1?u.default.createElement("div",{className:"ui green tiny fluid button",onClick:this._handleNext},u.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})):u.default.createElement("div",{className:"ui tiny fluid button disabled"},u.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))),u.default.createElement("div",{className:"maha-import-review-body"},u.default.createElement("table",{className:"maha-import-review-record"},u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Record ID:"),u.default.createElement("td",null,r.id)),Object.keys(r.values).map(function(e,t){return u.default.createElement("tr",{key:"property_"+t},u.default.createElement("th",null,e),u.default.createElement("td",null,"upload"==_.find(l,["field",e]).type&&u.default.createElement("div",{className:"image-preview"},u.default.createElement("img",{src:r.values[e],alt:"Preview of image to be uploaded"}),u.default.createElement("span",null,"Preview")),r.values[e]))})))))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onFetch,a=e.onInit,n=e.defaultValue;a(n),t(n.id)}},{key:"_getPanel",value:function(){return{title:"Review New Import Records",rightItems:[{label:"Done",handler:this._handleDone}]}}},{key:"_getLoader",value:function(){return{label:"Loading new records..."}}},{key:"_displayFieldValue",value:function(e,t){return"upload"!=t?e:e+'<br /><img src="'+e+'" />'}},{key:"_handleDone",value:function(){this.props.onBack()}},{key:"_handlePrevious",value:function(){(0,this.props.onPrevious)()}},{key:"_handleNext",value:function(){(0,this.props.onNext)()}}]),t}(u.default.Component);c.propTypes={defaultValue:i.default.object,index:i.default.number,import:i.default.object,import_items:i.default.array,record:i.default.array,status:i.default.string,onBack:i.default.func,onFetch:i.default.func,onInit:i.default.func,onNext:i.default.func,onPrevious:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.previous=function(){return{type:"PREVIOUS"}},t.next=function(){return{type:"NEXT"}},t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports/"+e+"/items",query:{$filter:{is_duplicate:{$eq:"false"},is_omitted:{$eq:"false"},is_nonunique:{$eq:"false"},is_valid:{$eq:"true"}}},request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={index:0,status:"loading",do:"",import:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"INIT":return(0,n.default)({},e,{import:t.import});case"PREVIOUS":return(0,n.default)({},e,{do:"",index:e.index>0?e.index-1:0});case"NEXT":return(0,n.default)({},e,{do:"",index:e.index<e.import.error_count-1?e.index+1:0});case"CLEAR_DO":return(0,n.default)({},e,{do:""});case"INDEX_RESET":return(0,n.default)({},e,{index:0});case"FETCH_REQUEST":return(0,n.default)({},e,{status:"loading"});case"FETCH_FAILURE":return(0,n.default)({},e,{status:"failure"});case"FETCH_SUCCESS":return(0,n.default)({},e,{import_items:t.result.data,status:"success"});case"FIX_OMIT_SUCCESS":return(0,n.default)({},e,{import:t.result.data,status:"success",do:"next"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(14)),l=m(a(7)),r=m(a(10)),o=m(a(2)),s=m(a(3)),i=m(a(4)),u=m(a(5)),d=a(6),c=m(a(1)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,l;(0,o.default)(this,t);for(var r=arguments.length,s=Array(r),u=0;u<r;u++)s[u]=arguments[u];return a=n=(0,i.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._handleCancel=n._handleCancel.bind(n),n._handleDone=n._handleDone.bind(n),n._handleFetchImportItems=n._handleFetchImportItems.bind(n),n._handlePrevious=n._handlePrevious.bind(n),n._handleNext=n._handleNext.bind(n),n._handleSuccess=n._handleSuccess.bind(n),l=a,(0,i.default)(n,l)}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.import_items,n=e.status,l=a?a[t]:null;return console.log("record is ",l),f.default.createElement(d.ModalPanel,this._getPanel(),l&&f.default.createElement("div",{className:"maha-import-review"},"loading"===n&&f.default.createElement(d.Loader,this._getLoader()),("loaded"===n||"success"===n)&&f.default.createElement("div",null,f.default.createElement("div",{className:"maha-import-review-pager"},f.default.createElement("div",{className:"maha-import-review-pager-item"},t>0?f.default.createElement("div",{className:"ui green tiny fluid button",onClick:this._handlePrevious},f.default.createElement("i",{className:"fa fa-fw fa-chevron-left"})):f.default.createElement("div",{className:"ui tiny fluid button disabled"},f.default.createElement("i",{className:"fa fa-fw fa-chevron-left"}))),f.default.createElement("div",{className:"maha-import-review-pager-item"},f.default.createElement("label",null,"Record Number: ",t+1," of ",a.length-1)),f.default.createElement("div",{className:"maha-import-review-pager-item"},t<a.length-1?f.default.createElement("div",{className:"ui green tiny fluid button",onClick:this._handleNext},f.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})):f.default.createElement("div",{className:"ui tiny fluid button disabled"},f.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))),f.default.createElement("div",{className:"maha-import-review-body"},f.default.createElement("table",{className:"maha-import-preview-record"},f.default.createElement("tbody",null,_.map(l.values,function(e,t){return f.default.createElement("tr",{key:"property_"+t},f.default.createElement("th",null,t),f.default.createElement("td",null,e))}))),f.default.createElement("div",{className:"button-row"},f.default.createElement(d.Button,this._getSkipRecordButton(l.id)),f.default.createElement(d.Button,this._getEditRecordButton(l.id)))))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.onFetch,a=e.onInit,n=e.defaultValue;a(n),t(n.id)}},{key:"componentWillUnmount",value:function(){var e=this.props;e.status,e.import_items;this._handleLeave()}},{key:"componentDidUpdate",value:function(e){this.props.import&&null===e.import&&this._handleJoin(),"next"==this.props.do&&(this.props.onClearDo(),this._handleNext())}},{key:"_getEditRecordButton",value:function(e){return{label:"Edit Record",handler:this._handleEditRecordButton.bind(this,e)}}},{key:"_getSkipRecordButton",value:function(e){return{label:"Skip Record",handler:this._handleSkipRecordButton.bind(this,e)}}},{key:"_handleEditRecordButton",value:function(e){var t=this;console.log("in handleEditRecordButton -",this._getForm(e)),this.context.modal.push(function(){return f.default.createElement(d.Form,t._getForm(e))})}},{key:"_handleSkipRecordButton",value:function(e){this.props.onOmitRecord(this.props.import.id,e)}},{key:"_getForm",value:function(e){var t=this;return{title:"Edit Import Record",method:"patch",endpoint:"/api/admin/imports/"+this.props.import.id+"/items/"+e+"/edit",action:"/api/admin/imports/"+this.props.import.id+"/items/"+e+"/fix",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[].concat((0,r.default)(this.props.fields.map(function(e){return(0,l.default)({},e,{name:"values."+e.name})})),[{name:"rules",type:"hidden",defaultValue:Object.keys(this.props.rules).reduce(function(e,a){return(0,l.default)({},e,(0,n.default)({},"values."+a,t.props.rules[a]))},{})}])}]}}},{key:"_handleCancel",value:function(){this.context.modal.pop()}},{key:"_handleSuccess",value:function(){this.context.modal.pop(),this.props.onIndexReset()}},{key:"_getPanel",value:function(){return{title:"Fix Records with Errors",rightItems:[{label:"Done",handler:this._handleDone}]}}},{key:"_getLoader",value:function(){return{label:"Loading invalid records..."}}},{key:"_handleJoin",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.join(t),e.subscribe([{target:t,action:"refresh",handler:this._handleFetchImportItems}])}},{key:"_handleLeave",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.leave(t),e.unsubscribe([{target:t,action:"refresh",handler:this._handleFetchImportItems}])}},{key:"_handleFetchImportItems",value:function(){(0,this.props.onFetch)(this.props.import.id)}},{key:"_handleDone",value:function(){this.props.onBack()}},{key:"_handlePrevious",value:function(){(0,this.props.onPrevious)()}},{key:"_handleNext",value:function(){var e=this.props,t=e.onNext;e.index;this.props.import.error_count>0?t():this.props.onBack()}}]),t}(f.default.Component);p.propTypes={do:c.default.string,defaultValue:c.default.object,index:c.default.number,import:c.default.object,import_items:c.default.array,fields:c.default.array,record:c.default.array,rules:c.default.object,status:c.default.string,onBack:c.default.func,onFetch:c.default.func,onInit:c.default.func,onNext:c.default.func,onPrevious:c.default.func},p.defaultValues={do:""},p.contextTypes={modal:c.default.object,network:c.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.previous=function(){return{type:"PREVIOUS"}},t.next=function(){return{type:"NEXT"}},t.clearDo=function(){return{type:"CLEAR_DO"}},t.indexReset=function(){return{type:"INDEX_RESET"}},t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports/"+e+"/items",query:{$filter:{is_valid:{$eq:"false"},is_omitted:{$eq:"false"}}},request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.omitRecord=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:"/api/admin/imports/"+e+"/items/"+t+"/omit",request:"FIX_OMIT_REQUEST",success:"FIX_OMIT_SUCCESS",failure:"FIX_OMIT_FAILURE"}}},function(e,t,a){"use strict"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/imports/"+e,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.omitErrors=function(e){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/imports/"+e+"/omiterrors",request:"PARSE_OMITERRORS_REQUEST",success:"PARSE_OMITERRORS_SUCCESS",failure:"PARSE_OMITERRORS_FAILURE"}},t.updateImport=function(e,t){return{type:"API_REQUEST",method:"PATCH",body:t,endpoint:"/api/admin/imports/"+e,request:"UPDATE_IMPORT_REQUEST",success:"UPDATE_IMPORT_SUCCESS",failure:"UPDATE_IMPORT_FAILURE"}}},function(e,t,a){"use strict";a(12)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={import:null,error:null,status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"INIT":return(0,n.default)({},e,{import:t.import});case"PROCESS_REQUEST":case"PROCESS_SUCCESS":return(0,n.default)({},e,{status:"processing"});case"SUCCESS":return(0,n.default)({},e,{status:"success"});case"FAIL":return(0,n.default)({},e,{status:"failure"});case"SET_IMPORT":return(0,n.default)({},e,{import:t.import});case"PROCESS_IMPORT_FAILURE":return(0,n.default)({},e,{status:"failure"});case"UPDATE_IMPORT_REQUEST":case"UPDATE_IMPORT_FAILURE":return(0,n.default)({},e);case"UPDATE_IMPORT_SUCCESS":return(0,n.default)({},e,{import:t.result.data});case"UPDATE_PROGRESS":return(0,n.default)({},e,{import:t.import});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleDone=l._handleDone.bind(l),l._handleProgress=l._handleProgress.bind(l),l._handleSuccess=l._handleSuccess.bind(l),l._handleFailure=l._handleFailure.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.status;return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"import-processing"},"processing"===e&&u.default.createElement(s.Progress,this._getProgress()),"failure"===e&&u.default.createElement(s.Message,this._getErrorMessage())))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onInit,n=e.onProcess,l=e.destination,r=e.defaultParams,o=e.primaryKey,s=e.table;a(t);var i=l?l(t.id):null;n(t.id,{destination_url:i,defaultParams:r,primaryKey:o,table:s})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.status,n=t.onUpdateImport,l=t.onDone;e.status!==a&&("processing"===a?this._handleJoin():"failure"===a?(n(this.props.import.id,{stage:"validating"}),this._handleLeave()):"success"===a&&(this._handleLeave(),this.props.import.stage="finalizing",l(this.props.import)))}},{key:"componentWillUnmount",value:function(){this._handleLeave()}},{key:"_getErrorMessage",value:function(){return{title:"Import Failed",text:"Oh no! Your data was not imported successfully. Please double-check your spreadsheet and try again or ask for help from support@mahaplatform.com.",icon:"warning",color:"red",animation:"shake"}}},{key:"_getPanel",value:function(){this.props.status;return{title:"Processing Import",leftItems:[{icon:"chevron-left",handler:this._handleBack}]}}},{key:"_getProgress",value:function(){var e=this.props.import;return{percent:e&&e.completed_count?e.completed_count/e.valid_count*100:0,title:"Processing your import",label:e&&e.completed_count?e.completed_count+"/"+e.valid_count:""}}},{key:"_handleJoin",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.join(t),e.subscribe([{target:t,action:"progress",handler:this._handleProgress},{target:t,action:"success",handler:this._handleSuccess},{target:t,action:"failed",handler:this._handleFailure}])}},{key:"_handleLeave",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.leave(t),e.unsubscribe([{target:t,action:"progress",handler:this._handleProgress},{target:t,action:"success",handler:this._handleSuccess},{target:t,action:"failed",handler:this._handleFailure}])}},{key:"_handleProgress",value:function(e){this.props.onUpdateProgress(e)}},{key:"_handleSuccess",value:function(e){this.props.onSuccess(e)}},{key:"_handleFailure",value:function(e){this.props.onFail(e)}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleDone",value:function(){}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object,network:i.default.object},c.propTypes={defaultParams:i.default.object,defaultValue:i.default.object,destination:i.default.func,fields:i.default.array,import:i.default.object,progress:i.default.object,primaryKey:i.default.string,table:i.default.string,status:i.default.string,onBack:i.default.func,onDone:i.default.func,onInit:i.default.func,onProcess:i.default.func,onUpdateImport:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}},t.process=function(e,t){return{type:"API_REQUEST",method:"POST",body:t,endpoint:"/api/admin/imports/"+e+"/process",request:"PROCESS_REQUEST",success:"PROCESS_SUCCESS",failure:"PROCESS_FAILURE"}},t.success=function(e){return{type:"SUCCESS",import:e}},t.fail=function(e){return{type:"FAIL",error:e}},t.updateImport=function(e,t){return{type:"API_REQUEST",method:"PATCH",body:t,endpoint:"/api/admin/imports/"+e,request:"UPDATE_IMPORT_REQUEST",success:"UPDATE_IMPORT_SUCCESS",failure:"UPDATE_IMPORT_FAILURE"}},t.updateProgress=function(e){return{type:"UPDATE_PROGRESS",import:e}}},function(e,t,a){"use strict";a(12)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={import:null,status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"INIT":return(0,n.default)({},e,{import:t.import});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=(a(6),u(a(1))),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){this.props.status;var e=this.props.finalizeComponent;return i.default.createElement(e,this._getFinalizeComponent())}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue;(0,e.onInit)(t)}},{key:"componentDidUpdate",value:function(e){}},{key:"_getFinalizeComponent",value:function(){var e=this.props.status;return{import:this.props.import,status:e,onDone:this._handleDone}}},{key:"_handleDone",value:function(){var e=this.props,t=(e.status,e.onDone);this.props.import.stage="complete",t(this.props.import)}}]),t}(i.default.Component);d.propTypes={destination:s.default.func,finalizeComponent:s.default.any,import:s.default.object,status:s.default.string,onBack:s.default.func,onDone:s.default.func},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e){return{type:"INIT",import:e}}},function(e,t,a){"use strict";a(12)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.INITIAL_STATE={status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return arguments[1].type,e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"import-complete"},u.default.createElement(s.Message,this._getSuccessMessage())))}},{key:"componentDidMount",value:function(){}},{key:"_getSuccessMessage",value:function(){var e=this,t=this.props.destination;return{title:"Import Successful!",text:"Great job! Your data was imported successfully.",icon:"check",color:"green",animation:"tada",button:{label:"Go to records",handler:function(){if(t){var a=e.props.destination(e.props.import.id);e.context.router.replace(a)}e.context.modal.close()}}}}},{key:"_getPanel",value:function(){this.props.status;return{title:"Import Complete",rightItems:[{label:"Done",handler:this._handleDone}]}}},{key:"_handleDone",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},c.propTypes={destination:i.default.func,import:i.default.object,onDone:i.default.func},t.default=c},function(e,t,a){"use strict"},function(e,t,a){"use strict";a(12)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.pushCard=function(e){return{type:"PUSH_CARD",card:e}},t.popCard=function(){return{type:"POP_CARD"}},t.setImport=function(e){return{type:"SET_IMPORT",import:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(8)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.id,a=e.user,n=e.created_at;return r.default.createElement("div",{className:"token"},r.default.createElement("strong",null,"Import #",t),r.default.createElement("br",null),a.full_name," on",(0,l.default)(n).format("MM/DD/YYYY"))};s.propTypes={created_at:n.default.object,id:n.default.number,user:n.default.object},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o={reviews:[],editing:null,q:"",q_saved:"",status:"pending",score:0,score_saved:0,typing:null,hidden:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"SET_TYPING":return function(e,t){return(0,l.default)({},e,{typing:t.typing})}(e,t);case"SHOW_MORE":return function(e,t){return(0,l.default)({},e,{hidden:0})}(e);case"TYPE":return function(e,t){return(0,l.default)({},e,{q:t.q})}(e,t);case"RATE":return function(e,t){return(0,l.default)({},e,{score:t.score})}(e,t);case"BEGIN_EDIT":return function(e,t){return(0,l.default)({},e,{editing:t.uid,q:t.q})}(e,t);case"CANCEL_EDIT":return function(e,t){return(0,l.default)({},e,{editing:null,q:""})}(e);case"CREATE_REQUEST":return function(e,t){return(0,l.default)({},e,{q:"",q_saved:e.q,score:0,score_saved:e.score,reviews:[].concat((0,n.default)(e.reviews),[t.review])})}(e,t);case"CREATE_FAILURE":return function(e,t){return(0,l.default)({},e,{q:e.q_saved,q_saved:"",score:e.score_saved,score_saved:0,reviews:[].concat((0,n.default)(e.reviews.filter(function(e){return e.uid!==t.review.uid})))})}(e,t);case"CREATE_SUCCESS":return function(e,t){return(0,l.default)({},e,{q:"",q_saved:"",score:0,score_saved:0})}(e);case"LOAD_REQUEST":return function(e,t){return(0,l.default)({},e,{status:"loading"})}(e);case"LOAD_FAILURE":return function(e,t){return(0,l.default)({},e,{status:"failed"})}(e);case"LOAD_SUCCESS":return function(e,t){return(0,l.default)({},e,{status:"loaded",reviews:t.result.data,hidden:t.result.data.length-4})}(e,t);case"UPDATE_REQUEST":return function(e,t){return(0,l.default)({},e,{editing:null,q:"",q_saved:e.q,score:0,score_saved:e.score,reviews:[].concat((0,n.default)(e.reviews.map(function(e){return e.uid!==t.review.uid?e:(0,l.default)({},e,{text:t.review.text,updated_at:t.review.updated_at})})))})}(e,t);case"UPDATE_FAILURE":return function(e,t){return(0,l.default)({},e,{editing:t.review.uid,q:e.q_saved,q_saved:"",score:e.score_saved,score_saved:0,reviews:[].concat((0,n.default)(e.reviews.map(function(a){return a.uid!==t.review.uid?a:(0,l.default)({},a,{text:e.text})})))})}(e,t);case"UPDATE_SUCCESS":return function(e,t){return(0,l.default)({},e,{q:"",q_saved:"",score:0,score_saved:0})}(e);case"DESTROY_REQUEST":return function(e,t){return(0,l.default)({},e,{reviews:[].concat((0,n.default)(e.reviews.filter(function(e){return e.uid!==t.review.uid})))})}(e,t);case"ADD":return function(e,t){return(0,l.default)({},e,{reviews:[].concat((0,n.default)(e.reviews.filter(function(e){return e.uid!==t.review.uid})),[t.review])})}(e,t);case"REPLACE":return function(e,t){return(0,l.default)({},e,{reviews:[].concat((0,n.default)(e.reviews.map(function(e){return e.uid!==t.review.uid?e:t.review})))})}(e,t);case"REMOVE":return function(e,t){return(0,l.default)({},e,{reviews:[].concat((0,n.default)(e.reviews.filter(function(e){return e.uid!==t.uid})))})}(e,t);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(a(7)),l=y(a(2)),r=y(a(3)),o=y(a(4)),s=y(a(5)),i=y(a(187)),u=y(a(478)),d=y(a(479)),c=y(a(1)),f=y(a(56)),m=y(a(25)),p=y(a(1146)),h=y(a(8)),_=y(a(0)),v=y(a(9));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancelEdit=n._handleCancelEdit.bind(n),n._handleCreate=n._handleCreate.bind(n),n._handleNotification=n._handleNotification.bind(n),n._handleRate=n._handleRate.bind(n),n._handleShowMore=n._handleShowMore.bind(n),n._handleType=n._handleType.bind(n),n._handleUpdate=n._handleUpdate.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.reviews,n=t.editing,l=t.hidden,r=t.status,o=t.typing,s=this.context.admin;if("loading"===r)return _.default.createElement("div",{className:"maha-comments message"},_.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin"}),_.default.createElement("br",null),"Loading reviews...");if("failed"===r)return _.default.createElement("div",{className:"maha-comments message"},_.default.createElement("i",{className:"fa fa-warning"}),_.default.createElement("br",null),"Unable to load reviews");var c=a.length,v=a.reduce(function(e,t){return e+t.score},0),y=c>0?v/c:0;return _.default.createElement("div",{className:"maha-comments"},_.default.createElement("div",{className:"maha-comments-summary"},_.default.createElement(d.default,{score:y,count:c})),l>0&&_.default.createElement("div",{className:"maha-comments-more",onClick:this._handleShowMore},"View ",l," more ",(0,f.default)("review",l)),a.sort(function(e,t){return e.created_at>t.created_at?1:e.created_at<t.created_at?-1:0}).map(function(t,a){if(!(a<l)){var r=Math.min(Math.max(t.score,0),5);return _.default.createElement("div",{className:"maha-comment",key:"review_"+a},_.default.createElement("div",{className:"maha-comment-user"},_.default.createElement(m.default,{user:t.user})),_.default.createElement("div",{className:"maha-comment-bubble"},t.uid===n?_.default.createElement("div",{className:"maha-comment-form"},_.default.createElement(p.default,e._getEditRating(t)),_.default.createElement("div",{className:"maha-comment-field"},_.default.createElement(u.default,e._getEditTextarea(t)))):_.default.createElement("div",{className:"maha-comment-text"},_.default.createElement("div",{className:"maha-comment-header"},_.default.createElement(i.default,{score:r}),_.default.createElement("div",{className:"maha-comment-author"},t.user.full_name),_.default.createElement("div",{className:"maha-comment-timestamp"},(0,h.default)(t.created_at).format("MMM D @ hh:mm A"))),_.default.createElement("div",{className:"maha-comment-body"},_.default.createElement("span",{dangerouslySetInnerHTML:{__html:t.text.replace(/\n/g,"<br />")}})))),!n&&t.user.id===s.user.id&&_.default.createElement("div",{className:"maha-comment-actions"},_.default.createElement("div",{className:"maha-comment-action",onClick:e._handleEdit.bind(e,t)},_.default.createElement("i",{className:"fa fa-fw fa-pencil"})),_.default.createElement("div",{className:"maha-comment-action",onClick:e._handleRemove.bind(e,t)},_.default.createElement("i",{className:"fa fa-fw fa-trash"}))))}}),o&&_.default.createElement("div",{className:"maha-comment"},_.default.createElement("div",{className:"maha-comment-user"},_.default.createElement(m.default,{user:o})),_.default.createElement("div",{className:"maha-comment-bubble"},_.default.createElement("div",{className:"maha-comment-typing"},o.full_name," is typing"))),!n&&_.default.createElement("div",{className:"maha-comment"},_.default.createElement("div",{className:"maha-comment-user"},_.default.createElement(m.default,{user:s.user})),_.default.createElement("div",{className:"maha-comment-bubble"},_.default.createElement("div",{className:"maha-comment-form"},_.default.createElement(p.default,this._getCreateRating()),_.default.createElement("div",{className:"maha-comment-field"},_.default.createElement(u.default,this._getCreateTextarea()))))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.entity,a=e.onLoad,n=this.context.network;a("/api/admin/"+t+"/reviews"),n.join("/admin/"+t+"/reviews"),n.subscribe([{target:"/admin/"+t+"/reviews",action:"refresh",handler:this._handleNotification}])}},{key:"componentDidUpdate",value:function(e){var t=this.context,a=t.admin,n=t.network,l=this.props,r=l.entity,o=l.q,s="/admin/"+r+"/reviews";o.length>0&&0===e.q.length&&n.message(s,a.team.token,{action:"beginType",user:a.user}),0===o.length&&e.q.length>0&&n.message(s,a.team.token,{action:"endType",user:a.user})}},{key:"componentWillUnmount",value:function(){var e=this.props.entity,t=this.context.network;t.leave("/admin/"+e+"/reviews"),t.unsubscribe([{target:"/admin/"+e+"/reviews",action:"refresh",handler:this._handleNotification}])}},{key:"_getCreateRating",value:function(){return{defaultValue:this.props.score,onChange:this._handleRate}}},{key:"_getEditRating",value:function(e){return{defaultValue:this.props.score,onChange:this._handleRate}}},{key:"_getCreateTextarea",value:function(){return{defaultValue:this.props.q,placeholder:this.props.placeholder,onEnter:this._handleCreate,onChange:this._handleType}}},{key:"_getEditTextarea",value:function(e){return{autofocus:!0,defaultValue:this.props.q,placeholder:this.props.placeholder,onEsc:this._handleCancelEdit,onEnter:this._handleUpdate,onChange:this._handleType}}},{key:"_handleShowMore",value:function(){this.props.onShowMore()}},{key:"_handleClick",value:function(){if(this.props.editing)return this._handleUpdate(this.props.q);this._handleCreate(this.props.q)}},{key:"_handleType",value:function(e){this.props.onType(e)}},{key:"_handleRate",value:function(e){this.props.onRate(e)}},{key:"_handleCreate",value:function(e){var t=this.context.admin,a=this.props,n=a.entity,l=a.score,r=a.onCreate;v.default.isEmpty(e)||0===l||r("/api/admin/"+n+"/reviews",{user:t.user,uid:v.default.random(1e8,999999999).toString(36),score:l,text:e,created_at:(0,h.default)().utc().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z",updated_at:(0,h.default)().utc().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z"})}},{key:"_handleUpdate",value:function(e){var t=this.props,a=t.entity,l=t.editing,r=t.reviews,o=t.score,s=t.onUpdate;v.default.isEmpty(e)||0===o||s("/api/admin/"+a+"/reviews/"+l,(0,n.default)({},v.default.find(r,{uid:l}),{score:o,text:e,updated_at:(0,h.default)().utc().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z"}))}},{key:"_handleNotification",value:function(e){"add"===e.action&&this._handleAddNotifcation(e.review),"remove"===e.action&&this._handleRemoveNotifcation(e.uid),"replace"===e.action&&this._handleReplaceNotifcation(e.review),"beginType"===e.action&&this._handleBeginType(e.user),"endType"===e.action&&this._handleEndType(e.user)}},{key:"_handleAddNotifcation",value:function(e){(0,this.props.onAdd)(e)}},{key:"_handleRemoveNotifcation",value:function(e){(0,this.props.onRemove)(e)}},{key:"_handleReplaceNotifcation",value:function(e){(0,this.props.onReplace)(e)}},{key:"_handleBeginType",value:function(e){var t=this.props.onSetTyping;this.context.admin.user.id!==e.id&&t(e)}},{key:"_handleEndType",value:function(e){this.props.onSetTyping(null)}},{key:"_handleEdit",value:function(e){(0,this.props.onBeginEdit)(e.text,e.uid)}},{key:"_handleCancelEdit",value:function(){(0,this.props.onCancelEdit)()}},{key:"_handleRemove",value:function(e){var t=this.props,a=t.entity;(0,t.onDestroy)("/api/admin/"+a+"/reviews/"+e.uid,e)}}]),t}(_.default.Component);g.contextTypes={admin:c.default.object,network:c.default.object},g.propTypes={action:c.default.string,editing:c.default.string,endpoint:c.default.string,entity:c.default.string,hidden:c.default.number,placeholder:c.default.string,q:c.default.string,reviews:c.default.array,score:c.default.number,status:c.default.string,typing:c.default.object,onAdd:c.default.func,onBeginEdit:c.default.func,onCancelEdit:c.default.func,onCreate:c.default.func,onDestroy:c.default.func,onRemove:c.default.func,onLoad:c.default.func,onRate:c.default.func,onReplace:c.default.func,onSetTyping:c.default.func,onShowMore:c.default.func,onType:c.default.func,onUpdate:c.default.func},g.defaultProps={placeholder:"Write a review..."},t.default=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return arguments[1].type,e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=f(a(0)),d=f(a(9)),c=f(a(451));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={q:"",height:32,emojis:!1},n._handleEsc=n._handleEsc.bind(n),n._handleEnter=n._handleEnter.bind(n),n._handleToggleEmojis=n._handleToggleEmojis.bind(n),n._handleType=n._handleType.bind(n),n._handleUpdate=n._handleUpdate.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.state.emojis;return u.default.createElement("div",{className:"maha-richtextfield"},u.default.createElement("div",{className:"maha-richtextfield-input"},u.default.createElement("textarea",(0,n.default)({placeholder:this.props.placeholder},this._getInput()))),u.default.createElement("div",{className:"maha-richtextfield-tools"},u.default.createElement("i",{className:"fa fa-smile-o",onClick:this._handleToggleEmojis}),u.default.createElement("i",{className:"fa fa-camera"})),e&&u.default.createElement(c.default,this._getEmojis()))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.autofocus,a=e.defaultValue;a&&this.setState({q:a}),t&&this.textarea.focus()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.defaultValue;if(this.state.q!==t.q){var n=this.textarea.scrollHeight;n!==this.state.height&&this.setState({height:n})}a!==e.defaultValue&&this.setState({q:a})}},{key:"_getEmojis",value:function(){return{onChange:this._handleUpdate}}},{key:"_handleUpdate",value:function(e){var t=this.state.q+e;this.setState({q:t})}},{key:"_getInput",value:function(){var e=this,t=this.state,a=t.q,n=t.height;return{ref:function(t){return e.textarea=t},onKeyDown:this._handleEsc,onKeyPress:this._handleEnter,onChange:this._handleType,value:a,style:{height:n}}}},{key:"_handleToggleEmojis",value:function(){this.setState({emojis:!this.state.emojis})}},{key:"_handleEsc",value:function(e){if(27===e.keyCode)return this.props.onEsc(),e.preventDefault(),!1}},{key:"_handleEnter",value:function(e){if("Enter"===e.key&&!e.shiftKey&&!d.default.isEmpty(e.target.value))return this.props.onEnter(e.target.value),e.preventDefault(),!1}},{key:"_handleType",value:function(e){var t=e.target.value;this.setState({q:t}),this.props.onChange(t)}},{key:"_handleReset",value:function(){this.setState({q:"",height:32})}},{key:"_handleClear",value:function(){this.setState({q:""})}}]),t}(u.default.Component);m.propTypes={autofocus:i.default.bool,defaultValue:i.default.string,placeholder:i.default.string,onChange:i.default.func,onEsc:i.default.func,onEnter:i.default.func,onType:i.default.func},m.defaultProps={autofocus:!1,onChange:function(e){},onEsc:function(e){},onEnter:function(e){},onType:function(e){}},t.default=m},function(e,t,a){"use strict"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={score:0},r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.state.score;return u.default.createElement("div",{className:"maha-review-control"},[].concat((0,n.default)(Array(t))).map(function(t,a){return u.default.createElement("i",{className:"fa fa-star",key:"review_full_"+a,onClick:e._handleClick.bind(e,a+1)})}),[].concat((0,n.default)(Array(5-t))).map(function(a,n){return u.default.createElement("i",{className:"fa fa-star-o",key:"review_empty_"+n,onClick:e._handleClick.bind(e,t+n+1)})}))}},{key:"componentDidMount",value:function(){var e=this.props.defaultValue;d.default.isNil(e)||this.setState({score:e})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.defaultValue,n=this.state.score;n!==t.score&&this.props.onChange(n),a!==e.defaultValue&&this.setState({score:a})}},{key:"_handleClick",value:function(e){this.setState({score:e})}}]),t}(u.default.Component);f.propTypes={defaultValue:i.default.number,onChange:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setTyping=function(e){return{type:"SET_TYPING",typing:e}},t.showMore=function(){return{type:"SHOW_MORE"}},t.type=function(e){return{type:"TYPE",q:e}},t.rate=function(e){return{type:"RATE",score:e}},t.load=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,request:"LOAD_REQUEST",success:"LOAD_SUCCESS",failure:"LOAD_FAILURE"}},t.create=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:e,body:{score:t.score,text:t.text,uid:t.uid},meta:{review:t},request:"CREATE_REQUEST",success:"CREATE_SUCCESS",failure:"CREATE_FAILURE"}},t.update=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:e,body:{score:t.score,text:t.text},meta:{review:t},request:"UPDATE_REQUEST",success:"UPDATE_SUCCESS",failure:"UPDATE_FAILURE"}},t.destroy=function(e,t){return{type:"API_REQUEST",method:"DELETE",endpoint:e,meta:{review:t},request:"DESTROY_REQUEST",success:"DESTROY_SUCCESS",failure:"DESTROY_FAILURE"}},t.beginEdit=function(e,t){return{type:"BEGIN_EDIT",q:e,uid:t}},t.cancelEdit=function(){return{type:"CANCEL_EDIT"}},t.add=function(e){return{type:"ADD",review:e}},t.replace=function(e){return{type:"REPLACE",review:e}},t.remove=function(e){return{type:"REMOVE",uid:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={uploads:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"PROGRESS":return(0,l.default)({},e,{progress:t.progress});case"ADD_UPLOAD":return(0,l.default)({},e,{uploads:[].concat((0,n.default)(e.uploads),[(0,l.default)({},t.file,{status:"added",progress:0,asset:null})])});case"UPDATE_UPLOAD_PROGRESS":return(0,l.default)({},e,{uploads:e.uploads.map(function(e){return e.file.uniqueIdentifier===t.uniqueIdentifier?(0,l.default)({},e,{status:"uploading",progress:Math.floor(100*t.progress)}):e})});case"UPDATE_UPLOAD":return(0,l.default)({},e,{uploads:e.uploads.map(function(e){return e.file.uniqueIdentifier===t.uniqueIdentifier?(0,l.default)({},e,t.meta):e})});case"REMOVE_UPLOAD":var a=r.default.findIndex(e.uploads,{uniqueIdentifier:t.file.uniqueIdentifier});return(0,l.default)({},e,{uploads:[].concat((0,n.default)(e.uploads.slice(0,a)),(0,n.default)(e.uploads.slice(a+1)))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=a(21),i=a(6),u=p(a(401)),d=p(a(1)),c=p(a(154)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.handler=null,l._handleAddUpload=l._handleAddUpload.bind(l),l._handleAssignDrop=l._handleAssignDrop.bind(l),l._handleBrowse=l._handleBrowse.bind(l),l._handleProcessSuccess=l._handleProcessSuccess.bind(l),l._handleUpdateUploadProgress=l._handleUpdateUploadProgress.bind(l),l._handleUploadSuccess=l._handleUploadSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.uploads;return f.default.createElement("div",{className:"maha-uploader"},this.props.children,f.default.createElement(s.CSSTransition,{in:t.length>0,classNames:"expanded",timeout:150,mountOnEnter:!0,unmountOnExit:!0},f.default.createElement("div",{className:"maha-uploads"},t.map(function(t,a){return f.default.createElement("div",{className:"maha-upload",key:"upload_"+a},f.default.createElement("div",{className:"maha-upload-progress",style:{background:"linear-gradient(90deg, rgba(33,186,69,.3) "+(0,c.default)(t.progress/100).format("0%")+", rgba(0,0,0,.03) 0)"}},f.default.createElement("div",{className:"maha-upload-icon"},f.default.createElement(i.AssetIcon,{content_type:t.file.type})),f.default.createElement("div",{className:"maha-upload-name"},t.file.name),m.default.includes(["added","uploading"],t.status)&&f.default.createElement("div",{className:"maha-upload-action",onClick:e._handleRemoveUpload.bind(e,t.file)},f.default.createElement("i",{className:"fa fa-fw fa-times"})),"processing"===t.status&&f.default.createElement("div",{className:"maha-upload-action"},f.default.createElement("i",{className:"fa fa-fw fa-refresh fa-spin "})),"complete"===t.status&&f.default.createElement("div",{className:"maha-upload-action"},f.default.createElement("i",{className:"fa fa-fw fa-check"}))))}))),f.default.createElement("div",{ref:function(t){return e.upload=t}}))}},{key:"componentDidMount",value:function(){var e=this.context.admin;this.resumable=new u.default({target:"/api/admin/assets/upload",chunkSize:131072,permanentErrors:[204,400,404,409,415,500,501],headers:{Authorization:"Bearer "+e.team.token}}),this.resumable.on("fileAdded",this._handleAddUpload),this.resumable.on("fileProgress",this._handleUpdateUploadProgress),this.resumable.on("fileSuccess",this._handleUploadSuccess),this.resumable.assignBrowse(this.upload)}},{key:"getChildContext",value:function(){return{uploader:{browse:this._handleBrowse,assignDrop:this._handleAssignDrop}}}},{key:"_handleAssignDrop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.resumable.assignDrop(e),this.handler=t}},{key:"_handleBrowse",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.handler=t,setTimeout(function(){return e.upload.click()},250)}},{key:"_handleAddUpload",value:function(e){this.props.onAddUpload(e),this.resumable.upload()}},{key:"_handleRemoveUpload",value:function(e){this.props.onRemoveUpload(e),this.resumable.removeFile(e)}},{key:"_handleUpdateUploadProgress",value:function(e){this.props.onUpdateUploadProgress(e.file.uniqueIdentifier,e.progress())}},{key:"_handleUploadSuccess",value:function(e,t){var a=this.context.network,n=this.props.onUpdateUpload,l=JSON.parse(t);this.resumable.removeFile(e);var r=l.data.id;n(e.file.uniqueIdentifier,{asset_id:r,status:"processing"}),a.join("/admin/assets/"+l.data.id),a.subscribe([{target:"/admin/assets/"+l.data.id,action:"refresh",handler:this._handleProcessSuccess}])}},{key:"_handleProcessSuccess",value:function(e){var t=this,a=this.context.network;if(!(e.status_id<3)){var n=this.props,l=n.uploads,r=n.onRemoveUpload,o=n.onUpdateUpload,s=m.default.find(l,{asset_id:e.id});o(s.file.uniqueIdentifier,{status:"complete"}),a.leave("/admin/assets/"+e.id),a.unsubscribe([{target:"/admin/assets/"+e.id,action:"refresh",handler:this._handleProcessSuccess}]),setTimeout(function(){t.handler&&t.handler(e),r(s)},1e3)}}}]),t}(f.default.Component);h.childContextTypes={uploader:d.default.object},h.contextTypes={admin:d.default.object,network:d.default.object},h.propTypes={children:d.default.any,progress:d.default.number,uploads:d.default.array,onAddUpload:d.default.func,onUpdateUpload:d.default.func,onUpdateUploadProgress:d.default.func,onRemoveUpload:d.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.progress=function(e){return{type:"PROGRESS",progress:e}},t.addUpload=function(e){return{type:"ADD_UPLOAD",file:e}},t.updateUploadProgress=function(e,t){return{type:"UPDATE_UPLOAD_PROGRESS",uniqueIdentifier:e,progress:t}},t.updateUpload=function(e,t){return{type:"UPDATE_UPLOAD",uniqueIdentifier:e,meta:t}},t.removeUpload=function(e){return{type:"REMOVE_UPLOAD",file:e}}},function(e,t,a){"use strict"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.color,a=e.icon,n=e.title;return l.default.createElement("div",{className:"maha-app-token"},l.default.createElement("div",{className:"maha-app-token-icon "+t},l.default.createElement("i",{className:"fa fa-fw fa-"+a})),n)};o.propTypes={color:n.default.string,icon:n.default.string,title:n.default.string},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.is_everyone,a=e.user,l=e.group;e.name,e.photo;return r.default.createElement("div",{className:"assignee-token"},r.default.createElement("div",{className:"assignee-token-image"},t&&r.default.createElement("div",{className:"assignee-token-icon"},r.default.createElement(n.Avatar,{icon:"globe",user:{full_name:"Everyone"}})),l&&r.default.createElement("div",{className:"assignee-token-icon"},r.default.createElement(n.Avatar,{icon:"users",user:l,presence:!1})),a&&r.default.createElement("div",{className:"assignee-token-avatar"},r.default.createElement(n.Avatar,{user:a,presence:!1}))),r.default.createElement("div",{className:"assignee-token-name"},a&&r.default.createElement("span",null,a.full_name),l&&r.default.createElement("span",null,l.title),t&&r.default.createElement("span",null,"Everyone")))};s.propTypes={name:l.default.string,group:l.default.object,is_everyone:l.default.bool,photo:l.default.string,user:l.default.object},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={q:"",article:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"TYPE":return(0,n.default)({},e,{q:t.q});case"FETCH_SUCCESS":return(0,n.default)({},e,{article:t.result.data.content});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(1156)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),l._handleFetch=l._handleFetch.bind(l),l._handleType=l._handleType.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.article;return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement("div",{className:"maha-help"},d.default.createElement("div",{className:"maha-help-nav"},d.default.createElement("div",{className:"maha-help-nav-item"},d.default.createElement("i",{className:"fa fa-fw fa-lightbulb-o"}),"Knowledge Base"),d.default.createElement("div",{className:"maha-help-nav-item"},d.default.createElement("i",{className:"fa fa-fw fa-ticket"}),"Submit a Support Ticket")),d.default.createElement("div",{className:"maha-help-main"},e?d.default.createElement("div",{className:"maha-help-article",dangerouslySetInnerHTML:{__html:e}}):d.default.createElement(u.default,this._getSearch()))))}},{key:"_getPanel",value:function(){return{title:"Help Center",rightItems:[{label:"Done",handler:this._handleDone}]}}},{key:"_getSearch",value:function(){return{q:this.props.q,onClick:this._handleFetch,onType:this._handleType}}},{key:"_handleType",value:function(e){this.props.onType(e)}},{key:"_handleFetch",value:function(e){this.props.onFetch(e)}},{key:"_handleDone",value:function(){this.context.modal.close()}}]),t}(d.default.Component);f.contextTypes={modal:i.default.object},f.propTypes={article:i.default.string,items:i.default.array,q:i.default.string,onFetch:i.default.func,onType:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(6),u=f(a(1)),d=f(a(1157)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"maha-help-search"},c.default.createElement("div",{className:"maha-help-search-query"},c.default.createElement(i.Searchbox,this._getSearchbox())),c.default.createElement(i.Infinite,this._getInfinite()))}},{key:"_getSearchbox",value:function(){return{prompt:"Search Knowledge Base",onChange:this._handleType.bind(this)}}},{key:"_getInfinite",value:function(){var e=this;return{endpoint:"/api/admin/help",filter:{q:this.props.q},layout:function(t){return c.default.createElement(d.default,(0,n.default)({},t,e._getResults()))}}}},{key:"_getResults",value:function(){return{onClick:this.props.onClick}}},{key:"_handleType",value:function(e){this.props.onType(e)}}]),t}(c.default.Component);m.contextTypes={},m.propTypes={q:u.default.string,onClick:u.default.func,onType:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.records;return i.default.createElement("div",{className:"maha-help-search-results"},t.map(function(t,a){return i.default.createElement("div",{className:"maha-help-search-result",key:"result_"+a,onClick:e._handleClick.bind(e,t.id)},i.default.createElement("div",{className:"maha-help-search-result-icon"},i.default.createElement("i",{className:"fa fa-fw fa-file-text-o"})),i.default.createElement("div",{className:"maha-help-search-result-text"},t.title,i.default.createElement("div",{className:"maha-help-search-result-app "+t.app.color},i.default.createElement("i",{className:"fa fa-"+t.app.icon}),t.app.title)),i.default.createElement("div",{className:"maha-help-search-result-proceed"},i.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}))}},{key:"_getIcon",value:function(e){return"video"===e.type?"file-video-o":"article"===e.type?"file-text-o":void 0}},{key:"_handleClick",value:function(e){this.props.onClick(e)}}]),t}(i.default.Component);d.propTypes={records:s.default.array,onClick:s.default.func},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.type=function(e){return{type:"TYPE",q:e}},t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/help/"+e,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(6),u=f(a(1)),d=f(a(1160)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.color;return c.default.createElement("div",{className:"maha-tour "+e},c.default.createElement(i.Carousel,this._getCarousel()),c.default.createElement("div",{className:"maha-tour-footer",onClick:this._handleClose.bind(this)},"Skip Tour"))}},{key:"_getCarousel",value:function(){return{infinite:!1,slides:this.props.slides.map(function(e,t){return c.default.createElement(d.default,(0,n.default)({key:"slide_"+t},e))})}}},{key:"_handleClose",value:function(){this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={modal:u.default.object},m.propTypes={color:u.default.string,slides:u.default.array},m.defaultProps={color:"green"},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.title,n=e.text,l=e.image,r=e.video;return i.default.createElement("div",{className:"maha-tour-slide"},(t||r||l)&&i.default.createElement("div",{className:"maha-tour-slide-media"},t&&i.default.createElement("i",{className:"fa fa-fw fa-"+t}),r&&i.default.createElement("iframe",{width:"560",height:"315",src:r,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}),l&&i.default.createElement("img",{src:l})),i.default.createElement("div",{className:"maha-tour-slide-description"},a&&i.default.createElement("h2",null,a),n&&i.default.createElement("p",null,n)))}}]),t}(i.default.Component);d.propTypes={icon:s.default.string,image:s.default.string,video:s.default.string,title:s.default.string,text:s.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(25)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return r.default.createElement("div",{className:"user-token"},r.default.createElement("div",{className:"user-token-avatar"},r.default.createElement(l.default,{user:e,width:"40"})),r.default.createElement("div",{className:"user-token-details"},r.default.createElement("strong",null,e.full_name),r.default.createElement("br",null),e.email))};s.propTypes={full_name:n.default.string,email:n.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(25)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return r.default.createElement("div",{className:"compact-user-token"},r.default.createElement("div",{className:"compact-user-token-avatar"},r.default.createElement(l.default,{user:e,width:"40",presence:e.presence})),r.default.createElement("div",{className:"compact-user-token-details"},e.id===e.user_id?"You":e.full_name))};s.propTypes={full_name:n.default.string,id:n.default.number,presence:n.default.bool,user_id:n.default.number},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(1)),l=s(a(56)),r=s(a(8)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.last_online_at,a=e.last_active_at,n=u(a||t);return o.default.createElement("span",null,n)};i.propTypes={last_online_at:n.default.object,last_active_at:n.default.object};var u=function(e){var t=(0,r.default)().diff((0,r.default)(e),"minutes");return e?t>1440?(0,r.default)(e).format("MM/DD/YY @ hh:mm A"):t>60?(0,l.default)("hours",Math.floor(t/60),!0)+" ago":t>15?(0,l.default)("minutes",t,!0)+" ago":t>10?(0,r.default)(e).fromNow():t>5?(0,r.default)(e).fromNow():"ONLINE NOW":"NEVER"};t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=a(1165),i=a(20),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1166)),d=m(a(1)),c=m(a(0)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),l._handleToggle=f.default.debounce(l._handleToggle.bind(l),250,{leading:!0,trailing:!1}),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.is_starred,a=e.starText,n=e.unstarText;return c.default.createElement("div",{className:this._getClass(),onClick:this._handleClick,title:this._getTitle()},c.default.createElement("div",{className:"maha-star-icon"},c.default.createElement("i",{className:"fa fa-fw fa-"+this._getIcon()})),!t&&a&&c.default.createElement("span",{className:"maha-star-text"},a),t&&n&&c.default.createElement("span",{className:"maha-star-text"},n))}},{key:"_getClass",value:function(){var e=["maha-star"];return this.props.starText&&e.push("labeled"),e.join(" ")}},{key:"_getTitle",value:function(){var e=this.props,t=e.is_starred,a=e.label;return(t?"Unstar":"Star")+" this "+a}},{key:"_getIcon",value:function(){return this.props.is_starred?"star":"star-o"}},{key:"_handleClick",value:function(e){this._handleToggle(),e.stopPropagation()}},{key:"_handleToggle",value:function(e){var t=this.props,a=t.is_starred,n=t.table,l=t.id,r=t.onStar,o=t.onUnstar;a||r(n,l),a&&o(n,l),this.context.network.request({method:"patch",endpoint:"/api/admin/"+n+"/"+l+"/star",onFailure:function(e){},onSuccess:function(e){}})}}]),t}(c.default.Component);p.contextTypes={network:d.default.object},p.propTypes={id:d.default.number,label:d.default.string,is_starred:d.default.bool,starText:d.default.string,table:d.default.string,unstarText:d.default.string,onStar:d.default.func,onUnstar:d.default.func},p.defaultProps={label:"item"};t.default=(0,i.connect)(function(e,t){return{is_starred:(0,s.is_starred)(e,t)}},u)(p)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is_starred=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));t.is_starred=(0,n.createSelector)(function(e,t){return e.maha.stars.stars},function(e,t){return t.table},function(e,t){return t.id},function(e,t){return t.is_starred},function(e,t,a,n){var r=l.default.get(e,t+"."+a);return void 0!==r?r:n})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.onStar=function(e,t){return{type:"maha.stars/STAR",table:e,id:t}},t.onUnstar=function(e,t){return{type:"maha.stars/UNSTAR",table:e,id:t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=a(1168),i=a(20),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1169)),d=f(a(1)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={show:!1},l._handleUnstar=l._handleUnstar.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.is_starred?c.default.createElement("div",{className:"maha-starred",onClick:this._handleUnstar},c.default.createElement("i",{className:"fa fa-fw fa-star"})):null}},{key:"_handleUnstar",value:function(){var e=this.props,t=e.table,a=e.id;(0,e.onUnstar)(t,a),this.context.network.request({method:"patch",endpoint:"/api/admin/"+t+"/"+a+"/star",onFailure:function(e){},onSuccess:function(e){}})}}]),t}(c.default.Component);m.propTypes={is_starred:d.default.bool,table:d.default.string,id:d.default.number,onUnstar:d.default.func};t.default=(0,i.connect)(function(e,t){return{is_starred:(0,s.is_starred)(e,t)}},u)(m)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is_starred=void 0;var n=a(12);t.is_starred=(0,n.createSelector)(function(e,t){return e.maha.stars.stars[t.table]||{}},function(e,t){return t.is_starred},function(e,t){return t.id},function(e,t,a){return void 0!==e[a]?e[a]:t})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.onUnstar=function(e,t){return{type:"maha.stars/UNSTAR",table:e,id:t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.text;return l.default.createElement("div",{className:"source-token"},l.default.createElement("div",{className:"source-token-icon"},l.default.createElement("img",{src:"/images/"+t+".png"})),l.default.createElement("div",{className:"source-token-text"},t))};o.propTypes={text:n.default.string},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChooseQuestion=l._handleChooseQuestion.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"maha-signin-panel"},u.default.createElement("div",{className:"maha-signin-form"},u.default.createElement("div",{className:"maha-signin-content"},u.default.createElement("h2",null,"Choose a Security Question"),u.default.createElement("p",null,"In the event that you forget your password, we'll need a way to make sure that you are you. Please choose a security question to help protect your account."),u.default.createElement(s.RadioGroup,this._getRadioGroup()))))}},{key:"_getRadioGroup",value:function(){return{options:this.props.questions,value:"id",text:"text",onChange:this._handleChooseQuestion}}},{key:"_handleChooseQuestion",value:function(e){this.props.onChooseQuestion(e)}}]),t}(u.default.Component);c.contextTypes={},c.propTypes={questions:i.default.array,token:i.default.string,onChooseQuestion:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.password=null,l.confirmation=null,l._handleSubmit=l._handleSubmit.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"maha-signin-panel"},i.default.createElement("div",{className:"maha-signin-form"},i.default.createElement("div",{className:"maha-signin-content"},i.default.createElement("h2",null,"Choose a Password"),i.default.createElement("p",null,"Enter and confirm the password that you will use to signin.")),i.default.createElement("form",{className:"ui form",onSubmit:this._handleSubmit},i.default.createElement("input",{type:"hidden",value:"something"}),i.default.createElement("div",{className:"field text-field"},i.default.createElement("div",{className:"ui left icon input"},i.default.createElement("i",{className:"lock icon"}),i.default.createElement("input",{type:"password",className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Password",ref:function(t){return e.password=t}}))),i.default.createElement("div",{className:"field text-field"},i.default.createElement("div",{className:"ui left icon input"},i.default.createElement("i",{className:"lock icon"}),i.default.createElement("input",{type:"password",className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Confirm",ref:function(t){return e.confirmation=t}}))),i.default.createElement("div",{className:"field button-field"},i.default.createElement("button",{className:"ui fluid large "+("submitting"===status?"loading":"")+" button"},"Continue ",i.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"_handleBack",value:function(){this.props.onChangeMode("answer")}},{key:"_handleSubmit",value:function(e){var t=this.props,a=t.token,n=t.onPassword;return this.password.focus(),n(a,this.password.value,this.confirmation.value),e.preventDefault(),!1}}]),t}(i.default.Component);d.contextTypes={admin:s.default.object,flash:s.default.object},d.propTypes={question:s.default.object,team:s.default.object,token:s.default.string,user:s.default.object,onChangeMode:s.default.func,onPassword:s.default.func},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"maha-signin-panel"},i.default.createElement("div",{className:"maha-signin-form"},i.default.createElement("div",{className:"maha-signin-content"},i.default.createElement("h1",null,i.default.createElement("i",{className:"fa fa-check-circle"})),i.default.createElement("h2",null,"Congratulations!"),i.default.createElement("p",null,"Your account has been successfully activated! You may now begin using the Maha Platform."),i.default.createElement("div",{className:"field button-field"},i.default.createElement("button",{className:"ui fluid large button",onClick:this._handleClick},"Continue ",i.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"_handleClick",value:function(){var e=this.props,t=e.team,a=e.token,n=e.user,l=this.context,r=l.admin,o=l.router;if(n){var s=u.default.findIndex(r.teams,{id:t.id,user:{id:n.id}});s>=0?r.signin(s,a):r.addTeam(t,a,n),o.push("/admin")}}}]),t}(i.default.Component);c.contextTypes={admin:s.default.object,router:s.default.object},c.propTypes={team:s.default.object,token:s.default.string,user:s.default.object,onChangeMode:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.message;return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-form"},s.default.createElement("div",{className:"maha-signin-content"},s.default.createElement("h1",null,s.default.createElement("i",{className:"fa fa-warning"})),s.default.createElement("h2",null,"There was a problem"),s.default.createElement("h3",null,e))))}}]),t}(s.default.Component);d.propTypes={message:i.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(36)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.user;return u.default.createElement("div",{className:"maha-signin-panel"},u.default.createElement("div",{className:"maha-signin-form"},u.default.createElement("div",{className:"maha-signin-content"},u.default.createElement("div",{className:"maha-avatar"},u.default.createElement("div",{className:"maha-avatar-badge"},u.default.createElement("div",{className:"maha-avatar-wrapper"},u.default.createElement(i.default,{src:"/images/maha.png",title:"The Maha Platform",transforms:{fit:"cover",w:150,h:150}})))),u.default.createElement("h2",null,"The Maha Platform"),u.default.createElement("p",null,"Hi ",e.first_name," and welcome to the Maha Platform! Thank you for verifying your email address. Let's take a few moments to set up your account."),u.default.createElement("div",{className:"field button-field"},u.default.createElement("button",{className:"ui fluid large button",onClick:this._handleClick},"Continue ",u.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"_handleClick",value:function(){this.props.onChangeMode("question")}}]),t}(u.default.Component);c.propTypes={user:s.default.object,onChangeMode:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(36)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"maha-signin-panel"},i.default.createElement("div",{className:"maha-signin-form"},i.default.createElement("div",{className:"maha-signin-content"},i.default.createElement("div",{className:"maha-avatar"},i.default.createElement("div",{className:"maha-avatar-badge"},i.default.createElement("div",{className:"maha-avatar-wrapper"},i.default.createElement(s.default,{src:"/images/maha.png",title:"The Maha Platform",transforms:{fit:"cover",w:150,h:150}})))),i.default.createElement("h2",null,"The Maha Platform"),i.default.createElement("p",null,i.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw"})),i.default.createElement("h2",null,"Verifying Activation Link..."))))}}]),t}(i.default.Component);t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),l._handleChange=l._handleChange.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.photo_id;return i.default.createElement("div",{className:"maha-signin-panel"},i.default.createElement("div",{className:"maha-signin-form"},i.default.createElement("div",{className:"maha-signin-content"},i.default.createElement("h2",null,"Upload a Photo"),i.default.createElement("p",null,"Please select a photo to help others identify you and your content across the platform"),i.default.createElement(u.FileField,this._getFilefield()),i.default.createElement("div",{className:"field button-field"},i.default.createElement("button",{className:"ui fluid large button",onClick:this._handleClick},e?"Continue":"Skip"," ",i.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"_getFilefield",value:function(){var e=this.props,t=e.token,a=e.photo_id;return{type:"filefield",button:i.default.createElement("div",{className:"maha-signin-avatar"},i.default.createElement("div",{className:"maha-signin-avatar-placeholder"},i.default.createElement("i",{className:"fa fa-user-circle"}))),action:"/api/admin/activate/assets/upload",endpoint:"/api/admin/activate/assets",token:t,multiple:!1,defaultValue:a,onChange:this._handleChange}}},{key:"_handleBack",value:function(){this.props.onChangeMode("password")}},{key:"_handleChange",value:function(e){this.props.onSetPhotoId(e)}},{key:"_handleClick",value:function(){var e=this.props,t=e.token,a=e.photo_id;if(!a)return this.props.onChangeMode("notifications");this.props.onAvatar(t,a)}}]),t}(i.default.Component);c.contextTypes={admin:s.default.object},c.propTypes={token:s.default.string,photo_id:s.default.number,onAvatar:s.default.func,onSetPhotoId:s.default.func,onChangeMode:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.answer=null,l._handleSubmit=l._handleSubmit.bind(l),l._handleBack=l._handleBack.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.questions,n=t.question_id,l=u.default.find(a,{id:n});return i.default.createElement("div",{className:"maha-signin-panel"},i.default.createElement("div",{className:"maha-signin-form"},i.default.createElement("div",{className:"maha-signin-content"},i.default.createElement("h2",null,"Answer your question"),i.default.createElement("p",null,l.text),i.default.createElement("form",{className:"ui form",onSubmit:this._handleSubmit},i.default.createElement("input",{type:"hidden",value:"something"}),i.default.createElement("div",{className:"field text-field"},i.default.createElement("div",{className:"ui input"},i.default.createElement("input",{type:"text",className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Answer",ref:function(t){return e.answer=t}}))),i.default.createElement("div",{className:"field"},i.default.createElement("button",{className:"ui fluid large "+("submitting"===status?"loading":"")+" button"},"Continue ",i.default.createElement("i",{className:"right chevron icon"}))),i.default.createElement("p",{onClick:this._handleBack},"Choose a different question")))))}},{key:"_handleBack",value:function(){this.props.onChangeMode("question")}},{key:"_handleSubmit",value:function(e){var t=this.props,a=t.token,n=t.question_id;return(0,t.onSecurity)(a,n,this.answer.value),e.preventDefault(),!1}}]),t}(i.default.Component);c.contextTypes={admin:s.default.object,flash:s.default.object},c.propTypes={questions:s.default.array,question_id:s.default.number,token:s.default.string,onChangeMode:s.default.func,onSecurity:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.verify=function(e){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/activate/verify",body:{token:e},request:"VERIFY_REQUEST",success:"VERIFY_SUCCESS",failure:"VERIFY_FAILURE"}},t.security=function(e,t,a){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/activate/security",body:{token:e,security_question_id:t,security_question_answer:a},request:"SECURITY_REQUEST",success:"SECURITY_SUCCESS",failure:"SECURITY_FAILURE"}},t.password=function(e,t,a){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/activate/password",body:{token:e,password:t,confirmation:a},request:"PASSWORD_REQUEST",success:"PASSWORD_SUCCESS",failure:"PASSWORD_FAILURE"}},t.avatar=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/activate/avatar",body:{token:e,photo_id:t},request:"AVATAR_REQUEST",success:"AVATAR_SUCCESS",failure:"AVATAR_FAILURE"}},t.notifications=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/activate/notifications",body:{token:e,notification_method_id:t},request:"NOTIFICATIONS_REQUEST",success:"NOTIFICATIONS_SUCCESS",failure:"NOTIFICATIONS_FAILURE"}},t.changeMode=function(e){return{type:"CHANGE_MODE",mode:e}},t.chooseQuestion=function(e){return{type:"CHOOSE_QUESTION",id:e}},t.togglePassword=function(){return{type:"TOGGLE_PASSWORD"}},t.setPhotoId=function(e){return{type:"SET_PHOTO_ID",id:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l={mode:null,active:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_MODE":return(0,n.default)({},e,{mode:t.mode});case"CHOOSE":return(0,n.default)({},e,{active:t.index!==e.active?t.index:null});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(2)),l=_(a(3)),r=_(a(4)),o=_(a(5)),s=_(a(482)),i=_(a(484)),u=_(a(1192)),d=_(a(1)),c=_(a(1193)),f=_(a(1201)),m=a(24),p=_(a(1202)),h=_(a(0));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChoose=l._handleChoose.bind(l),l._handleCloseSidebar=l._handleCloseSidebar.bind(l),l._handleSetMode=l._handleSetMode.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.active,a=e.badges;return h.default.createElement("div",{className:this._getClass()},h.default.createElement(p.default,this._getRibbon()),h.default.createElement("div",{className:"maha-portal-body"},h.default.createElement(u.default,null)),h.default.createElement(m.RouterStack,this._getStack()),null!==t&&h.default.createElement(f.default,{sidebar:a[t].sidebar}),h.default.createElement("div",{className:"maha-portal-overlay",onClick:this._handleSetMode.bind(this,null)}),h.default.createElement("div",{className:"maha-portal-navigation"},h.default.createElement(i.default,this._getNavigation())),h.default.createElement("div",{className:"maha-portal-account"},h.default.createElement(c.default,this._getAccount())))}},{key:"_getStack",value:function(){return{rootPath:"/admin",routes:this.props.routes}}},{key:"componentDidUpdate",value:function(){var e=this.context,t=e.modal,a=e.router;"#preferences"===a.hash&&(a.replace(a.pathname+a.search),t.open(s.default))}},{key:"getChildContext",value:function(){return{portal:{closeSidebar:this._handleCloseSidebar}}}},{key:"_getClass",value:function(){var e=this.props,t=e.active,a=e.mode,n=["maha-portal"];return null!==t&&n.push("sidebar"),a&&n.push(a),n.join(" ")}},{key:"_getNavigation",value:function(){return{onDone:this._handleSetMode}}},{key:"_getRibbon",value:function(){var e=this.props;return{active:e.active,badges:e.badges,onChoose:this._handleChoose,onSetMode:this._handleSetMode}}},{key:"_getAccount",value:function(){var e=this;return{onDone:function(){return e._handleSetMode()}}}},{key:"_handleChoose",value:function(e){var t=this.props.badges;if(document.body.clientWidth>768)return this.props.onChoose(e);var a=t[e];a.route&&this.context.router.push(a.route)}},{key:"_handleSetMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.props.onSetMode(e)}},{key:"_handleCloseSidebar",value:function(){this.props.onChoose(null)}}]),t}(h.default.Component);v.childContextTypes={portal:d.default.object},v.contextTypes={admin:d.default.object,modal:d.default.object,router:d.default.object},v.propTypes={active:d.default.number,badges:d.default.array,mode:d.default.string,routes:d.default.object,sidebar:d.default.object,onChoose:d.default.func,onSetMode:d.default.func},t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={ignored:[],notifications:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"SET":return(0,l.default)({},e,{ignored:t.ignored});case"LOAD_REQUEST":return(0,l.default)({},e,{status:"loading"});case"LOAD_FAILURE":return(0,l.default)({},e,{status:"failed"});case"LOAD_SUCCESS":return(0,l.default)({},e,{notifications:t.result.data,status:"success"});case"TOGGLE":return(0,l.default)({},e,{ignored:r.default.includes(e.ignored,t.id)?e.ignored.filter(function(e){return e!==t.id}):[].concat((0,n.default)(e.ignored),[t.id])});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.ignored,n=t.notifications;return i.default.createElement("div",{className:"maha-subscription"},n.map(function(t,n){return[i.default.createElement("div",{className:"maha-subscription-app",key:"app_"+n},i.default.createElement("div",{className:"maha-subscription-app-icon "+t.color},i.default.createElement("i",{className:"fa fa-fw fa-"+t.icon})),t.title),t.notifications.map(function(t,n){return i.default.createElement("div",{className:"maha-subscription-notification",key:"notification_"+n,onClick:e._handleToggle.bind(e,t.id)},i.default.createElement("div",{className:"maha-subscription-notification-icon"},u.default.includes(a,t.id)?i.default.createElement("i",{className:"fa fa-fw fa-circle-o"}):i.default.createElement("i",{className:"fa fa-fw fa-check-circle"})),i.default.createElement("div",{className:"maha-subscription-notification-label"},t.description))})]}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onSet,n=e.onLoad;t&&a(t),n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.ignored,n=t.status,l=t.onChange,r=t.onReady;n!==e.status&&"success"===n&&r(),u.default.isEqual(a.sort(),e.ignored.sort())||l(a)}},{key:"_handleToggle",value:function(e){this.props.onToggle(e)}}]),t}(i.default.Component);c.propTypes={defaultValue:s.default.array,ignored:s.default.array,notifications:s.default.array,status:s.default.string,onChange:s.default.func,onLoad:s.default.func,onReady:s.default.func,onSet:s.default.func,onToggle:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.set=function(e){return{type:"SET",ignored:e}},t.load=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/account/preferences/notifications",request:"LOAD_REQUEST",success:"LOAD_SUCCESS",failure:"LOAD_FAILURE"}},t.toggle=function(e){return{type:"TOGGLE",id:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=a(20),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={value:null},l._handleClick=l._handleClick.bind(l),l._handleToggle=l._handleToggle.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.state.value;return d.default.createElement("div",{className:"push-section"},null!=e&&window.Notification&&navigator.serviceWorker&&d.default.createElement("div",null,d.default.createElement("label",null,"Push Notifications"),d.default.createElement("div",{className:"toggle-row "+(e?"granted":"not-granted"),onClick:this._handleClick},e&&d.default.createElement("i",{className:"fa fa-check-circle"}),!e&&d.default.createElement(s.Checkbox,this._getCheckbox()),d.default.createElement("div",{className:"text"},e&&"Great, you've got push notifications enabled!",!e&&"Uh oh, you aren't getting desktop notifications! Click here to enable them."))))}},{key:"componentDidMount",value:function(){this.props.push&&this._updatePushValue()}},{key:"componentDidUpdate",value:function(e){e.push!=this.props.push&&""!=e.push&&this._updatePushValue()}},{key:"_updatePushValue",value:function(){var e=this.props.push;"unknown"===e||"never"===e?this.setState({value:!1}):this.setState({value:!0})}},{key:"_getCheckbox",value:function(){var e=this.props.push;return{defaultValue:this.state.value,disabled:"granted"==e}}},{key:"_handleClick",value:function(e){this._handleToggle(),e.stopPropagation()}},{key:"_handleToggle",value:function(e){var t=this.context.host;"granted"!=this.props.push&&t.promptNotifications()}}]),t}(d.default.Component);f.contextTypes={host:u.default.object},f.defaultProps={push:u.default.string};t.default=(0,i.connect)(function(e,t){return{push:e.maha.browser.push}})(f)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={active:null,app:null,mode:"apps",path:[],route:null,state:"slide-next"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"TOGGLE_MODE":return(0,l.default)({},e,{mode:"apps"===e.mode?"teams":"apps"});case"FORWARD":return(0,l.default)({},e,{state:"slide-next",path:[].concat((0,n.default)(e.path),[t.index])});case"BACK":return(0,l.default)({},e,{state:"slide-back",path:[].concat((0,n.default)(e.path.slice(0,e.path.length-1)))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=a(20),u=m(a(1)),d=m(a(1188)),c=m(a(0)),f=m(a(1189));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.apps,a=e.mode,l=e.state;return c.default.createElement("div",{className:"maha-navigation "+l},"apps"===a?c.default.createElement(f.default,(0,n.default)({},this.props,{items:t})):c.default.createElement(d.default,this.props))}}]),t}(c.default.Component);p.propTypes={apps:u.default.array,mode:u.default.string,path:u.default.array,state:u.default.string,onDone:u.default.func,onToggleMode:u.default.func,onForward:u.default.func,onBack:u.default.func},p.defaultProps={onDone:function(){}};t.default=(0,i.connect)(function(e,t){return{active:e.maha.admin.active,apps:e.maha.admin.apps,teams:e.maha.admin.teams}})(p)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=c(a(25)),d=c(a(117));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleAddTeam=l._handleAddTeam.bind(l),l._handleToggleMode=l._handleToggleMode.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.active,n=t.teams,l=n[a];return s.default.createElement("div",{className:"maha-navigation-panel"},s.default.createElement("div",{className:"maha-navigation-header",onClick:this._handleToggleMode},s.default.createElement("div",{className:"maha-navigation-header-back"},s.default.createElement(d.default,{team:l,width:"50"})),s.default.createElement("div",{className:"maha-navigation-header-team"},"Accounts"),s.default.createElement("div",{className:"maha-navigation-header-next"},s.default.createElement("i",{className:"chevron down icon"}))),s.default.createElement("div",{className:"maha-navigation-body"},s.default.createElement("div",{className:"maha-navigation-accounts"},n.filter(function(e){return e.token}).map(function(t,n){return s.default.createElement("div",{key:"team_"+n,className:"maha-navigation-account",onClick:e._handleChangeTeam.bind(e,n)},s.default.createElement("div",{className:"maha-navigation-account-logo"},s.default.createElement(d.default,{team:t,width:"32"}),s.default.createElement(u.default,{user:t.user,width:"16",presence:!1})),s.default.createElement("div",{className:"maha-navigation-account-title"},s.default.createElement("strong",null,t.user.full_name),s.default.createElement("br",null),t.title),s.default.createElement("div",{className:"maha-navigation-account-active"},n===a&&s.default.createElement("i",{className:"green check icon"})))})),s.default.createElement("div",{className:"maha-navigation-account-add",onClick:this._handleAddTeam},s.default.createElement("div",{className:"maha-navigation-account-add-button"},s.default.createElement("div",{className:"maha-navigation-account-add-button-image"},s.default.createElement("i",{className:"icon plus"}))),s.default.createElement("div",{className:"maha-navigation-account-add-text"},"Add account"))))}},{key:"_handleToggleMode",value:function(){this.props.onToggleMode()}},{key:"_handleChangeTeam",value:function(e){var t=this.props.active,a=this.context.admin.chooseTeam;e!==t&&a(e)}},{key:"_handleAddTeam",value:function(){var e=this.context.router;(0,this.props.onDone)(),e.push("/admin/signin")}}]),t}(s.default.Component);f.contextTypes={admin:i.default.object,router:i.default.object},f.propTypes={active:i.default.number,teams:i.default.array,onDone:i.default.func,onReset:i.default.func,onToggleMode:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(0)),i=f(a(1)),u=a(1190),d=a(21),c=f(a(117));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleToggleMode=l._handleToggleMode.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.path,a=this.context.admin,n=a.team,l=a.user,r=this._getItems(this.props.items,t),o=r.items,i=r.label;return s.default.createElement(d.TransitionGroup,null,s.default.createElement(d.CSSTransition,{classNames:"expanded",timeout:500,mountOnEnter:!0,unmountOnExit:!0,key:"navigation-"+t.join("-")},s.default.createElement("div",{className:"maha-navigation-panel"},0===t.length?s.default.createElement("div",{className:"maha-navigation-header",onClick:this._handleToggleMode},s.default.createElement("div",{className:"maha-navigation-header-back"},s.default.createElement(c.default,{team:n,width:"50"})),s.default.createElement("div",{className:"maha-navigation-header-team"},n.title),s.default.createElement("div",{className:"maha-navigation-header-next"},s.default.createElement("i",{className:"chevron up icon"}))):s.default.createElement("div",{className:"maha-navigation-header",onClick:this._handleBack},s.default.createElement("div",{className:"maha-navigation-header-back"},s.default.createElement("i",{className:"chevron left icon"})),s.default.createElement("div",{className:"maha-navigation-header-title"},i),s.default.createElement("div",{className:"maha-navigation-header-next"})),s.default.createElement("div",{className:"maha-navigation-body"},o.map(function(t,a){if(!t.rights||(0,u.userHasRights)(l,t.rights))return s.default.createElement("div",{key:"item_"+a,className:"maha-navigation-item",onClick:e._handleForward.bind(e,t,a)},t.icon&&s.default.createElement("div",{className:"maha-navigation-item-extra"},s.default.createElement("div",{className:"maha-navigation-item-icon "+t.color},s.default.createElement("i",{className:"fa fa-"+t.icon}))),s.default.createElement("div",{className:"maha-navigation-item-details "+t.color},t.label),s.default.createElement("div",{className:"maha-navigation-item-extra"},t.items&&t.items.length>0&&s.default.createElement("i",{className:"chevron right icon"})))})))))}},{key:"_getItems",value:function(e,t){return t.reduce(function(e,t){return e.items[t]},{items:e})}},{key:"_handleForward",value:function(e,t){var a=this.context.router,n=this.props,l=n.onDone,r=n.onForward;e.items&&e.items.length>0?r(t):e.route&&(l(),a.push(e.route))}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleToggleMode",value:function(){this.props.onToggleMode()}}]),t}(s.default.Component);m.contextTypes={admin:i.default.object,modal:i.default.object,router:i.default.object},m.propTypes={items:i.default.array,path:i.default.array,state:i.default.string,team:i.default.object,title:i.default.string,user:i.default.object,onBack:i.default.func,onDone:i.default.func,onForward:i.default.func,onToggleMode:i.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userHasRights=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(9));t.userHasRights=function(e,t){return t.reduce(function(t,a){return!!n.default.includes(e.rights,a)&&t},!0)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toggleMode=function(){return{type:"TOGGLE_MODE"}},t.forward=function(e){return{type:"FORWARD",index:e}},t.back=function(){return{type:"BACK"}},t.close=function(){return{type:"CLOSE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=a(6),i=a(20),u=p(a(1)),d=p(a(415)),c=p(a(0)),f=p(a(8)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,n.default)(this,t);var a=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={time:(0,f.default)().format("h:mm a")},a}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.context.admin.user.full_name.split(" ")[0];return c.default.createElement(s.ModalPanel,this._getPanel(),c.default.createElement(d.default,{title:this._getTitle()}),c.default.createElement("div",{className:"dashboard-welcome "+this._getTimeOfDay()},c.default.createElement("div",{className:"dashboard-wrapper"},c.default.createElement("div",{className:"welcome"},this._getSalutation(this.state.time),", ",e,"!"),c.default.createElement("div",{className:"time"},this.state.time),c.default.createElement("div",{className:"date"},(0,f.default)().format("dddd, MMM Do, YYYY")))))}},{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval(function(){return e._updateTime()},6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"_updateTime",value:function(){this.setState({time:(0,f.default)().format("h:mm a")})}},{key:"_getSalutation",value:function(){return"afternoon"===this._getTimeOfDay()&&"Fr"==(0,f.default)().format("dd")?"T.G.I.F.":"night"===this._getTimeOfDay()?"It's late - go to bed":this._getTimeOfDay()?"Good "+m.default.startCase(this._getTimeOfDay()):"Welcome"}},{key:"_getTimeOfDay",value:function(){var e=parseFloat((0,f.default)().format("HH"));return e>=5&&e<=11?"morning":e>=12&&e<=16?"afternoon":e>=17&&e<=21?"evening":"night"}},{key:"_getTitle",value:function(){var e=this.context.admin.team,t=this.props.unseen,a=t>0?" ("+t+")":"";return e.title+a}},{key:"_getPanel",value:function(){return{className:"maha-dashboard"}}}]),t}(c.default.Component);h.contextTypes={modal:u.default.object,admin:u.default.object},h.propTypes={unseen:u.default.number};t.default=(0,i.connect)(function(e,t){return{unseen:e.maha.admin.unseen}})(h)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(2)),l=_(a(3)),r=_(a(4)),o=_(a(5)),s=a(20),i=_(a(0)),u=_(a(1)),d=_(a(25)),c=_(a(1194)),f=_(a(1195)),m=_(a(1196)),p=_(a(482)),h=_(a(485));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleEdit=l._handleModal.bind(l,c.default),l._handlePhoto=l._handleModal.bind(l,f.default),l._handlePassword=l._handleModal.bind(l,m.default),l._handleProfiles=l._handleModal.bind(l,h.default),l._handlePreferences=l._handleModal.bind(l,p.default),l._handleSignout=l._handleSignout.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.user;return i.default.createElement("div",{className:"maha-account-panel"},i.default.createElement("div",{className:"maha-account-identity"},i.default.createElement(d.default,{user:e,width:"150",presence:!1}),i.default.createElement("h2",null,e.full_name),i.default.createElement("p",null,e.email)),i.default.createElement("div",{className:"maha-account-tasks"},i.default.createElement("div",{className:"maha-account-task",onClick:this._handleEdit},i.default.createElement("i",{className:"fa fa-fw fa-pencil"})," Edit account"),i.default.createElement("div",{className:"maha-account-task",onClick:this._handlePhoto},i.default.createElement("i",{className:"fa fa-fw fa-picture-o"})," ",e.photo?"Change photo":"Upload photo"),i.default.createElement("div",{className:"maha-account-task",onClick:this._handlePassword},i.default.createElement("i",{className:"fa fa-fw fa-lock"})," Change password"),i.default.createElement("div",{className:"maha-account-task",onClick:this._handleProfiles},i.default.createElement("i",{className:"fa fa-fw fa-id-card"})," Manage profiles"),i.default.createElement("div",{className:"maha-account-task",onClick:this._handlePreferences},i.default.createElement("i",{className:"fa fa-fw fa-bell"})," Configure notifications"),i.default.createElement("div",{className:"maha-account-task",onClick:this._handleSignout},i.default.createElement("i",{className:"fa fa-fw fa-power-off"})," Sign out")))}},{key:"_handleModal",value:function(e){var t=this;this.props.onDone(),setTimeout(function(){return t.context.modal.open(e)},250)}},{key:"_handleCloseDrawer",value:function(){this.props.onDone()}},{key:"_handleSignout",value:function(){this.props.onDone(),this.context.admin.signout()}}]),t}(i.default.Component);v.contextTypes={admin:u.default.object,modal:u.default.object,session:u.default.object},v.propTypes={user:u.default.object,onDone:u.default.func},v.defaultProps={onDone:function(){}};t.default=(0,s.connect)(function(e,t){return{user:e.maha.admin.user}})(v)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Edit Account",method:"patch",endpoint:"/api/admin/account",action:"/api/admin/account",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"First Name",name:"first_name",type:"textfield",placeholder:"First Name",required:!0},{label:"Last Name",name:"last_name",type:"textfield",placeholder:"Last Name",required:!0},{label:"Email",name:"email",type:"textfield",placeholder:"Email",required:!0},{label:"Secondary Email",name:"secondary_email",type:"textfield",placeholder:"Secondary Email",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close(),this.context.flash.set("success","Your account was successfully updated")}}]),t}(s.default.Component);c.contextTypes={flash:i.default.object,modal:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"Edit Photo",method:"patch",endpoint:"/api/admin/account",action:"/api/admin/account/photo",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close(),this.context.flash.set("success","Your photo was successfully changed")}}]),t}(s.default.Component);c.contextTypes={admin:i.default.object,flash:i.default.object,modal:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Change Password",method:"patch",action:"/api/admin/account/password",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Old Password",name:"old_password",type:"password",placeholder:"Old Password",required:!0},{label:"New Password",name:"password",type:"password",placeholder:"New Password",required:!0},{label:"Confirm Password",name:"confirmation",type:"password",placeholder:"Confirm Password",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close(),this.context.flash.set("success","Your password was successfully changed")}}]),t}(s.default.Component);c.contextTypes={flash:i.default.object,modal:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={sources:[],profiles:[],url:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"FETCH_SOURCES_SUCCESS":return(0,n.default)({},e,{sources:t.result.data});case"FETCH_PROFILES_SUCCESS":return(0,n.default)({},e,{profiles:t.result.data,url:null});case"AUTHORIZE_SUCCESS":return(0,n.default)({},e,{url:t.result.data});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(24),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleRefresh=l._handleRefresh.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.sources;return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"maha-profiles-intro"},u.default.createElement("strong",null,"Access Your Data"),u.default.createElement("br",null),"By connecting your accounts with the Maha Platform, you can access and use data from various third party services."),t.map(function(t,a){return u.default.createElement("div",{className:"maha-profile",key:" profile_"+a+" "},u.default.createElement("div",{className:"maha-profile-icon"},u.default.createElement("img",{src:"/admin/images/"+t.text+".png"})),u.default.createElement("div",{className:"maha-profile-name"},d.default.capitalize(t.text)),u.default.createElement("div",{className:"maha-profile-toggle",onClick:e._handleClick.bind(e,t.text)},u.default.createElement("i",{className:"fa fa-fw fa-"+e._getIcon(t.text)})))}),u.default.createElement("a",{ref:function(t){return e.link=t},target:"_blank"}))}},{key:"componentDidMount",value:function(){this.props.onFetchSources(),this.props.onFetchProfiles(),this.context.network.subscribe([{target:"/admin/account/profiles",action:"refresh",handler:this._handleRefresh}])}},{key:"componentDidUpdate",value:function(e){var t=this.props.url;t&&t!==e.url&&(this.link.href=t,this.link.click())}},{key:"componentWillUnmount",value:function(){this.context.network.unsubscribe([{target:"/admin/account/profiles",action:"refresh",handler:this._handleRefresh}])}},{key:"_getPanel",value:function(){return{title:"Manage Profiles",leftItems:[{label:"Cancel",handler:this._handleCancel}],rightItems:[{label:"Done",handler:this._handleCancel}]}}},{key:"_getIcon",value:function(e){var t=this.props.profileList;return"toggle-"+(d.default.includes(t,e)?"on":"off")}},{key:"_handleClick",value:function(e){var t=this.props,a=t.profiles,n=t.onRevoke,l=t.onAuthorize,r=d.default.find(a,{network:e});if(r)return n(r.id);l(e)}},{key:"_handleRefresh",value:function(){this.props.onFetchProfiles()}},{key:"_handleCancel",value:function(){this.context.modal.close()}}]),t}(u.default.Component);f.contextTypes={modal:i.default.object,network:i.default.object},f.propTypes={sources:i.default.array,profiles:i.default.array,profileList:i.default.array,url:i.default.string,onAuthorize:i.default.func,onFetchSources:i.default.func,onFetchProfiles:i.default.func,onRevoke:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchProfiles=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/profiles",request:"FETCH_PROFILES_REQUEST",success:"FETCH_PROFILES_SUCCESS",failure:"FETCH_PROFILES_FAILURE"}},t.fetchSources=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/profiles/sources",request:"FETCH_SOURCES_REQUEST",success:"FETCH_SOURCES_SUCCESS",failure:"FETCH_SOURCES_FAILURE"}},t.authorize=function(e){return{type:"API_REQUEST",method:"GET",meta:{service:e},endpoint:"/api/admin/"+e+"/authorize",request:"AUTHORIZE_REQUEST",success:"AUTHORIZE_SUCCESS",failure:"AUTHORIZE_FAILURE"}},t.revoke=function(e){return{type:"API_REQUEST",method:"DELETE",endpoint:"/api/admin/profiles/"+e,request:"REVOKE_REQUEST",success:"REVOKE_SUCCESS",failure:"REVOKE_FAILURE"}},t.authorized=function(){return{type:"AUTHORIZED"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profileList=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(10)),l=a(12);t.profileList=(0,l.createSelector)(function(e,t){return e.profiles||[]},function(e){return e.reduce(function(e,t){return[].concat((0,n.default)(e),[t.network])},[])})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.sidebar;return i.default.createElement("div",{className:"maha-portal-sidebar"},i.default.createElement(e))}},{key:"componentDidCatch",value:function(e,t){this.context.logger.error(e,t)}}]),t}(i.default.Component);d.propTypes={sidebar:s.default.func},d.contextTypes={logger:s.default.object},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=a(20),i=p(a(1)),u=p(a(25)),d=p(a(486)),c=p(a(188)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleHelp=l._handleHelp.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.badges,n=t.user;return f.default.createElement("div",{className:"maha-portal-ribbon"},f.default.createElement("div",{className:"maha-portal-ribbon-item",onClick:this._handleMode.bind(this,"navigation")},f.default.createElement("i",{className:"fa fa-fw fa-bars"})),f.default.createElement("div",{className:"maha-portal-ribbon-spacer"}),a.slice().reverse().map(function(t,n){var l=a.length-n-1;return"maha"===t.app||e._getAccess(t.app)?f.default.createElement("div",{className:e._getClass(l),key:"badge_"+l,onClick:e._handleChoose.bind(e,l)},t.component?f.default.createElement(t.component,null):f.default.createElement(d.default,t)):null}),!1,f.default.createElement("div",{className:"maha-portal-ribbon-item",onClick:this._handleMode.bind(this,"account")},f.default.createElement("div",{className:"maha-badge"},f.default.createElement(u.default,{user:n,width:28,presence:!1}))))}},{key:"_getClass",value:function(e){var t=["maha-portal-ribbon-item"];return e===this.props.active&&t.push("active"),t.join(" ")}},{key:"_getHelp",value:function(){return{}}},{key:"_getAccess",value:function(e){return m.default.findIndex(this.props.apps,{code:e})>=0}},{key:"_handleChoose",value:function(e){this.props.onChoose(e)}},{key:"_handleMode",value:function(e){this.props.onSetMode(e)}},{key:"_handleHelp",value:function(){this.context.modal.open(f.default.createElement(c.default,this._getHelp()))}}]),t}(f.default.Component);h.contextTypes={modal:i.default.object},h.propTypes={apps:i.default.array,active:i.default.number,badges:i.default.array,user:i.default.object,onChoose:i.default.func,onSetMode:i.default.func};t.default=(0,s.connect)(function(e,t){return{apps:e.maha.admin.apps,user:e.maha.admin.user}})(h)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={status:"pending",count:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"FETCH_REQUEST":return(0,n.default)({},e,{status:"pending"===e.status?"loading":"refreshing"});case"FETCH_FAILURE":return(0,n.default)({},e,{status:"failed"});case"FETCH_SUCCESS":return(0,n.default)({},e,{count:t.result.data.count,status:"success"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=u(a(1));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleFetch=l._handleFetch.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.count,a=e.icon;return s.default.createElement("div",{className:"maha-badge"},t>0&&s.default.createElement("div",{className:"maha-badge-label",title:t+" unread"},t>99?"99+":t),a&&s.default.createElement("i",{className:"fa fa-fw fa-"+a}))}},{key:"componentDidMount",value:function(){var e=this.props.channel;e&&this._handleJoin(),e&&this._handleFetch()}},{key:"componentDidUpdate",value:function(e){var t=this.props.count;t!==e.count&&this.context.admin.updateUnseen(t-e.count),t>e.count&&"refreshing"===e.status&&this._handleNotification()}},{key:"componentWillUnmount",value:function(){this.props.channel&&this._handleLeave()}},{key:"_handleJoin",value:function(){var e=this.context.network,t=this.props.channel;e.join(t),e.subscribe([{target:t,action:"refresh",handler:this._handleFetch}])}},{key:"_handleLeave",value:function(){var e=this.context.network,t=this.props.channel;e.leave(t),e.unsubscribe([{target:t,action:"refresh",handler:this._handleFetch}])}},{key:"_handleNotification",value:function(){var e=this.props.sound;e&&new Audio(e).play()}},{key:"_handleFetch",value:function(){var e=this.props,t=e.channel;(0,e.onFetch)("/api"+t)}}]),t}(s.default.Component);d.contextTypes={admin:i.default.object,network:i.default.object},d.propTypes={active:i.default.bool,channel:i.default.string,count:i.default.number,icon:i.default.string,sound:i.default.string,onFetch:i.default.func},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setMode=function(e){return{type:"SET_MODE",mode:e}},t.choose=function(e){return{type:"CHOOSE",index:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={error:null,mode:null,show:!1,status:"pending",removing:!1,team:null,user:null,token:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"TEAM_REQUEST":case"EMAIL_REQUEST":case"PASSWORD_REQUEST":case"FORGOT_REQUEST":return(0,n.default)({},e,{error:null,status:"submitting"});case"TEAM_FAILURE":case"EMAIL_FAILURE":case"PASSWORD_FAILURE":case"FORGOT_FAILURE":return(0,n.default)({},e,{status:"failure",error:t.result.meta.message});case"TEAM_SUCCESS":return(0,n.default)({},e,{team:t.result.data,status:"success"});case"EMAIL_SUCCESS":return(0,n.default)({},e,{user:t.result.data,status:"success",mode:"password"});case"PASSWORD_SUCCESS":return(0,n.default)({},e,{token:t.result.data.token,status:"success"});case"FORGOT_SUCCESS":return(0,n.default)({},e,{status:"reset"});case"CHANGE_MODE":return(0,n.default)({},e,{mode:t.mode});case"TOGGLE_PASSWORD":return(0,n.default)({},e,{show:!e.show});case"TOGGLE_REMOVE":return(0,n.default)({},e,{removing:!e.removing});case"CHOOSE_ACCOUNT":return(0,n.default)({},e,{team:t.team,user:t.user});case"SET":return(0,n.default)({},e,{team:t.team,user:t.user,mode:t.mode});case"RESET":return l;default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(2)),l=h(a(3)),r=h(a(4)),o=h(a(5)),s=h(a(0)),i=h(a(1)),u=a(21),d=h(a(1209)),c=h(a(1210)),f=h(a(1211)),m=h(a(1212)),p=h(a(9));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){(0,n.default)(this,t);var a=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.classNames="",a.routes=[{pathname:"/admin/signin/accounts",component:d.default},{pathname:"/admin/signin/team",component:c.default},{pathname:"/admin/signin/email",component:f.default},{pathname:"/admin/signin/password",component:m.default}],a}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.location;return s.default.createElement("div",{className:"maha-signin"},this.routes.map(function(a){return s.default.createElement(u.CSSTransition,{in:a.pathname===t.pathname,classNames:e.classNames,timeout:500,mountOnEnter:!0,unmountOnExit:!0,key:a.pathname},s.default.createElement(a.component,e.props))}))}},{key:"componentDidMount",value:function(){var e=this.context.admin.teams;(0,this.props.onChangeMode)(0===e.filter(function(e){return p.default.isNil(e.token)}).length?"team":"accounts")}},{key:"componentWillUpdate",value:function(e){var t=this.props.location;if(e.location.pathname!==t.pathname){var a=p.default.findIndex(this.routes,{pathname:t.pathname}),n=p.default.findIndex(this.routes,{pathname:e.location.pathname});a>=0&&(this.classNames=n>a?"slide-next":"slide-back")}}},{key:"componentDidUpdate",value:function(e){var t=this.context,a=t.flash,n=t.router,l=this.props,r=l.error,o=l.mode,s=l.team,i=l.user,u=l.status,d=l.onChangeMode;if(e.status!==u&&"failure"===u&&a.set("error",r),p.default.isEqual(e.team,s)||("local"===s.strategy||!s.strategy&&p.default.includes(s.strategies,"local")?d(i?"password":"email"):s.strategy?d(s.strategy):d(s.strategies[0])),o!==e.mode&&o){var c="/admin/signin/"+o;if(p.default.findIndex(this.routes,{pathname:c})<0){var f=btoa(JSON.stringify({team_id:s.id}));window.location=c+"?state="+f}else e.mode?n.push(c):n.replace(c)}}}]),t}(s.default.Component);_.contextTypes={admin:i.default.object,flash:i.default.object,router:i.default.object},_.propTypes={error:i.default.string,location:i.default.object,mode:i.default.string,status:i.default.string,team:i.default.object,user:i.default.object,onChangeMode:i.default.func},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=c(a(25)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleNew=l._handleNew.bind(l),l._handleToggleRemove=l._handleToggleRemove.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.removing,a=this.context.admin.teams;return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-accounts"},s.default.createElement("div",{className:"maha-signin-accounts-list"},s.default.createElement("div",{className:"maha-signin-accounts-title"},s.default.createElement("h2",null,"The Maha Platform")),a.map(function(a,n){return s.default.createElement("div",{key:"account_"+n,className:"maha-signin-account",onClick:e._handleClick.bind(e,n)},s.default.createElement("div",{className:"maha-signin-account-avatar"},s.default.createElement(u.default,{user:a.user})),s.default.createElement("div",{className:"maha-signin-account-details"},s.default.createElement("p",null,s.default.createElement("strong",null,a.user.full_name),s.default.createElement("br",null),a.title,s.default.createElement("br",null),!a.token&&s.default.createElement("em",null,"Signed Out"))),t&&s.default.createElement("div",{className:"maha-signin-account-remove"},s.default.createElement("i",{className:"fa fa-fw fa-times"})),!t&&s.default.createElement("div",{className:"maha-signin-account-next"},s.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}),s.default.createElement("div",{className:"maha-signin-account"},s.default.createElement("div",{className:"maha-signin-account-avatar"},s.default.createElement("div",{className:"maha-avatar"},s.default.createElement("div",{className:"maha-avatar-badge"},s.default.createElement("div",{className:"maha-avatar-wrapper"},s.default.createElement("i",{className:"fa fa-fw fa-plus"}))))),s.default.createElement("div",{className:"maha-signin-account-details",onClick:this._handleNew},s.default.createElement("p",null,a.length>1?"Sign in to another account":"Sign in to an account")),s.default.createElement("div",{className:"maha-signin-account-next"},s.default.createElement("i",{className:"chevron right icon"}))),s.default.createElement("div",{className:"maha-signin-accounts-remove",onClick:this._handleToggleRemove},t?"Done":"Remove an account"))))}},{key:"componentDidMount",value:function(){this.props.onSet(null,null,"accounts")}},{key:"_handleClick",value:function(e){return this.props.removing?this._handleRemove(e):this._handleChoose(e)}},{key:"_handleRemove",value:function(e){1===this.context.admin.teams.length&&this.props.onToggleRemove(),this.context.admin.removeTeam(e)}},{key:"_handleChoose",value:function(e){var t=this.props.onChooseAccount,a=this.context.admin,n=a.teams;if(n[e].token)return a.chooseTeam(e);t(d.default.omit(n[e],["token"]),n[e].user)}},{key:"_handleNew",value:function(){this.props.onChangeMode("team")}},{key:"_handleToggleRemove",value:function(){this.context.admin.teams.length>0&&this.props.onToggleRemove()}}]),t}(s.default.Component);f.contextTypes={admin:i.default.object,flash:i.default.object},f.propTypes={removing:i.default.bool,onChangeMode:i.default.func,onChooseAccount:i.default.func,onSet:i.default.func,onToggleRemove:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(36));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.team=null,l._handleSubmit=l._handleSubmit.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.status;return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-form"},s.default.createElement("div",{className:"maha-avatar"},s.default.createElement("div",{className:"maha-avatar-badge"},s.default.createElement("div",{className:"maha-avatar-wrapper"},s.default.createElement(u.default,{src:"/images/maha.png",title:"The Maha Platform",transforms:{fit:"cover",w:150,h:150}})))),s.default.createElement("h2",null,"The Maha Platform"),s.default.createElement("p",null,"Sign in To Your Team"),s.default.createElement("form",{className:"ui form",onSubmit:this._handleSubmit},s.default.createElement("div",{className:"field team-field"},s.default.createElement("div",{className:"ui fluid left icon input"},s.default.createElement("i",{className:"user icon"}),s.default.createElement("input",{className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"team",type:"text",ref:function(t){return e.team=t}}))),s.default.createElement("div",{className:"field button-field"},s.default.createElement("button",{className:"ui fluid large "+("submitting"===t?"loading":"")+" button"},"Continue ",s.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"componentDidMount",value:function(){this.props.onSet(null,null,"team")}},{key:"_handleSubmit",value:function(e){return(0,this.props.onTeam)(this.team.value),e.preventDefault(),!1}}]),t}(s.default.Component);c.contextTypes={flash:i.default.object},c.propTypes={active:i.default.number,status:i.default.string,onSet:i.default.func,onTeam:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=c(a(9)),d=c(a(117));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.email=null,l._handleBack=l._handleBack.bind(l),l._handleSubmit=l._handleSubmit.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.status,n=t.team;return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-form"},n&&s.default.createElement(d.default,{team:n,width:"150"}),n&&s.default.createElement("h2",null,n.title),s.default.createElement("form",{className:"ui form",onSubmit:this._handleSubmit},s.default.createElement("div",{className:"field email-field"},s.default.createElement("div",{className:"ui fluid left icon input"},s.default.createElement("i",{className:"user icon"}),s.default.createElement("input",{className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Email",type:"email",ref:function(t){return e.email=t}}))),s.default.createElement("div",{className:"field button-field"},s.default.createElement("button",{className:"ui fluid large "+("submitting"===a?"loading":"")+" button"},"Continue ",s.default.createElement("i",{className:"right chevron icon"})))),s.default.createElement("p",null,s.default.createElement("a",{onClick:this._handleBack},"Wrong team?")),n&&u.default.includes(n.strategies,"cornell")&&s.default.createElement("p",null,s.default.createElement("a",{href:"/signin/cornell?state="+this.encodedState},"Signin with CUWebAuth")),n&&u.default.includes(n.strategies,"google")&&s.default.createElement("p",null,s.default.createElement("a",{href:"/signin/google?state="+this.encodedState},"Signin with Google"))))}},{key:"componentDidMount",value:function(){this.props.onSet(this.props.team,null,"email"),this.encodedState=btoa(JSON.stringify({team_id:this.props.team.id}))}},{key:"_handleBack",value:function(){this.context.router.goBack()}},{key:"_handleSubmit",value:function(e){var t=this.props,a=t.team,n=t.onEmail,l=this.email.value;return n(a.id,l),e.preventDefault(),!1}}]),t}(s.default.Component);f.contextTypes={router:i.default.object},f.propTypes={status:i.default.string,team:i.default.object,onEmail:i.default.func,onSet:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=c(a(25)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.password=null,l._handleBack=l._handleBack.bind(l),l._handleForgot=l._handleForgot.bind(l),l._handleSubmit=l._handleSubmit.bind(l),l._handleTogglePassword=l._handleTogglePassword.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.status,l=t.user;return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-form"},s.default.createElement("div",{className:"maha-signin-content"},l&&s.default.createElement(u.default,{user:l,width:"150"}),l&&s.default.createElement("h2",null,l.full_name),l&&s.default.createElement("p",null,l.email)),s.default.createElement("form",{className:"ui form",onSubmit:this._handleSubmit},s.default.createElement("div",{className:"field password-field"},s.default.createElement("div",{className:"ui fluid left icon input"},s.default.createElement("i",{className:"lock icon"}),s.default.createElement("input",{className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Password",type:a?"text":"password",ref:function(t){return e.password=t}}),s.default.createElement("a",{onClick:this._handleTogglePassword},a?"HIDE":"SHOW"))),s.default.createElement("div",{className:"field button-field"},s.default.createElement("button",{className:"ui fluid large "+("submitting"===n?"loading":"")+" button"},"Signin"))),s.default.createElement("div",{className:"maha-signin-content"},s.default.createElement("p",null,s.default.createElement("a",{onClick:this._handleBack},"Not you?")),s.default.createElement("p",null,s.default.createElement("a",{onClick:this._handleForgot},"Forgot your password?")))))}},{key:"componentDidMount",value:function(){this.props.onSet(this.props.team,this.props.user,"password")}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.status,n=t.team,l=t.token,r=t.user,o=this.context,s=o.admin,i=o.flash,u=o.router;if(e.status!==a&&"reset"===a&&i.set("info","Please check your email for password reset instructions"),e.token!==l){this.password.blur();var c=d.default.findIndex(s.teams,{id:n.id,user:{id:r.id}});n.strategy="local",c>=0?s.teams[c].token?s.chooseTeam(c):s.signin(c,l):s.addTeam(n,l,r),u.push("/admin")}}},{key:"_handleBack",value:function(){this.context.router.goBack()}},{key:"_handleSubmit",value:function(e){var t=this.props,a=t.team,n=t.user,l=t.onPassword,r=this.password.value;return l(a.id,n.email,r),e.preventDefault(),!1}},{key:"_handleTogglePassword",value:function(){this.props.onTogglePassword()}},{key:"_handleForgot",value:function(){var e=this.props,t=e.team,a=e.user;(0,e.onForgot)(t.id,a.email)}}]),t}(s.default.Component);f.contextTypes={admin:i.default.object,flash:i.default.object,router:i.default.object},f.propTypes={show:i.default.bool,status:i.default.string,team:i.default.object,token:i.default.string,user:i.default.object,onSet:i.default.func,onPassword:i.default.func,onForgot:i.default.func,onTogglePassword:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.team=function(e){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/signin/team",body:{subdomain:e},request:"TEAM_REQUEST",success:"TEAM_SUCCESS",failure:"TEAM_FAILURE"}},t.email=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/signin/email",body:{team_id:e,email:t},request:"EMAIL_REQUEST",success:"EMAIL_SUCCESS",failure:"EMAIL_FAILURE"}},t.password=function(e,t,a){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/signin/password",body:{team_id:e,email:t,password:a},request:"PASSWORD_REQUEST",success:"PASSWORD_SUCCESS",failure:"PASSWORD_FAILURE"}},t.forgot=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/reset/email",body:{team_id:e,email:t},request:"FORGOT_REQUEST",success:"FORGOT_SUCCESS",failure:"FORGOT_FAILURE"}},t.changeMode=function(e){return{type:"CHANGE_MODE",mode:e}},t.togglePassword=function(){return{type:"TOGGLE_PASSWORD"}},t.chooseAccount=function(e,t){return{type:"CHOOSE_ACCOUNT",team:e,user:t}},t.toggleRemove=function(){return{type:"TOGGLE_REMOVE"}},t.set=function(e,t,a){return{type:"SET",team:e,user:t,mode:a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={mode:"verify",status:"pending",token:null,team:null,question:null,user:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"VERIFY_REQUEST":return(0,n.default)({},e,{error:null,status:"submitting",token:t.request.params.token});case"PASSWORD_REQUEST":case"SECURITY_REQUEST":return(0,n.default)({},e,{error:null,status:"submitting"});case"PASSWORD_FAILURE":case"SECURITY_FAILURE":return(0,n.default)({},e,{status:"failure",error:t.result.meta.message});case"VERIFY_FAILURE":return(0,n.default)({},e,{mode:"invalid",status:"failure"});case"VERIFY_SUCCESS":return(0,n.default)({},e,{mode:"security",user:t.result.data.user,question:t.result.data.question,status:"success"});case"SECURITY_SUCCESS":return(0,n.default)({},e,{status:"success",mode:"password"});case"PASSWORD_SUCCESS":return(0,n.default)({},e,{token:t.result.data.token,team:t.result.data.team,status:"success",mode:"complete"});case"CHANGE_MODE":return(0,n.default)({},e,{mode:t.mode});case"RESET":return l;default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(44)),l=v(a(2)),r=v(a(3)),o=v(a(4)),s=v(a(5)),i=a(21),u=v(a(1)),d=v(a(1216)),c=v(a(1217)),f=v(a(1218)),m=v(a(1219)),p=v(a(1220)),h=v(a(0)),_=v(a(9));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,l.default)(this,t);var a=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.classNames="",a.routes=[{mode:"verify",component:p.default},{mode:"invalid",component:m.default},{mode:"security",component:c.default},{mode:"password",component:f.default},{mode:"complete",component:d.default}],a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.mode;return h.default.createElement("div",{className:"maha-signin"},this.routes.map(function(a){return h.default.createElement(i.CSSTransition,{in:t===a.mode,classNames:e.classNames,timeout:500,mountOnEnter:!0,unmountOnExit:!0,key:a.mode},h.default.createElement(a.component,e.props))}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.onVerify,l=t.pathname.match(/^\/admin\/reset\/(.*)/);a((0,n.default)(l,2)[1])}},{key:"componentWillUpdate",value:function(e){var t=this.props.mode;if(e.mode!==t){var a=_.default.findIndex(this.routes,{mode:t}),n=_.default.findIndex(this.routes,{mode:e.mode});a>=0&&(this.classNames=n>=a?"slide-next":"slide-back")}}},{key:"componentDidUpdate",value:function(e){var t=this.context,a=t.flash,n=t.router,l=this.props,r=l.error,o=l.mode,s=l.status;if(e.status!==s&&"failure"===s&&a.set("error",r),o!==e.mode){var i="/admin/reset/"+o;n.push(i)}}}]),t}(h.default.Component);y.contextTypes={admin:u.default.object,flash:u.default.object,router:u.default.object},y.propTypes={error:u.default.string,location:u.default.object,mode:u.default.string,status:u.default.string,onVerify:u.default.func},t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"maha-signin-panel"},i.default.createElement("div",{className:"maha-signin-form"},i.default.createElement("div",{className:"maha-signin-content"},i.default.createElement("h1",null,i.default.createElement("i",{className:"fa fa-check-circle"})),i.default.createElement("h2",null,"Congratulations!"),i.default.createElement("p",null,"Your password was successfully reset!"),i.default.createElement("div",{className:"field button-field"},i.default.createElement("button",{className:"ui fluid large button",onClick:this._handleClick},"Continue ",i.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"_handleClick",value:function(){var e=this.props,t=e.team,a=e.token,n=e.user,l=this.context,r=l.admin,o=l.flash,s=l.router,i=u.default.findIndex(r.teams,{id:t.id,user:{id:n.id}});i>=0?r.signin(i,a):r.addTeam(t,a,n),setTimeout(function(){o.set("success","Your password has been successfully reset")},500),s.push("/admin")}}]),t}(i.default.Component);c.contextTypes={admin:s.default.object,flash:s.default.object,router:s.default.object},c.propTypes={team:s.default.object,token:s.default.string,user:s.default.object,onChangeMode:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(25));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.answer=null,l._handleSubmit=l._handleSubmit.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.question,n=t.user;return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-form"},n&&s.default.createElement(u.default,{user:n,width:"150"}),n&&s.default.createElement("h2",null,n.full_name),s.default.createElement("p",null,"Hi ",n.first_name,". Before we can reset your password, Please answer the following security question to prove your identity."),s.default.createElement("p",null,a.text),s.default.createElement("form",{className:"ui form",onSubmit:this._handleSubmit},s.default.createElement("div",{className:"field email-field"}),s.default.createElement("div",{className:"field text-field"},s.default.createElement("input",{className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Answer",type:"text",ref:function(t){return e.answer=t}})),s.default.createElement("div",{className:"field button-field"},s.default.createElement("button",{className:"ui fluid large "+("submitting"===status?"loading":"")+" button"},"Continue ",s.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"_handleSubmit",value:function(e){var t=this.props,a=t.token,n=t.onSecurity;return this.answer.focus(),n(a,this.answer.value),e.preventDefault(),!1}}]),t}(s.default.Component);c.propTypes={question:i.default.object,token:i.default.string,user:i.default.object,onSecurity:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(25)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.password=null,l.confirmation=null,l._handleSubmit=l._handleSubmit.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.user;return u.default.createElement("div",{className:"maha-signin-panel"},u.default.createElement("div",{className:"maha-signin-form"},u.default.createElement("div",{className:"maha-signin-content"},t&&u.default.createElement(i.default,{user:t,width:"150"}),t&&u.default.createElement("h2",null,t.full_name),u.default.createElement("h3",null,"Please enter and confirm your new password")),u.default.createElement("form",{className:"ui form",onSubmit:this._handleSubmit},u.default.createElement("div",{className:"field text-field"},u.default.createElement("div",{className:"ui left icon input"},u.default.createElement("i",{className:"lock icon"}),u.default.createElement("input",{type:"password",className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Password",ref:function(t){return e.password=t}}))),u.default.createElement("div",{className:"field text-field"},u.default.createElement("div",{className:"ui left icon input"},u.default.createElement("i",{className:"lock icon"}),u.default.createElement("input",{type:"password",className:"form-control",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",placeholder:"Confirm",ref:function(t){return e.confirmation=t}}))),u.default.createElement("div",{className:"field button-field"},u.default.createElement("button",{className:"ui fluid large "+("submitting"===status?"loading":"")+" button"},"Continue ",u.default.createElement("i",{className:"right chevron icon"}))))))}},{key:"_handleSubmit",value:function(e){var t=this.props,a=t.token,n=t.onPassword;return this.password.focus(),n(a,this.password.value,this.confirmation.value),e.preventDefault(),!1}}]),t}(u.default.Component);c.contextTypes={admin:s.default.object,flash:s.default.object},c.propTypes={question:s.default.object,team:s.default.object,token:s.default.string,user:s.default.object,onPassword:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-form"},s.default.createElement("div",{className:"maha-signin-content"},s.default.createElement("h1",null,s.default.createElement("i",{className:"fa fa-warning"})),s.default.createElement("h2",null,"Invalid Reset Link"),s.default.createElement("h3",null,"This link is invalid or has expired"))))}}]),t}(s.default.Component);t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"maha-signin-panel"},s.default.createElement("div",{className:"maha-signin-form"},s.default.createElement("div",{className:"maha-signin-content"},s.default.createElement("p",null,s.default.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw"})),s.default.createElement("h2",null,"Verifying Reset Link..."))))}}]),t}(s.default.Component);t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.verify=function(e){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/reset/verify",body:{token:e},request:"VERIFY_REQUEST",success:"VERIFY_SUCCESS",failure:"VERIFY_FAILURE"}},t.security=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/reset/security",body:{token:e,answer:t},request:"SECURITY_REQUEST",success:"SECURITY_SUCCESS",failure:"SECURITY_FAILURE"}},t.password=function(e,t,a){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/reset/password",body:{token:e,password:t,confirmation:a},request:"PASSWORD_REQUEST",success:"PASSWORD_SUCCESS",failure:"PASSWORD_FAILURE"}},t.changeMode=function(e){return{type:"CHANGE_MODE",mode:e}},t.togglePassword=function(){return{type:"TOGGLE_PASSWORD"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={status:"pending",push:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SAVE_SUBSCRIPTION_SUCCESS":return(0,n.default)({},e,{status:"success",push:"granted"});case"LOAD_PUSH_SUCCESS":return(0,n.default)({},e,{push:t.value||"unknown"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(1224)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.alert=null,n._handleAskNextTime=n._handleAskNextTime.bind(n),n._handleDismissNotifications=n._handleDismissNotifications.bind(n),n._handleNeverAskAgain=n._handleNeverAskAgain.bind(n),n._handleNotification=n._handleNotification.bind(n),n._handlePromptNotifications=n._handlePromptNotifications.bind(n),n._handleEnableNotifications=n._handleEnableNotifications.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.props.children}},{key:"componentDidMount",value:function(){this.props.onLoadPush()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.push,n=t.onSavePush;a!==e.push&&("unknown"===a?this._handleAskNotification():"granted"===a&&n("granted"))}},{key:"getChildContext",value:function(){return{host:{notifications:this._getNotifications(),pushNotification:this._handleNotification,promptNotifications:this._handlePromptNotifications}}}},{key:"_getAskAlert",value:function(){var e=this;return{priority:2,color:"blue",component:function(){return u.default.createElement("div",{className:"maha-browser-alert"},u.default.createElement("div",{className:"maha-browser-alert-message"},u.default.createElement("p",null,"We need your permission to ",u.default.createElement("span",{onClick:e._handlePromptNotifications},"enable desktop notifications"))),u.default.createElement("div",{className:"maha-browser-alert-dismiss",onClick:e._handleDismissNotifications},u.default.createElement("i",{className:"fa fa-times"})))}}}},{key:"_getConfirmAlert",value:function(){var e=this;return{priority:2,color:"green",component:function(){return u.default.createElement("div",{className:"maha-browser-alert"},u.default.createElement("div",{className:"maha-browser-alert-message"},u.default.createElement("p",null,"We recommend enabling desktop notifications on this device ",u.default.createElement("span",{onClick:e._handlePromptNotifications},"Enable Notifications")," ",u.default.createElement("span",{onClick:e._handleAskNextTime},"Ask me next time")," ",u.default.createElement("span",{onClick:e._handleNeverAskAgain},"Never ask again on this computer"))))}}}},{key:"_getCapability",value:function(){return window.Notification&&navigator.serviceWorker}},{key:"_getNotifications",value:function(){var e=this._getHiddenProp();if(!e)return!1;var t=document[e];return this._getCapability()&&"granted"===Notification.permission&&t}},{key:"_getHiddenProp",value:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},{key:"_getSubscribeOptions",value:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),n=new Uint8Array(a.length),l=0;l<a.length;++l)n[l]=a.charCodeAt(l);return{userVisibleOnly:!0,applicationServerKey:n}}},{key:"_handleAskNotification",value:function(){this._getCapability()&&!d.default.includes(["denied","granted"],Notification.permission)&&(this.alert=this._getAskAlert(),this.context.alerts.push(this.alert))}},{key:"_handlePromptNotifications",value:function(){var e=this;Notification.requestPermission(function(t){"granted"===t&&e._handleEnableNotifications()})}},{key:"_handleDismissNotifications",value:function(){this.context.alerts.pop(),this.alert=this._getConfirmAlert(),this.context.alerts.push(this.alert)}},{key:"_handleAskNextTime",value:function(){this.context.alerts.pop()}},{key:"_handleNeverAskAgain",value:function(){this.props.onSavePush("never"),this.context.alerts.pop()}},{key:"_handleEnableNotifications",value:function(){var e=this,t=this.props.onSaveSubscription;this._handleNotification({title:"Test Notification",body:"This is a notification"}),navigator.serviceWorker.register("/admin/js/notifications.js").then(function(e){return new n.default(function(t){return setTimeout(function(){return t(e)},100)})}).then(function(t){var a=e._getSubscribeOptions("BJ4QYD8rLzBxqWjz7bu-LNHgXKySMsIpOMcXc7Weq5rgPHsTtPIt303hhViecF-CUUGuh2WDIWLN_xPorx5EZvM");return t.pushManager.subscribe(a)}).then(function(e){var a=JSON.parse(JSON.stringify(e));return t({agent:navigator.userAgent,endpoint:a.endpoint,p256dh:a.keys.p256dh,auth:a.keys.auth}),e}).then(function(){e.context.alerts.pop()}).catch(function(e){console.error("Unable to register service worker.",e)})}},{key:"_handleNotification",value:function(e){var t=e.title,a=e.body,n=e.url,l=e.onClick;new Notification(t,{icon:"/images/maha.png",sound:"/audio/notification.mp3",body:a}).onclick=function(e){e.preventDefault(),l&&l(),n&&window.open(n,"_blank")}}}]),t}(u.default.Component);f.childContextTypes={host:i.default.object},f.contextTypes={alerts:i.default.object},f.propTypes={children:i.default.any,push:i.default.string,requesting:i.default.bool,onLoadPush:i.default.func,onRequestPermission:i.default.func,onSavePush:i.default.func,onSaveSubscription:i.default.func,onSetPermission:i.default.func},t.default=f},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loadPush=function(){return{type:"LOCAL_GET",key:"push",request:"LOAD_PUSH_REQUEST",success:"LOAD_PUSH_SUCCESS",failure:"LOAD_PUSH_FAILURE"}},t.savePush=function(e){return{type:"LOCAL_SET",key:"push",value:e,request:"SAVE_PUSH_REQUEST",success:"SAVE_PUSH_SUCCESS",failure:"SAVE_PUSH_FAILURE"}},t.saveSubscription=function(e){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/push",body:e,request:"SAVE_SUBSCRIPTION_REQUEST",success:"SAVE_SUBSCRIPTION_SUCCESS",failure:"SAVE_SUBSCRIPTION_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.children}}]),t}(i(a(0)).default.Component);u.propTypes={children:s.default.any},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(10)),l=s(a(14)),r=s(a(7)),o=s(a(9));function s(e){return e&&e.__esModule?e:{default:e}}var i={online:null,channels:{},handlers:[],presence:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"CONNECT":return(0,r.default)({},e,{online:!0});case"DISCONNECT":return(0,r.default)({},e,{online:!1,channels:Object.keys(e.channels).reduce(function(e,t){return(0,r.default)({},e,(0,l.default)({},t,!1))},{})});case"JOIN_SUCCESS":return(0,r.default)({},e,{channels:(0,r.default)({},e.channels,(0,l.default)({},t.channel,!0))});case"LEAVE_SUCCESS":return(0,r.default)({},e,{channels:(0,r.default)({},o.default.omit(e.channels,t.channel))});case"SUBSCRIBE":return(0,r.default)({},e,{handlers:[].concat((0,n.default)(e.handlers),[t.handler])});case"UNSUBSCRIBE":return(0,r.default)({},e,{handlers:[].concat((0,n.default)(e.handlers.filter(function(e){return!o.default.isEqual(e,t.handler)})))});case"PRESENCE":return(0,r.default)({},e,{presence:t.handler});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleConnect=l._handleConnect.bind(l),l._handleDisconnect=l._handleDisconnect.bind(l),l._handleEmit=l._handleEmit.bind(l),l._handleJoin=l._handleJoin.bind(l),l._handleLeave=l._handleLeave.bind(l),l._handlePresence=l._handlePresence.bind(l),l._handleReceiveMessage=l._handleReceiveMessage.bind(l),l._handleRequest=l._handleRequest.bind(l),l._handleSendMessage=l._handleSendMessage.bind(l),l._handleSignin=l._handleSignin.bind(l),l._handleSignout=l._handleSignout.bind(l),l._handleSubscribe=l._handleSubscribe.bind(l),l._handleUnsubscribe=l._handleUnsubscribe.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.children}},{key:"componentDidMount",value:function(){var e=this._handleConnect,t=this._handleDisconnect,a=this._handleReceiveMessage,n=this._handlePresence;this.props.onInit(e,t,a,n)}},{key:"componentDidUpdate",value:function(e){this.props.online!==e.online&&(!0===e.online&&this._handleOfflineAlert(),!1===e.online&&this._handleOnlineAlert())}},{key:"getChildContext",value:function(){return{network:{emit:this._handleEmit,join:this._handleJoin,leave:this._handleLeave,message:this._handleSendMessage,request:this._handleRequest,signin:this._handleSignin,signout:this._handleSignout,subscribe:this._handleSubscribe,unsubscribe:this._handleUnsubscribe}}}},{key:"_getHandlers",value:function(e,t){var a=u.default.filter(this.props.handlers,{target:e,action:t});if(a.length>0)return a;var n=u.default.filter(this.props.handlers,{action:t});return n.length>0?n:null}},{key:"_handleConnect",value:function(){var e=this;this.props.onConnect(),null!==this.props.online&&(this._handleSignin({status:document.hasFocus()?"active":"absent"}),setTimeout(function(){return e._handleJoin(Object.keys(e.props.channels))},500))}},{key:"_handleOnlineAlert",value:function(){var e=this.context.alerts;e.pop(),e.push({priority:1,color:"green",message:"You're back online!"}),setTimeout(e.pop,2500)}},{key:"_handleDisconnect",value:function(){this.props.onDisconnect()}},{key:"_handleOfflineAlert",value:function(){this.context.alerts.push({priority:1,color:"yellow",message:"Unable to connect to the server. We'll keep trying to reconnect."})}},{key:"_handleJoin",value:function(e){var t=this;u.default.castArray(e).map(function(e){t.props.onJoin(e)})}},{key:"_handleLeave",value:function(e){var t=this;u.default.castArray(e).map(function(e){t.props.onLeave(e)})}},{key:"_handleSubscribe",value:function(e){var t=this;u.default.castArray(e).map(function(e){t.props.onSubscribe(e)})}},{key:"_handleUnsubscribe",value:function(e){var t=this;u.default.castArray(e).map(function(e){t.props.onUnsubscribe(e)})}},{key:"_handleSendMessage",value:function(e){var t=e.channel,a=e.target,n=e.action,l=e.data;this.props.onMessage("message",t,{target:a||t,action:n,data:l})}},{key:"_handleEmit",value:function(e,t){this.props.onMessage(e,null,t)}},{key:"_handlePresence",value:function(e){var t=this._getHandlers(null,"presence");t&&t.map(function(t){return t.handler(e)})}},{key:"_handleReceiveMessage",value:function(e){var t=e.target,a=e.action,n=this._getHandlers(t,a);n&&n.map(function(t){return t.handler(e.data)})}},{key:"_handleRequest",value:function(e){(0,this.props.onRequest)(e)}},{key:"_handleSignin",value:function(e){this._handleEmit("signin",e)}},{key:"_handleSignout",value:function(){this._handleEmit("signout")}}]),t}(i.default.Component);c.childContextTypes={network:s.default.object},c.contextTypes={alerts:s.default.object},c.propTypes={channels:s.default.object,handlers:s.default.array,children:s.default.any,online:s.default.bool,onConnect:s.default.func,onDisconnect:s.default.func,onEmit:s.default.func,onInit:s.default.func,onJoin:s.default.func,onLeave:s.default.func,onMessage:s.default.func,onPresence:s.default.func,onRequest:s.default.func,onSubscribe:s.default.func,onUnsubscribe:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.init=function(e,t,a,n){return{type:"SOCKETIO_INIT",connect:e,disconnect:t,message:a,presence:n}},t.connect=function(){return{type:"CONNECT"}},t.disconnect=function(){return{type:"DISCONNECT"}},t.join=function(e){return{type:"SOCKETIO_JOIN",channel:e,request:"JOIN_REQUEST",success:"JOIN_SUCCESS",failure:"JOIN_FAILURE"}},t.leave=function(e){return{type:"SOCKETIO_LEAVE",channel:e,request:"LEAVE_REQUEST",success:"LEAVE_SUCCESS",failure:"LEAVE_FAILURE"}},t.message=function(e,t,a){return{type:"SOCKETIO_MESSAGE",verb:e,channel:t,data:a,request:"MESSAGE_REQUEST",success:"MESSAGE_SUCCESS",failure:"MESSAGE_FAILURE"}},t.subscribe=function(e){return{type:"SUBSCRIBE",handler:e}},t.unsubscribe=function(e){return{type:"UNSUBSCRIBE",handler:e}},t.request=function(e){return{type:"API_REQUEST",method:e.method,endpoint:e.endpoint,query:e.query,body:e.body,request:"REQUEST_REQUEST",success:"REQUEST_SUCCESS",failure:"REQUEST_FAILURE",onSuccess:e.onSuccess,onFailure:e.onFailure}},t.presence=function(e){return{type:"PRESENCE",handler:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(411)),i=a(1548),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handlePush=l._handlePush.bind(l),l._handleReplace=l._handleReplace.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.children}},{key:"getChildContext",value:function(){var e=this.context.router;return{router:{action:e.history.action,pathname:e.history.location.pathname,search:e.history.location.search,hash:e.history.location.hash,goBack:this._handleBack,push:this._handlePush,replace:this._handleReplace}}}},{key:"_handleGetParams",value:function(e){return Object.keys(this.props.routes).reduce(function(t,a){if(t)return t;var n=(0,s.default)(e,{path:a,exact:!0});return n?n.params:null},null)}},{key:"_handleBack",value:function(){this.context.router.history.goBack()}},{key:"_handleReplace",value:function(e){this.context.router.history.replace(e)}},{key:"_handlePush",value:function(e){this.context.router.history.push(e)}}]),t}(d.default.Component);f.childContextTypes={router:u.default.object},f.contextTypes={router:u.default.object},f.propTypes={children:u.default.any,routes:u.default.object};var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(i.BrowserRouter,null,d.default.createElement(f,this.props,this.props.children))}}]),t}(d.default.Component);m.propTypes={children:u.default.any},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(1234));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleError=l._handleError.bind(l),l._handleLogin=l._handleLogin.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.children}},{key:"componentDidMount",value:function(){window.Rollbar=this.rollbar=this._getRollbar()}},{key:"getChildContext",value:function(){return{logger:{login:this._handleLogin,error:this._handleError}}}},{key:"_getRollbar",value:function(){return u.default.init({accessToken:"ad5c799fec6b4321bbefce7a39b72093",captureUncaught:!0,payload:{environment:"production"}})}},{key:"_handleLogin",value:function(e){this.rollbar.configure({payload:{person:{id:e.id,username:e.full_name,email:e.email}}})}},{key:"_handleError",value:function(e,t){this.Rollbar.error(e,t)}}]),t}(s.default.Component);c.childContextTypes={logger:i.default.object},c.propTypes={children:i.default.any},t.default=c},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={alerts:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"PUSH":return(0,l.default)({},e,{alerts:[].concat((0,n.default)(e.alerts),[t.alert])});case"POP":return(0,l.default)({},e,{alerts:e.alerts.slice(0,-1)});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(1237)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handlePush=l._handlePush.bind(l),l._handlePop=l._handlePop.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.alert,n=!this.context.router.pathname.match(/\/(activate|signin|reset).*/);return u.default.createElement("div",{className:"maha-alerts"},n&&a&&u.default.createElement(i.default,a),t)}},{key:"getChildContext",value:function(){return{alerts:{push:this._handlePush,pop:this._handlePop}}}},{key:"_handlePush",value:function(e){this.props.onPush(e)}},{key:"_handlePop",value:function(){this.props.onPop()}}]),t}(u.default.Component);c.childContextTypes={alerts:s.default.object},c.contextTypes={router:s.default.object},c.propTypes={alerts:s.default.array,alert:s.default.object,children:s.default.any,onPush:s.default.func,onPop:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.color,a=e.component,n=e.message,r=a;return l.default.createElement("div",{className:"maha-alert "+t},n&&l.default.createElement("div",{className:"maha-alert-message"},n),a&&l.default.createElement(r,null))};o.propTypes={color:n.default.string,component:n.default.any,message:n.default.string},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.push=function(e){return{type:"PUSH",alert:e}},t.pop=function(){return{type:"POP"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.alert=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));t.alert=(0,n.createSelector)(function(e){return e.alerts},function(e){return e.length>0?l.default.sortBy(e,"priority")[e.length-1]:null})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(0)),i=a(6);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"maha-error"},s.default.createElement("div",{className:"maha-error-message"},s.default.createElement("i",{className:"fa fa-fw fa-warning"}),s.default.createElement("h2",null,"Unable to locate the requested resource")))}}]),t}(s.default.Component);t.default=(0,i.Page)(null,function(e,t,a,n){return{title:"404 Not Found",component:d}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s={active:null,apps:null,fingerprint:null,status:"pending",teams:null,user:null,presence:[],unseen:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"LOAD_ADMIN_REQUEST":return(0,l.default)({},e,{status:"loading"});case"LOAD_ADMIN_SUCCESS":return(0,l.default)({},e,{fingerprint:r.default.random(1e8,999999999).toString(36)},t.value||{active:null,teams:[]},{status:"success"});case"LOAD_ADMIN_FAILURE":return(0,l.default)({},e,{status:"failure"});case"ADD_TEAM":return(0,l.default)({},e,{active:e.teams?e.teams.length:0,teams:[].concat((0,n.default)(e.teams),[(0,l.default)({},t.team,{token:t.token,user:t.user})])});case"SIGNIN":return(0,l.default)({},e,{active:t.index,teams:[].concat((0,n.default)(e.teams.slice(0,t.index)),[(0,l.default)({},e.teams[t.index],{token:t.token})],(0,n.default)(e.teams.slice(t.index+1,e.teams.length)))});case"SIGNOUT_SUCCESS":return(0,l.default)({},e,{active:null,teams:[].concat((0,n.default)(e.teams.slice(0,e.active)),[r.default.omit(e.teams[e.active],["token"])],(0,n.default)(e.teams.slice(e.active+1,e.teams.length)))});case"REMOVE_TEAM":return(0,l.default)({},e,{teams:e.teams.filter(function(e,a){return a!==t.index})});case"REMOVE_ALL_TEAMS":return(0,l.default)({},e,{teams:[]});case"SET_PRESENCE":return(0,l.default)({},e,{presence:t.presence});case"CHOOSE_TEAM":return(0,l.default)({},e,{active:t.index});case"LOAD_SESSION_SUCCESS":return(0,l.default)({},e,{teams:[].concat((0,n.default)(e.teams.slice(0,e.active)),[(0,l.default)({},e.teams[e.active],t.result.data.team,{user:t.result.data.user})],(0,n.default)(e.teams.slice(e.active+1,e.teams.length))),apps:t.result.data.apps,user:t.result.data.user});case"REMOVE_SESSION":return(0,l.default)({},e,{apps:null,user:null});case"UPDATE_SESSION":return(0,l.default)({},e,t.session);case"UPDATE_UNSEEN":return(0,l.default)({},e,{unseen:e.unseen+t.difference});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=c(a(9)),d=c(a(1243));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={host:"browser",path:null,search:null,hash:null},l._handleAddTeam=l._handleAddTeam.bind(l),l._handleBlurFocus=l._handleBlurFocus.bind(l),l._handleCheckAccess=l._handleCheckAccess.bind(l),l._handleChooseTeam=l._handleChooseTeam.bind(l),l._handleForcedSignout=l._handleForcedSignout.bind(l),l._handlePresence=l._handlePresence.bind(l),l._handleReloadSession=l._handleReloadSession.bind(l),l._handleRemoveTeam=l._handleRemoveTeam.bind(l),l._handleSignin=l._handleSignin.bind(l),l._handleSignout=l._handleSignout.bind(l),l._handleUpdateUnseen=l._handleUpdateUnseen.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return"loading"===this.props.status?s.default.createElement(d.default,null):this.props.children}},{key:"componentDidMount",value:function(){var e=this.context.router,t=this.context.router,a=t.pathname,n=t.search,l=t.hash;this.setState({host:this._getHost()}),this.props.onLoadAdmin(),a.match(/\/(activate|signin|reset).*/)||(this.setState({pathname:a,search:n,hash:l}),e.replace("/admin"),window.addEventListener("blur",this._handleBlurFocus,!1),window.addEventListener("focus",this._handleBlurFocus,!1))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.active,n=t.fingerprint,l=t.teams,r=t.team,o=t.unseen,s=t.user,i=t.onLoadSession,d=t.onSaveAdmin,c=this.context.router,f=this.state,m=f.pathname,p=f.search,h=f.hash;if(u.default.get(e,"team.user.id")!==u.default.get(r,"user.id")&&(u.default.isNil(e.team)||this._closeSockets(e.team),u.default.isNil(r)||i(r.token,n)),!u.default.isEqual(e.teams,l)){var _=["activate","reset","signin"].reduce(function(e,t){return e||c.pathname.startsWith("/admin/"+t)},!1);r||_||c.replace("/admin/signin"),s||d({active:a,fingerprint:n,teams:l})}if(u.default.isEqual(e.user,s)||d({active:a,fingerprint:n,teams:l}),u.default.get(e,"user.id")!==u.default.get(s,"id")&&!u.default.isNil(s)){if(this.context.logger.login(s),this._openSockets(r),c.pathname.match(/\/(activate|signin|reset).*/))return;m&&(setTimeout(function(){return c.push({pathname:m,search:p,hash:h})},250),this.setState({pathname:null,search:null,hash:null}))}if(o!==e.unseen){var v=o<10?o:"x",y=document.getElementById("favicon");y.type="image/x-icon",y.rel="shortcut icon",y.href="/admin/images/icons/favicon-"+v+".png",document.getElementsByTagName("head")[0].appendChild(y)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("blur",this._handleBlurFocus),window.removeEventListener("focus",this._handleBlurFocus)}},{key:"getChildContext",value:function(){var e=this.props;return{admin:{apps:e.apps,active:e.active,teams:e.teams,team:e.team,unseen:e.unseen,user:e.user,addTeam:this._handleAddTeam,checkAccess:this._handleCheckAccess,chooseTeam:this._handleChooseTeam,removeTeam:this._handleRemoveTeam,signin:this._handleSignin,signout:this._handleSignout,updateUnseen:this._handleUpdateUnseen}}}},{key:"_getHost",value:function(){return navigator.userAgent.search("Cordova")>=0?"cordova":navigator.userAgent.search("Electron")>=0?"electron":"browser"}},{key:"_openSockets",value:function(e){var t=this.context.network;t.join(["/admin/users/"+e.user.id,"/admin/teams/"+e.id]),t.subscribe([{action:"session",handler:this._handleReloadSession},{action:"signout",handler:this._handleForcedSignout},{action:"presence",handler:this._handlePresence}]),t.signin({status:document.hasFocus()?"active":"absent"})}},{key:"_closeSockets",value:function(e){var t=this.context.network;t.leave(["/admin/users/"+e.user.id,"/admin/teams/"+e.id]),t.unsubscribe([{action:"session",handler:this._handleReloadSession},{action:"signout",handler:this._handleForcedSignout},{action:"presence",handler:this._handlePresence}]),t.signout()}},{key:"_handleForcedSignout",value:function(){var e=this.context.flash;this._handleSignout(),e.set("info","Your account has been signed out of all devices")}},{key:"_handleAddTeam",value:function(e,t,a){this.props.onAddTeam(e,t,a)}},{key:"_handleBlurFocus",value:function(){this.props.team&&this.context.network.emit("status",{status:document.hasFocus()?"active":"absent"})}},{key:"_handleCheckAccess",value:function(e){return u.default.findIndex(this.props.apps,{code:e})>=0}},{key:"_handleChooseTeam",value:function(e){var t=this.context.router,a=this.props,n=a.active,l=a.onChooseTeam;e===n?t.push("/admin"):l(e)}},{key:"_handleRemoveTeam",value:function(e){this.props.onRemoveTeam(e)}},{key:"_handleSignout",value:function(){var e=this.props,t=e.active,a=e.onRemoveSession,n=e.onSignout;a(),n(t)}},{key:"_handleSignin",value:function(e,t){this.props.onSignin(e,t)}},{key:"_handlePresence",value:function(e){this.props.onSetPresence(e)}},{key:"_handleReloadSession",value:function(){var e=this.props,t=e.team;(0,e.onLoadSession)(t.token)}},{key:"_handleUpdateUnseen",value:function(e){this.props.onUpdateUnseen(e)}}]),t}(s.default.Component);f.childContextTypes={admin:i.default.object},f.contextTypes={flash:i.default.object,logger:i.default.object,network:i.default.object,router:i.default.object},f.propTypes={active:i.default.number,apps:i.default.array,children:i.default.any,fingerprint:i.default.string,presence:i.default.array,sessions:i.default.array,session:i.default.object,status:i.default.string,teams:i.default.array,team:i.default.object,unseen:i.default.number,user:i.default.object,onAddTeam:i.default.func,onChooseTeam:i.default.func,onLoadAdmin:i.default.func,onLoadSession:i.default.func,onRemoveSession:i.default.func,onRemoveTeam:i.default.func,onSaveAdmin:i.default.func,onSetPresence:i.default.func,onSignin:i.default.func,onSignout:i.default.func,onUpdateSession:i.default.func,onUpdateUnseen:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0));t.default=function(){return n.default.createElement("div",{className:"maha-loader"},n.default.createElement("div",{className:"ui active inverted dimmer"},n.default.createElement("div",{className:"ui large text loader"},"Loading")))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loadAdmin=function(){return{type:"LOCAL_GET",key:"admin",request:"LOAD_ADMIN_REQUEST",success:"LOAD_ADMIN_SUCCESS",failure:"LOAD_ADMIN_FAILURE"}},t.saveAdmin=function(e){return{type:"LOCAL_SET",key:"admin",value:e,request:"SAVE_ADMIN_REQUEST",success:"SAVE_ADMIN_SUCCESS",failure:"SAVE_ADMIN_FAILURE"}},t.loadSession=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/session",fingerprint:t,token:e,request:"LOAD_SESSION_REQUEST",success:"LOAD_SESSION_SUCCESS",failure:"LOAD_SESSION_FAILURE"}},t.addTeam=function(e,t,a){return{type:"ADD_TEAM",team:e,token:t,user:a}},t.removeAllTeams=function(){return{type:"REMOVE_ALL_TEAMS"}},t.removeTeam=function(e){return{type:"REMOVE_TEAM",index:e}},t.signin=function(e,t){return{type:"SIGNIN",index:e,token:t}},t.signout=function(e){return{type:"API_REQUEST",method:"DELETE",endpoint:"/api/admin/session",request:"SIGNOUT_REQUEST",success:"SIGNOUT_SUCCESS",failure:"SIGNOUT_FAILURE"}},t.setPresence=function(e){return{type:"SET_PRESENCE",presence:e}},t.chooseTeam=function(e){return{type:"CHOOSE_TEAM",index:e}},t.removeSession=function(){return{type:"REMOVE_SESSION"}},t.updateSession=function(e){return{type:"UPDATE_SESSION",session:e}},t.updateUnseen=function(e){return{type:"UPDATE_UNSEEN",difference:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.team=void 0;var n=a(12);t.team=(0,n.createSelector)(function(e){return e.teams||[]},function(e){return e.active},function(e,t){return null!==e&&null!==t?e[t]:null})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1247)),r=s(a(1248)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1249));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.Factory)({namespace:"competencies.assignment",component:r.default,reducer:l.default,actions:o});t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={status:"pending",ids:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET":return function(e,t){return(0,n.default)({},e,{ids:t.ids})}(e,t);case"SAVE_SUCCESS":return function(e,t){return(0,n.default)({},e,{status:"success"})}(e);case"SAVE_FAILURE":return function(e,t){return(0,n.default)({},e,{status:"failure"})}(e);default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChange=l._handleChange.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.ToggleList,this._getToggleList())}},{key:"componentDidUpdate",value:function(e){var t=this.props.status,a=this.context.modal;e.status!==t&&"success"===t&&a.close()}},{key:"_getToggleList",value:function(){var e=this.props,t=e.defaultValue,a=e.endpoint,n=e.format;return{defaultValue:t,endpoint:a,filters:e.filters,format:n,text:e.text,value:e.value,onChange:this._handleChange}}},{key:"_handleChange",value:function(e){this.props.onSet(e)}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSave",value:function(){var e=this.props,t=e.action,a=e.ids;this.props.onSave(t,{ids:a})}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={action:i.default.string,defaultValue:i.default.array,endpoint:i.default.string,filters:i.default.array,format:i.default.any,ids:i.default.array,status:i.default.string,title:i.default.string,text:i.default.string,value:i.default.string,onSave:i.default.func,onSet:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.save=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:e,body:t,request:"SAVE_REQUEST",success:"SAVE_SUCCESS",failure:"SAVE_FAILURE"}},t.set=function(e){return{type:"SET",ids:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={messages:[],status:"pending",text:"",total:0,signpost:!1,quoted_message_id:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"FETCH_ALL_REQUEST":return(0,l.default)({},e,{status:e.status?"loading":"appending"});case"FETCH_ALL_FAILURE":return(0,l.default)({},e,{status:"failure"});case"FETCH_ALL_SUCCESS":return(0,l.default)({},e,{total:t.result.pagination.total,messages:[].concat((0,n.default)(e.messages),(0,n.default)(t.result.data)),status:"success"});case"CREATE_REQUEST":return(0,l.default)({},e,{messages:[t.message].concat((0,n.default)(e.messages)),quoted_message_id:null,status:"success",text:""});case"CREATE_FAILURE":return(0,l.default)({},e,{messages:[].concat((0,n.default)(e.messages.filter(function(e){return e.code!==t.message.code})))});case"CREATE_SUCCESS":return(0,l.default)({},e,{messages:[].concat((0,n.default)(e.messages.map(function(e){return e.code===t.result.data.code?t.result.data:e}))),quoted_message_id:null,text:""});case"TYPE":return(0,l.default)({},e,{text:t.text});case"ADD":return(0,l.default)({},e,{messages:[t.message].concat((0,n.default)(e.messages.filter(function(e){return e.code!==t.message.code})))});case"SHOW_SIGNPOST":return(0,l.default)({},e,{signpost:t.show});case"QUOTE_MESSAGE":return(0,l.default)({},e,{quoted_message_id:t.id});case"REMOVE":return(0,l.default)({},e,{messages:[].concat((0,n.default)(e.messages.filter(function(e){return e.code!==t.code})))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(7)),l=v(a(2)),r=v(a(3)),o=v(a(4)),s=v(a(5)),i=a(21),u=a(6),d=v(a(493)),c=v(a(1)),f=v(a(189)),m=v(a(8)),p=v(a(494)),h=v(a(0)),_=v(a(9));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleAddMessage=n._handleAddMessage.bind(n),n._handleChooseAssets=n._handleChooseAssets.bind(n),n._handleCreate=n._handleCreate.bind(n),n._handleHello=n._handleHello.bind(n),n._handleQuoteMessage=n._handleQuoteMessage.bind(n),n._handleRemoveMessage=n._handleRemoveMessage.bind(n),n._handleScroll=_.default.throttle(n._handleScroll.bind(n),100),n._handleShowMessage=n._handleShowMessage.bind(n),n._handleScrollToBottom=n._handleScrollToBottom.bind(n),n._handleType=_.default.debounce(n._handleType.bind(n),250,{trailing:!0}),n._handleTyping=_.default.debounce(n._handleTyping.bind(n),250,{leading:!0}),n._handleTypingMessage=n._handleTypingMessage.bind(n),n._handleUpArrow=n._handleUpArrow.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.context.admin,a=this.props,l=a.channel,r=a.messages,o=a.quoted_message,s=a.signpost,c=a.status;return"loading"===c?h.default.createElement(u.Loader,null):h.default.createElement("div",{className:"chat-channel"},l.is_archived&&h.default.createElement("div",{className:"chat-channel-archived"},"This channel is archived"),h.default.createElement("div",{className:"chat-channel-messages"},h.default.createElement("div",{className:"chat-channel-thread",onScroll:this._handleScroll,ref:function(t){return e.body=t}},h.default.createElement("div",{className:"chat-channel-thread-panel",ref:function(t){return e.thread=t}},"appending"===c&&h.default.createElement("div",{className:"chat-channel-more"},"Loading more..."),r.map(function(t,a){return[t.newday?h.default.createElement(p.default,{date:t.created_at,key:"date_"+a}):null,h.default.createElement(f.default,(0,n.default)({},e._getMessage(t),{key:"message_"+t.id}))]})),h.default.createElement(i.CSSTransition,{in:s,classNames:"popin",timeout:250,mountOnEnter:!0,unmountOnExit:!0},h.default.createElement("div",{className:"chat-signpost-bottom",onClick:this._handleScrollToBottom},h.default.createElement("i",{className:"fa fa-chevron-down"}))),h.default.createElement("div",{ref:function(t){return e.end=t}}))),!l.is_archived&&h.default.createElement("div",{className:"chat-channel-footer"},l.typing&&l.typing.user_id!==t.user.id&&h.default.createElement("div",{className:"chat-channel-typing"},this._getTyping()),o&&h.default.createElement("div",{className:"chat-channel-quote"},h.default.createElement("div",{className:"chat-channel-quote-preview"},h.default.createElement(d.default,{message:o})),h.default.createElement("div",{className:"chat-channel-quote-remove"},h.default.createElement("i",{className:"fa fa-fw fa-times-circle-o",onClick:this._handleQuoteMessage.bind(this,null)}))),h.default.createElement(u.Composer,this._getComposer())))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.channel;(0,e.onFetchAll)(t.id,0),this._handleAppear(),this._handleJoin()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.messages,n=t.text;a.length!==e.messages.length&&setTimeout(this._handleScrollToBottom,250),n.length!==e.text.length&&this._handleTyping()}},{key:"componentWillUnmount",value:function(){this.props.text.length>0&&this._handleTypingMessage("end_type_message"),this._handleDisappear(),this._handleLeave()}},{key:"_getHeader",value:function(){return this.props.channel}},{key:"_getTyping",value:function(){var e=this.props.channel;return(e.subscriptions.length>2?"Somone":e.typing.full_name)+" is typing"}},{key:"_getComposer",value:function(){return{onChange:this._handleType,onChooseAssets:this._handleChooseAssets,onSubmit:this._handleCreate,onUpArrow:this._handleUpArrow}}},{key:"_getMessage",value:function(e){var t=this.props.channel;return(0,n.default)({},e,{channel:t,receipts:t.last_viewed[e.id],onShow:this._handleShowMessage.bind(this,e),onQuoteMessage:this._handleQuoteMessage.bind(this,e.id)})}},{key:"_handleJoin",value:function(){var e="/admin/chat/messages";this.context.network.subscribe([{target:e,action:"appear",handler:this._handleHello},{target:e,action:"add_message",handler:this._handleAddMessage},{target:e,action:"remove_message",handler:this._handleRemoveMessage}])}},{key:"_handleLeave",value:function(){var e="/admin/chat/messages";this.context.network.unsubscribe([{target:e,action:"appear",handler:this._handleHello},{target:e,action:"add_message",handler:this._handleAddMessage},{target:e,action:"remove_message",handler:this._handleRemoveMessage}])}},{key:"_handleHello",value:function(e){var t=e.channel_id,a=e.user;t===this.props.channel.id&&a.id!==this.context.admin.user.id&&this.context.network.emit("chat",{action:"hello",exclude:[this.context.admin.user.id],data:{channel_id:this.props.channel.id,user:{id:this.context.admin.user.id}}})}},{key:"_handleAddMessage",value:function(e){var t=this.props.channel;e.channel_id===t.id&&(this.props.onAdd(e),this.props.onFetch(t.id,e.id))}},{key:"_handleAppear",value:function(){this.context.network.emit("chat",{action:"appear",data:{channel_id:this.props.channel.id,user:{id:this.context.admin.user.id}}})}},{key:"_handleChooseAssets",value:function(e){var t=e.map(function(e){return"http://dev.cdn.mahaplatform.com"+e.path}).join(" ");this._handleCreate(t)}},{key:"_handleDisappear",value:function(){this.context.network.emit("chat",{action:"disappear",data:{channel_id:this.props.channel.id,user:{id:this.context.admin.user.id}}})}},{key:"_handleCreate",value:function(e){var t=this.context.admin,a=this.props,n=a.channel,l=a.quoted_message,r=a.quoted_message_id,o=a.onCreate,s={attachments:[],user:t.user,code:_.default.random(Math.pow(36,9).toString(36),Math.pow(36,10)-1).toString(36),quoted_message:l,quoted_message_id:r,text:e,reactions:[],created_at:(0,m.default)().utc().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z",updated_at:(0,m.default)().utc().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z"};o(n.id,s)}},{key:"_handleType",value:function(e){this.props.onType(e)}},{key:"_handleTyping",value:function(){var e=this.props.text.length>0?"begin_type_message":"end_type_message";this._handleTypingMessage(e)}},{key:"_handleTypingMessage",value:function(e){var t=this.context,a=t.admin,n=t.network,l=this.props.channel;n.emit("chat",{action:e,data:{channel_id:l.id,exclude:[a.user.id],user:{id:a.user.id,full_name:a.user.full_name}}})}},{key:"_handleScroll",value:function(){var e=this.props,t=e.channel,a=e.messages,n=e.signpost,l=e.total,r=this.body.scrollTop<this.thread.offsetHeight-this.body.offsetHeight-100,o=a.length<l&&this.body.scrollTop<100;n!==r&&this.props.onShowSignpost(r),o&&this.props.onFetchAll(t.id,a.length)}},{key:"_handleShowMessage",value:function(e){this.props.onShowMessage(e)}},{key:"_handleQuoteMessage",value:function(e){this.props.onQuoteMessage(e)}},{key:"_handleRemoveMessage",value:function(e){var t=e.channel_id,a=e.code;t===this.props.channel.id&&this.props.onRemove(a)}},{key:"_handleScrollToBottom",value:function(){this.body.scrollTop=this.thread.offsetHeight-this.body.offsetHeight}},{key:"_handleUpArrow",value:function(){var e=this.props,t=e.messages;(0,e.onEdit)(t[0].id)}}]),t}(h.default.Component);y.contextTypes={admin:c.default.object,modal:c.default.object,network:c.default.object},y.propTypes={channel:c.default.object,messages:c.default.array,quoted_message:c.default.object,quoted_message_id:c.default.number,signpost:c.default.bool,status:c.default.string,text:c.default.string,total:c.default.number,onAdd:c.default.func,onCreate:c.default.func,onFetchAll:c.default.func,onFetch:c.default.func,onQuoteMessage:c.default.func,onRemove:c.default.func,onSetTyping:c.default.func,onShowMessage:c.default.func,onShowSignpost:c.default.func,onType:c.default.func},t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleQuoteMessage=l._handleQuoteMessage.bind(l),l._handleDestroyMessage=l._handleDestroyMessage.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.context.admin,t=this.props,a=t.channel,n=t.user;return u.default.createElement("div",{className:"maha-message-actions"},!a.is_archived&&u.default.createElement("div",{className:"maha-message-action"},u.default.createElement(s.Reaction,this._getReaction())),!a.is_archived&&u.default.createElement("div",{className:"maha-message-action"},u.default.createElement("div",{className:"maha-message-reply",title:"Reply to this message",onClick:this._handleQuoteMessage},u.default.createElement("i",{className:"fa fa-fw fa-arrow-circle-left"}))),u.default.createElement("div",{className:"maha-message-action"},u.default.createElement(s.Star,this._getStar())),n.id===e.user.id&&u.default.createElement("div",{className:"maha-message-action"},u.default.createElement("div",{className:"maha-message-delete",title:"Deletethis message",onClick:this._handleDestroyMessage},u.default.createElement("i",{className:"fa fa-fw fa-trash"}))))}},{key:"_getReaction",value:function(){var e=this.props;return{id:e.id,reactions:e.reactions,label:"message",table:"chat_messages"}}},{key:"_getStar",value:function(){var e=this.props;return{id:e.id,is_starred:e.is_starred,label:"message",table:"chat_messages"}}},{key:"_handleDestroyMessage",value:function(){var e=this.context,t=e.network,a=e.confirm,n=this.props,l=n.channel,r=n.id;a.open("Are you sure you want to delete this message?",function(){return t.request({method:"DELETE",endpoint:"/api/admin/chat/channels/"+l.id+"/messages/"+r})})}},{key:"_handleQuoteMessage",value:function(){this.props.onQuoteMessage()}}]),t}(u.default.Component);c.contextTypes={admin:i.default.object,network:i.default.object,confirm:i.default.object},c.propTypes={channel:i.default.object,id:i.default.number,is_starred:i.default.bool,likers:i.default.array,reactions:i.default.array,user:i.default.object,onQuoteMessage:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchAll=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/chat/channels/"+e+"/messages",query:{$page:{skip:t}},request:"FETCH_ALL_REQUEST",success:"FETCH_ALL_SUCCESS",failure:"FETCH_ALL_FAILURE"}},t.fetch=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/chat/channels/"+e+"/messages/"+t,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}},t.create=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/chat/channels/"+e+"/messages",body:{text:t.text,code:t.code,quoted_message_id:t.quoted_message_id},meta:{message:t},request:"CREATE_REQUEST",success:"CREATE_SUCCESS",failure:"CREATE_FAILURE"}},t.type=function(e){return{type:"TYPE",text:e}},t.add=function(e){return{type:"ADD",message:e}},t.showSignpost=function(e){return{type:"SHOW_SIGNPOST",show:e}},t.quoteMessage=function(e){return{type:"QUOTE_MESSAGE",id:e}},t.remove=function(e){return{type:"REMOVE",code:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quoted_message=t.messages=void 0;var n=i(a(7)),l=i(a(10)),r=a(12),o=i(a(8)),s=i(a(9));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){return e.messages};t.messages=(0,r.createSelector)(u,function(e){return e.slice().reverse().reduce(function(e,t){var a=(0,o.default)(t.created_at).diff(e.created_at,"minutes"),r=(0,o.default)(t.created_at).format("D")!==(0,o.default)(e.created_at).format("D"),s=t.user.id!==e.user_id||a>5;return{user_id:t.user.id,created_at:t.created_at,messages:[].concat((0,l.default)(e.messages),[(0,n.default)({},t,{newday:r,full:s})])}},{messages:[],user_id:null,created_at:null}).messages}),t.quoted_message=(0,r.createSelector)(u,function(e,t){return e.quoted_message_id},function(e,t){return s.default.find(e,{id:t})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={channel_type:"active",q:""};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_QUERY":return(0,n.default)({},e,{q:t.q});case"CHANGE_TYPE":return(0,n.default)({},e,{channel_type:t.channel_type});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(7)),l=_(a(2)),r=_(a(3)),o=_(a(4)),s=_(a(5)),i=a(6),u=a(1257),d=_(a(495)),c=a(1258),f=_(a(1)),m=_(a(496)),p=_(a(0)),h=_(a(9));function _(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleNew=n._handleNew.bind(n),n._handleStarred=n._handleStarred.bind(n),n._handleTasks=n._handleTasks.bind(n),n._handleType=h.default.debounce(n._handleType.bind(n),250,{trailing:!0}),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.channels,l=t.q,r=t.showNew,o=t.status;return p.default.createElement("div",{className:this._getClass()},p.default.createElement("div",{className:"chat-channels-header"},p.default.createElement("div",{className:"chat-channels-header-top"},p.default.createElement("div",{className:"chat-channels-header-search"},p.default.createElement(i.Searchbox,this._getSearchbox())),r&&p.default.createElement("div",{className:"chat-channels-header-add",onClick:this._handleNew},p.default.createElement("i",{className:"fa fa-fw fa-plus"}))),p.default.createElement("div",{className:"chat-channels-header-tabs"},p.default.createElement("div",{className:"reframe-tabs"},p.default.createElement("div",{className:"reframe-tabs-items"},p.default.createElement("div",this._getTab("active"),"Active"),p.default.createElement("div",this._getTab("archived"),"Archived"),p.default.createElement("div",this._getTab("starred"),"Starred"))))),0===l.length&&"loading"===o&&p.default.createElement(i.Loading,null),0===l.length&&"loading"!==o&&a.length>0&&p.default.createElement("div",{className:"chat-channels-body"},a.map(function(t,a){return p.default.createElement(d.default,(0,n.default)({},e._getChannel(t),{key:"channel_"+t.id}))})),0===l.length&&"loading"!==o&&0===a.length&&p.default.createElement(u.Empty,this._getEmpty()),l.length>0&&p.default.createElement(i.Infinite,this._getInfinite()),p.default.createElement("div",{className:"chat-channels-footer"},p.default.createElement("span",{className:"chat-channels-type",onClick:this._handleStarred},"Starred Messages")))}},{key:"_getClass",value:function(){var e=["chat-channels"];return this.props.showNew&&e.push("new"),e.join(" ")}},{key:"_getSearchbox",value:function(){return{prompt:"Search...",onChange:this._handleType}}},{key:"_getTab",value:function(e){var t=["reframe-tabs-item"];return e===this.props.channel_type&&t.push("active"),{className:t.join(" "),onClick:this._handleChangeType.bind(this,e)}}},{key:"_getInfinite",value:function(){var e=this;return{empty:function(){return p.default.createElement(u.Empty,e._getEmpty())},endpoint:"/api/admin/chat/search",filter:{q:this.props.q},layout:function(t){return p.default.createElement(c.Results,(0,n.default)({},t,{onChoose:e._handleChoose.bind(e)}))},notFound:u.NotFound}}},{key:"_getChannel",value:function(e){var t=this.props.selected;return(0,n.default)({},e,{active:e.id===t,onClick:this._handleChoose.bind(this,e.id),onContextMenu:this._handleTasks})}},{key:"_getTasks",value:function(e){return{id:e.id,channel:e,title:!0,onArchive:null,onDelete:null,onDone:null,onEdit:null,onLeave:null,onSetMode:null,onSubscriptions:null}}},{key:"_handleChangeType",value:function(e){this.props.onChangeType(e)}},{key:"_getEmpty",value:function(){return{channel_type:this.props.channel_type,onNew:this._handleNew}}},{key:"_handleStarred",value:function(){this.props.onStarred()}},{key:"_handleNew",value:function(){this.props.onNew()}},{key:"_handleChoose",value:function(e){this.props.onChoose(e)}},{key:"_handleTasks",value:function(e,t){return t.stopPropagation(),t.preventDefault(),this.context.tasks.open([{component:p.default.createElement(m.default,this._getTasks(e))}]),!1}},{key:"_handleType",value:function(e){console.log("foo"),this.props.onSetQuery(e)}}]),t}(p.default.Component);v.contextTypes={admin:f.default.object,tasks:f.default.object},v.propTypes={channel_type:f.default.string,channels:f.default.array,q:f.default.string,selected:f.default.number,showNew:f.default.bool,status:f.default.string,onNew:f.default.func,onChangeType:f.default.func,onChoose:f.default.func,onRefresh:f.default.func,onSetQuery:f.default.func,onStarred:f.default.func},t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFound=t.Empty=void 0;var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}(t.Empty=function(e){var t=e.onNew,a=e.channel_type;return r.default.createElement(n.Message,"active"===a?{icon:"comment",title:"No channels",text:"You havent yet started a channel",button:{label:"Start Channel",handler:t}}:"archived"===a?{icon:"archive",title:"No channels",text:"You have not archived any channels"}:"starred"===a?{icon:"star",title:"No channels",text:"You have not starred any channels"}:void 0)}).propTypes={onNew:l.default.func,channel_type:l.default.string};t.NotFound=function(){return r.default.createElement(n.Message,{icon:"times",title:"No Channels",text:"No channels matched your query"})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Results=void 0;var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=p(a(495)),u=p(a(1259)),d=a(20),c=a(1260),f=p(a(1)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.results;return m.default.createElement("div",{className:"chat-search-results"},t.channels.length>0&&m.default.createElement("div",{className:"chat-search-results-section"},m.default.createElement("div",{className:"chat-search-results-section-header"},"Channels"),m.default.createElement("div",{className:"chat-search-results-section-body"},t.channels.map(function(t){return m.default.createElement(i.default,(0,n.default)({},e._getChannel(t),{key:"result_channel_"+t.id}))}))),t.messages.length>0&&m.default.createElement("div",{className:"chat-search-results-section"},m.default.createElement("div",{className:"chat-search-results-section-header"},"Messages"),m.default.createElement("div",{className:"chat-search-results-section-body"},t.messages.map(function(t){return m.default.createElement("div",{key:"result_message_"+t.id,className:"chat-search-results-item",onClick:e._handleChoose.bind(e,t.channel_id)},m.default.createElement(u.default,t))}))))}},{key:"_getChannel",value:function(e){return(0,n.default)({},e,{onClick:this._handleChoose.bind(this,e.id)})}},{key:"_handleChoose",value:function(e){this.props.onChoose(e)}}]),t}(m.default.Component);h.propTypes={results:f.default.object};t.Results=(0,d.connect)(function(e,t){return{results:(0,c.results)(e,t)}})(h)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.user;return d.default.createElement("div",{className:"message-token"},d.default.createElement("div",{className:"message-token-avatar"},d.default.createElement(s.Avatar,{user:a,presence:!0,width:50})),d.default.createElement("div",{className:"message-token-details"},d.default.createElement("div",{className:"message-token-text"},d.default.createElement("strong",null,a.full_name),d.default.createElement("br",null),d.default.createElement("span",null,t)),d.default.createElement("div",{className:"message-token-timestamp"},this._getTimestamp())),d.default.createElement("div",{className:"message-token-extra"}),d.default.createElement("div",{className:"message-token-proceed"},d.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}},{key:"_getTimestamp",value:function(){return(0,u.default)(this.props.created_at).calendar(null,{sameDay:"h:mmA",lastDay:"[Yesterday]",lastWeek:"dddd",sameElse:"M/D/YY"})}}]),t}(d.default.Component);f.contextTypes={admin:i.default.object,network:i.default.object},f.propTypes={attachments:i.default.array,created_at:i.default.string,editing:i.default.bool,full:i.default.bool,receipts:i.default.array,text:i.default.string,type:i.default.string,user:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.results=void 0;var n=a(12);t.results=(0,n.createSelector)(function(e,t){return t.records},function(e){return{channels:e.filter(function(e){return"channel"===e.type}).map(function(e){return e.item}),messages:e.filter(function(e){return"message"===e.type}).map(function(e){return e.item})}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.changeType=function(e){return{type:"CHANGE_TYPE",channel_type:e}},t.setQuery=function(e){return{type:"SET_QUERY",q:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channels=void 0;var n=a(12);t.channels=(0,n.createSelector)(function(e,t){return t.channels},function(e,t){return e.channel_type},function(e,t){return e.filter(function(e){return"starred"===t?!0===e.is_starred:e.is_archived===("archived"===t)})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=i(a(14)),l=i(a(10)),r=i(a(7)),o=i(a(8)),s=i(a(9));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.INITIAL_STATE={active:[],channels:[],channels_status:"pending",typing:[],unread:{},unread_status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case"FETCH_CHANNELS_REQUEST":return(0,r.default)({},e,{channels_status:"loading"});case"FETCH_CHANNELS_FAILURE":return(0,r.default)({},e,{channels_status:"failed"});case"FETCH_CHANNELS_SUCCESS":return(0,r.default)({},e,{channels:t.result.data,channels_status:"success"});case"FETCH_UNREAD_REQUEST":return(0,r.default)({},e,{unread_status:"pending"});case"FETCH_UNREAD_FAILURE":return(0,r.default)({},e,{unread_status:"failed"});case"FETCH_UNREAD_SUCCESS":return(0,r.default)({},e,{unread:t.result.data,unread_status:"success"});case"ACTIVATE_CHANNEL":return(0,r.default)({},e,{channels:[].concat((0,l.default)(e.channels.map(function(e){return(0,r.default)({},e,{is_archived:e.id!==t.channel_id&&e.is_archived})})))});case"ARCHIVE_CHANNEL":return(0,r.default)({},e,{channels:[].concat((0,l.default)(e.channels.map(function(e){return(0,r.default)({},e,{is_archived:e.id===t.channel_id||e.is_archived})})))});case"APPEAR":var a={channel_id:t.channel_id,user_id:t.user_id};return(0,r.default)({},e,{active:[].concat((0,l.default)(e.active.filter(function(e){return e.user_id!==t.user_id})),(0,l.default)(s.default.find(e.active,a)?[]:[a]))});case"ADD_CHANNEL":return(0,r.default)({},e,{channels:[].concat((0,l.default)(e.channels),[t.channel])});case"ADD_TYPING":var i={channel_id:t.channel_id,user_id:t.user_id,full_name:t.full_name};return(0,r.default)({},e,{typing:[].concat((0,l.default)(e.typing.filter(function(e){return e.user_id!==t.user_id})),(0,l.default)(s.default.find(e.typing,i)?[]:[i]))});case"DISAPPEAR":return(0,r.default)({},e,{active:[].concat((0,l.default)(e.active.filter(function(e){return!(e.channel_id===t.channel_id&&e.user_id===t.user_id)})))});case"REMOVE_TYPING":return(0,r.default)({},e,{typing:[].concat((0,l.default)(e.typing.filter(function(e){return!(e.channel_id===t.channel_id&&e.user_id===t.user_id)})))});case"ADD_MESSAGE":return(0,r.default)({},e,{channels:e.channels.map(function(e){return e.id!==t.message.channel_id?e:(0,r.default)({},e,{last_message_at:t.message.created_at,last_message:t.message,subscriptions:[].concat((0,l.default)(e.subscriptions.map(function(e){return e.id!==t.message.user.id?e:(0,r.default)({},e,{last_message:{id:t.message.id,last_viewed_at:(0,o.default)().format("YYYY-MM-DDTHH:mm:ss.SSS")+"Z"}})})))})})});case"REMOVE_CHANNEL":return(0,r.default)({},e,{channels:[].concat((0,l.default)(e.channels.filter(function(e){return e.id!==t.channel_id})))});case"UPDATE_CHANNEL":return(0,r.default)({},e,{channels:[].concat((0,l.default)(e.channels.map(function(e){return e.id!==t.channel.id?e:t.channel})))});case"UPDATE_READ":return(0,r.default)({},e,{channels:[].concat((0,l.default)(e.channels.map(function(e){return e.id!==t.channel_id?e:(0,r.default)({},e,{subscriptions:[].concat((0,l.default)(e.subscriptions.map(function(e){return e.id!==t.reader_id?e:(0,r.default)({},e,{last_message:{id:t.message.id,viewed_at:t.message.viewed_at}})})))})}))),unread:(0,r.default)({},e.unread,(0,n.default)({},t.channel_id,t.user_id===t.reader_id?0:e.unread[t.channel_id]))});case"UPDATE_UNREAD":return(0,r.default)({},e,{unread:t.unread});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleActivateChannel=l._handleActivateChannel.bind(l),l._handleArchiveChannel=l._handleArchiveChannel.bind(l),l._handleAppear=l._handleAppear.bind(l),l._handleAddChannel=l._handleAddChannel.bind(l),l._handleAddMessage=l._handleAddMessage.bind(l),l._handleAddTyping=l._handleAddTyping.bind(l),l._handleDisappear=l._handleDisappear.bind(l),l._handleRemoveChannel=l._handleRemoveChannel.bind(l),l._handleRemoveTyping=l._handleRemoveTyping.bind(l),l._handleUpdateChannel=l._handleUpdateChannel.bind(l),l._handleUpdateRead=l._handleUpdateRead.bind(l),l._handleUpdateUnread=l._handleUpdateUnread.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.props.onFetchChannels(),this.props.onFetchUnread(),this._handleJoin()}},{key:"componentWillUnmount",value:function(){this._handleLeave()}},{key:"_handleJoin",value:function(){var e=this.context.network,t="/admin/chat/messages";e.join(t),e.subscribe([{target:t,action:"appear",handler:this._handleAppear},{target:t,action:"add_channel",handler:this._handleAddChannel},{target:t,action:"add_message",handler:this._handleAddMessage},{target:t,action:"begin_type_message",handler:this._handleAddTyping},{target:t,action:"disappear",handler:this._handleDisappear},{target:t,action:"end_type_message",handler:this._handleRemoveTyping},{target:t,action:"hello",handler:this._handleAppear},{target:t,action:"activate_channel",handler:this._handleActivateChannel},{target:t,action:"archive_channel",handler:this._handleArchiveChannel},{target:t,action:"remove_channel",handler:this._handleRemoveChannel},{target:t,action:"update_channel",handler:this._handleUpdateChannel},{target:t,action:"update_read",handler:this._handleUpdateRead},{target:t,action:"update_unread",handler:this._handleUpdateUnread}])}},{key:"_handleLeave",value:function(){var e=this.context.network,t="/admin/chat/messages";e.leave(t),e.unsubscribe([{target:t,action:"appear",handler:this._handleAppear},{target:t,action:"add_channel",handler:this._handleAddChannel},{target:t,action:"add_message",handler:this._handleAddMessage},{target:t,action:"begin_type_message",handler:this._handleAddTyping},{target:t,action:"end_type_message",handler:this._handleRemoveTyping},{target:t,action:"hello",handler:this._handleAppear},{target:t,action:"replace_message",handler:this._handleReplaceMessage},{target:t,action:"activate_channel",handler:this._handleActivateChannel},{target:t,action:"archive_channel",handler:this._handleArchiveChannel},{target:t,action:"remove_channel",handler:this._handleRemoveChannel},{target:t,action:"remove_message",handler:this._handleRemoveMessage},{target:t,action:"update_channel",handler:this._handleUpdateChannel},{target:t,action:"update_read",handler:this._handleUpdateRead},{target:t,action:"update_unread",handler:this._handleUpdateUnread}])}},{key:"_handleActivateChannel",value:function(e){var t=e.channel_id;this.props.onActivateChannel(t)}},{key:"_handleArchiveChannel",value:function(e){var t=e.channel_id;this.props.onArchiveChannel(t)}},{key:"_handleAppear",value:function(e){var t=e.channel_id,a=e.user;this.props.onAppear(t,a.id)}},{key:"_handleAddChannel",value:function(e){var t=e.channel;this.props.onAddChannel(t)}},{key:"_handleAddMessage",value:function(e){this.props.onAddMessage(e)}},{key:"_handleAddTyping",value:function(e){var t=e.channel_id,a=e.user,n=this.props,l=n.typing,r=n.onAddTyping;u.default.findIndex(l,{channel_id:t,user_id:a.id})>=0||r(t,a.id,a.full_name)}},{key:"_handleDisappear",value:function(e){var t=e.channel_id,a=e.user;this.props.onDisappear(t,a.id)}},{key:"_handleRemoveChannel",value:function(e){var t=e.channel_id;this.props.onRemoveChannel(t)}},{key:"_handleRemoveTyping",value:function(e){var t=e.channel_id,a=e.user,n=this.props,l=n.typing,r=n.onRemoveTyping;u.default.findIndex(l,{channel_id:t,user_id:a.id})<0||r(t,a.id,a.full_name)}},{key:"_handleUpdateChannel",value:function(e){var t=e.channel;this.props.onUpdateChannel(t)}},{key:"_handleUpdateRead",value:function(e){var t=this.context.admin.user.id,a=e.channel_id,n=e.user_id,l=e.message;this.props.onUpdateRead(t,a,n,l)}},{key:"_handleUpdateUnread",value:function(e){this.props.onUpdateUnread(e)}}]),t}(i.default.Component);c.contextTypes={admin:s.default.object,network:s.default.object},c.propTypes={active:s.default.array,channels:s.default.array,channels_status:s.default.string,count:s.default.number,messages:s.default.object,typing:s.default.array,unread:s.default.object,unread_status:s.default.string,onActivateChannel:s.default.func,onArchiveChannel:s.default.func,onAppear:s.default.func,onAddChannel:s.default.func,onAddTyping:s.default.func,onAddMessage:s.default.func,onDisappear:s.default.func,onFetchChannels:s.default.func,onFetchUnread:s.default.func,onRemoveChannel:s.default.func,onRemoveTyping:s.default.func,onUpdateChannel:s.default.func,onUpdateRead:s.default.func,onUpdateUnread:s.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchUnread=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/chat/unread",request:"FETCH_UNREAD_REQUEST",success:"FETCH_UNREAD_SUCCESS",failure:"FETCH_UNREAD_FAILURE"}},t.fetchChannels=function(e,t){return{type:"API_REQUEST",method:"GET",query:t,endpoint:"/api/admin/chat/channels",request:"FETCH_CHANNELS_REQUEST",success:"FETCH_CHANNELS_SUCCESS",failure:"FETCH_CHANNELS_FAILURE"}},t.activateChannel=function(e){return{type:"ACTIVATE_CHANNEL",channel_id:e}},t.archiveChannel=function(e){return{type:"ARCHIVE_CHANNEL",channel_id:e}},t.appear=function(e,t){return{type:"APPEAR",channel_id:e,user_id:t}},t.addChannel=function(e){return{type:"ADD_CHANNEL",channel:e}},t.addMessage=function(e){return{type:"ADD_MESSAGE",message:e}},t.addTyping=function(e,t,a){return{type:"ADD_TYPING",channel_id:e,user_id:t,full_name:a}},t.disappear=function(e,t){return{type:"DISAPPEAR",channel_id:e,user_id:t}},t.removeChannel=function(e){return{type:"REMOVE_CHANNEL",channel_id:e}},t.removeTyping=function(e,t,a){return{type:"REMOVE_TYPING",channel_id:e,user_id:t,full_name:a}},t.updateChannel=function(e){return{type:"UPDATE_CHANNEL",channel:e}},t.updateRead=function(e,t,a,n){return{type:"UPDATE_READ",user_id:e,channel_id:t,reader_id:a,message:n}},t.updateUnread=function(e){return{type:"UPDATE_UNREAD",unread:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channels=void 0;var n=i(a(14)),l=i(a(10)),r=i(a(7)),o=a(12),s=i(a(9));function i(e){return e&&e.__esModule?e:{default:e}}t.channels=(0,o.createSelector)(function(e,t){return e.active},function(e,t){return e.channels||[]},function(e,t){return e.typing},function(e,t){return e.messages},function(e,t){return e.unread},function(e,t,a,o,i){return t.map(function(t){return(0,r.default)({},t,{typing:s.default.find(a,{channel_id:t.id}),subscriptions:t.subscriptions.map(function(n){return(0,r.default)({},n,{active:s.default.findIndex(e,{channel_id:t.id,user_id:n.id})>=0,typing:s.default.findIndex(a,{channel_id:t.id,user_id:n.id})>=0})}),last_viewed:t.subscriptions.reduce(function(e,o){var i;return(0,r.default)({},e,(i={},(0,n.default)(i,o.last_message.id,[].concat((0,l.default)(e[o.last_message.id]||[]),[{id:o.id,full_name:o.full_name,photo:o.photo,viewed_at:o.last_message.viewed_at}])),(0,n.default)(i,"typing",s.default.findIndex(a,{channel_id:t.id,user_id:o.id})>=0),i))},{}),unread:i[t.id]||0})}).sort(function(e,t){return e.last_message_at<t.last_message_at?1:e.last_message_at>t.last_message_at?-1:0})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={message:null,showEdit:!1,showInfo:!1,showNew:!1,showStarred:!1,showSubscriptions:!1,selected:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"CHOOSE":return(0,n.default)({},e,{selected:t.id,showStarred:!1});case"SET_EDIT":return(0,n.default)({},e,{showEdit:t.show});case"SET_INFO":return(0,n.default)({},e,{showInfo:t.show});case"SET_MESSAGE":return(0,n.default)({},e,{message:t.message});case"SET_NEW":return(0,n.default)({},e,{showNew:t.show});case"SET_STARRED":return(0,n.default)({},e,{selected:null,showStarred:t.show});case"SET_SUBSCRIPTONS":return(0,n.default)({},e,{showSubscriptions:t.show});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(2)),l=v(a(3)),r=v(a(4)),o=v(a(5)),s=v(a(120)),i=v(a(190)),u=v(a(1)),d=v(a(121)),c=v(a(1272)),f=v(a(1273)),m=v(a(1276)),p=v(a(1277)),h=v(a(1278)),_=v(a(0));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChoose=l._handleChoose.bind(l),l._handleClose=l._handleClose.bind(l),l._handleEdit=l._handleEdit.bind(l),l._handleInfo=l._handleInfo.bind(l),l._handleShowMessage=l._handleShowMessage.bind(l),l._handleStarred=l._handleStarred.bind(l),l._handleSubscriptions=l._handleSubscriptions.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.channel,a=e.message,n=e.showEdit,l=e.showInfo,r=e.showNew,o=e.showStarred,u=e.showSubscriptions;return _.default.createElement("div",{className:"chatbar"},_.default.createElement(c.default,this._getChannels()),o&&_.default.createElement(f.default,this._getStarred()),t&&_.default.createElement(m.default,this._getChannel()),a&&_.default.createElement(p.default,this._getDetails()),l&&_.default.createElement(h.default,this._getInfo()),r&&_.default.createElement(d.default,this._getNew()),n&&_.default.createElement(i.default,this._getEdit()),u&&_.default.createElement(s.default,this._getSubscriptions()))}},{key:"_getChannels",value:function(){var e=this.props;return{channels:e.channels,selected:e.selected,showNew:!1,status:e.status,onChoose:this._handleChoose,onClose:this._handleClose,onNew:this._handleNew.bind(this,!0),onStarred:this._handleStarred.bind(this,!0)}}},{key:"_getStarred",value:function(){return{onBack:this._handleStarred.bind(this,!1),onShowMessage:this._handleShowMessage}}},{key:"_getChannel",value:function(){var e=this.props;return{channel:e.channel,id:e.selected,onBack:this._handleChoose.bind(this,null),onInfo:this._handleInfo.bind(this,!0),onShowMessage:this._handleShowMessage}}},{key:"_getDetails",value:function(){return{message:this.props.message,onBack:this._handleShowMessage.bind(this,null)}}},{key:"_getInfo",value:function(){var e=this.props;return{channel:e.channel,id:e.selected,onArchive:this._handleArchive,onBack:this._handleInfo.bind(this,!1),onDelete:this._handleDelete,onEdit:this._handleEdit.bind(this,!0),onLeave:this._handleLeave,onSubscriptions:this._handleSubscriptions.bind(this,!0)}}},{key:"_getNew",value:function(){return{onCancel:this._handleNew.bind(this,!1),onSuccess:this._handleNew.bind(this,!1)}}},{key:"_getEdit",value:function(){return{id:this.props.selected,onCancel:this._handleEdit.bind(this,!1),onSuccess:this._handleEdit.bind(this,!1)}}},{key:"_getSubscriptions",value:function(){var e=this.context.admin.user,t=this.props.channel;return{channel:t,endpoint:"/api/admin/chat/channels/"+t.id+"/subscriptions",subscription_ids:t.subscriptions.filter(function(t){return t.id!==e.id}).map(function(e){return e.id}),onCancel:this._handleSubscriptions.bind(this,!1),onDone:this._handleSubscriptions.bind(this,!1)}}},{key:"_handleChoose",value:function(e){this.props.onChoose(e)}},{key:"_handleClose",value:function(){this.context.portal.closeSidebar()}},{key:"_handleEdit",value:function(e){this.props.onSetEdit(e)}},{key:"_handleInfo",value:function(e){this.props.onSetInfo(e)}},{key:"_handleNew",value:function(e){this.props.onSetNew(e)}},{key:"_handleStarred",value:function(e){this.props.onSetStarred(e)}},{key:"_handleShowMessage",value:function(e){this.props.onSetMessage(e)}},{key:"_handleSubscriptions",value:function(e){this.props.onSetSubscriptions(e)}}]),t}(_.default.Component);y.contextTypes={admin:u.default.object,portal:u.default.object},y.propTypes={channels:u.default.array,channel:u.default.object,showEdit:u.default.bool,showInfo:u.default.bool,showMessage:u.default.bool,showNew:u.default.bool,showStarred:u.default.bool,showSubscriptions:u.default.bool,selected:u.default.number,status:u.default.string,onChoose:u.default.func,onSetEdit:u.default.func,onSetInfo:u.default.func,onSetMessage:u.default.func,onSetNew:u.default.func,onSetStarred:u.default.func,onSetSubscriptions:u.default.func},t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={ids:[],status:"pending",channel:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET":return(0,n.default)({},e,{ids:t.ids});case"CREATE_REQUEST":return(0,n.default)({},e,{status:"loading"});case"CREATE_FAILURE":return(0,n.default)({},e,{status:"failure"});case"CREATE_SUCCESS":return(0,n.default)({},e,{channel:t.result.data,status:"success"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleChange=n._handleChange.bind(n),n._handleSave=n._handleSave.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return d.default.createElement(i.ModalPanel,this._getPanel(),d.default.createElement(i.ToggleList,this._getToggleList()))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.channel,n=t.status,l=t.onDone;n!==e.status&&"success"===n&&l(a)}},{key:"_getPanel",value:function(){return{title:"Manage Members",leftItems:[{label:"Cancel",handler:this._handleCancel}],rightItems:[{label:"Save",handler:this._handleSave}]}}},{key:"_getToggleList",value:function(){var e=this.context.admin;return{endpoint:"/api/admin/users",defaultFilters:{app_id:{$eq:6}},defaultValue:this.props.subscription_ids,exclude_ids:[e.user.id],format:function(e){return d.default.createElement(i.CompactUserToken,(0,n.default)({},e,{presence:!0}))},multiple:!0,text:"full_name",value:"id",onChange:this._handleChange}}},{key:"_handleChange",value:function(e){this.props.onSet(e)}},{key:"_handleCancel",value:function(){this.props.onCancel()}},{key:"_handleSave",value:function(){var e=this.props,t=e.endpoint,a=e.ids;this.props.onCreate(t,{ids:a})}}]),t}(d.default.Component);f.contextTypes={admin:u.default.object},f.propTypes={channel:u.default.object,endpoint:u.default.string,ids:u.default.array,method:u.default.string,status:u.default.string,subscription_ids:u.default.array,onCancel:u.default.func,onCreate:u.default.func,onDone:u.default.func,onSet:u.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.create=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:e,body:t,request:"CREATE_REQUEST",success:"CREATE_SUCCESS",failure:"CREATE_FAILURE"}},t.set=function(e){return{type:"SET",ids:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(119)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChoose=l._handleChoose.bind(l),l._handleClose=l._handleClose.bind(l),l._handleNew=l._handleNew.bind(l),l._handleStarred=l._handleStarred.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement(u.default,this._getChannels()))}},{key:"_getPanel",value:function(){return{title:"Channels",leftItems:[{icon:"remove",handler:this._handleClose}],rightItems:[{icon:"plus",handler:this._handleNew}]}}},{key:"_getChannels",value:function(){var e=this.props;return{channels:e.channels,selected:e.selected,showNew:!1,status:e.status,onChoose:this._handleChoose,onNew:this._handleNew,onStarred:this._handleStarred}}},{key:"_handleChoose",value:function(e){this.props.onChoose(e)}},{key:"_handleClose",value:function(){this.props.onClose()}},{key:"_handleNew",value:function(){this.props.onNew()}},{key:"_handleStarred",value:function(){this.props.onStarred()}}]),t}(d.default.Component);f.contextTypes={},f.propTypes={channels:i.default.array,channel:i.default.object,selected:i.default.number,status:i.default.string,onNew:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(191)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleShowMessage=l._handleShowMessage.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement(u.default,this._getStarred()))}},{key:"_getPanel",value:function(){return{title:"Starred",leftItems:[{icon:"chevron-left",handler:this._handleBack}]}}},{key:"_getStarred",value:function(){return{onShowMessage:this._handleShowMessage}}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleShowMessage",value:function(e){this.props.onShowMessage(e)}}]),t}(d.default.Component);f.contextTypes={},f.propTypes={channels:i.default.array,channel:i.default.object,selected:i.default.number,status:i.default.string,onBack:i.default.func,onShowMessage:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.total=t.all=t.sorted=t.records=void 0;var n=i(a(7)),l=i(a(10)),r=a(12),o=i(a(9)),s=i(a(8));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.records=(0,r.createSelector)(function(e,t){return t.records||[]},function(e,t){return e.maha.stars.stars},function(e,t){return e.filter(function(e){return!1!==o.default.get(t,"chat_messages["+e.id+"]")})});t.sorted=(0,r.createSelector)(u,function(e){return e.reduce(function(e,t){var a=(0,s.default)(t.created_at).format("D")!==(0,s.default)(e.created_at).format("D");return{user_id:t.user.id,created_at:t.created_at,messages:[].concat((0,l.default)(e.messages),[(0,n.default)({},t,{newday:a})])}},{messages:[],user_id:null,created_at:null}).messages}),t.all=(0,r.createSelector)(u,function(e){return e.length}),t.total=(0,r.createSelector)(u,function(e){return e.length})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=f(a(189)),d=f(a(0)),c=f(a(494));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleShowMessage=n._handleShowMessage.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.sorted;return d.default.createElement("div",{className:"chat-search-results"},t.length>0&&d.default.createElement("div",{className:"chat-search-results-section"},d.default.createElement("div",{className:"chat-search-results-section-body"},t.map(function(t,a){return[t.newday?d.default.createElement(c.default,{date:t.created_at,key:"date_"+a}):null,d.default.createElement(u.default,(0,n.default)({},e._getMessage(t),{key:"message_"+t.id}))]}))))}},{key:"_getMessage",value:function(e){return(0,n.default)({},e,{full:!0,receipts:null,onShow:this._handleShowMessage.bind(this,e)})}},{key:"_handleShowMessage",value:function(e){this.props.onShowMessage(e)}}]),t}(d.default.Component);m.propTypes={sorted:i.default.array,onShowMessage:i.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(118)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleInfo=l._handleInfo.bind(l),l._handleShowMessage=l._handleShowMessage.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement(u.default,this._getChannel()))}},{key:"_getPanel",value:function(){var e=this.props.channel;return{title:e.name||e.label,leftItems:[{icon:"chevron-left",handler:this._handleBack}],rightItems:[{icon:"info-circle",handler:this._handleInfo}]}}},{key:"_getChannel",value:function(){var e=this.props;return{channel:e.channel,id:e.selected,onShowMessage:this._handleShowMessage}}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleShowMessage",value:function(e){this.props.onShowMessage(e)}},{key:"_handleInfo",value:function(){this.props.onInfo()}}]),t}(d.default.Component);f.contextTypes={},f.propTypes={channels:i.default.array,channel:i.default.object,selected:i.default.number,status:i.default.string,onBack:i.default.func,onInfo:i.default.func,onShowMessage:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(499)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement(u.default,this._getDetails()))}},{key:"_getPanel",value:function(){return{title:"Info",leftItems:[{icon:"chevron-left",handler:this._handleBack}]}}},{key:"_getDetails",value:function(){return{message:this.props.message}}},{key:"_handleBack",value:function(){this.props.onBack()}}]),t}(d.default.Component);f.propTypes={message:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(192)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleEdit=l._handleEdit.bind(l),l._handleShowMessage=l._handleShowMessage.bind(l),l._handleSubscriptions=l._handleSubscriptions.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement(u.default,this._getInfo()))}},{key:"_getPanel",value:function(){return{title:"Info",leftItems:[{icon:"chevron-left",handler:this._handleBack}]}}},{key:"_getInfo",value:function(){var e=this.props;return{channel:e.channel,id:e.selected,showHeader:!0,onEdit:this._handleEdit,onSubscriptions:this._handleSubscriptions}}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleEdit",value:function(){this.props.onEdit()}},{key:"_handleShowMessage",value:function(e){this.props.onShowMessage(e)}},{key:"_handleSubscriptions",value:function(){this.props.onSubscriptions()}}]),t}(d.default.Component);f.propTypes={channels:i.default.array,channel:i.default.object,selected:i.default.number,status:i.default.string,onBack:i.default.func,onShowMessage:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=a(20),i=a(6),u=m(a(1)),d=m(a(8)),c=m(a(0)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.context.admin,a=this.props.channel;return c.default.createElement("div",{className:"chat-info-subscriptions"},a.subscriptions.map(function(a,n){return c.default.createElement("div",{className:"chat-info-subscription",key:"subscription"+n},c.default.createElement("div",{className:"chat-info-subscription-avatar"},c.default.createElement(i.Avatar,{user:a,width:"40",presence:!0})),c.default.createElement("div",{className:"chat-info-subscription-details"},c.default.createElement("strong",null,t.user.id===a.id?"You":a.full_name),c.default.createElement("br",null),c.default.createElement("span",null,e._isTyping(a)?c.default.createElement("em",null,"typing..."):e._getStatus(a))))}))}},{key:"_isTyping",value:function(e){var t=this.props,a=t.channel,n=t.typing;return f.default.findIndex(n,{channel_id:a.id,user_id:e.id})>=0}},{key:"_getStatus",value:function(e){return e.active?"Active now":f.default.find(this.props.presence,{user_id:e.id})?"Online":"Last online "+(0,d.default)(e.last_online_at).calendar(null,{sameDay:"[today at] h:mmA",lastDay:"[yesterday at] h:mmA",lastWeek:"dddd [at] h:mmA",sameElse:"M/D/YY [at] h:mmA"})}}]),t}(c.default.Component);p.contextTypes={admin:u.default.object},p.propTypes={channel:u.default.object,typing:u.default.array,presence:u.default.array};t.default=(0,s.connect)(function(e,t){return{presence:e.maha.admin.presence,typing:e.chat.root.typing}})(p)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.choose=function(e){return{type:"CHOOSE",id:e}},t.setStarred=function(e){return{type:"SET_STARRED",show:e}},t.setMessage=function(e){return{type:"SET_MESSAGE",message:e}},t.setInfo=function(e){return{type:"SET_INFO",show:e}},t.setNew=function(e){return{type:"SET_NEW",show:e}},t.setEdit=function(e){return{type:"SET_EDIT",show:e}},t.setSubscriptions=function(e){return{type:"SET_SUBSCRIPTONS",show:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));t.channel=(0,n.createSelector)(function(e,t){return t.channels},function(e,t){return e.selected},function(e,t){return l.default.find(e,{id:t})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={adding:!1,editing:!1,info:!1,managing:!1,selected:null,starred:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"CHOOSE":return(0,n.default)({},e,{selected:t.id,starred:!1});case"STARRED":return(0,n.default)({},e,{selected:null,starred:!0});case"TOGGLE_ADDING":return(0,n.default)({},e,{adding:!e.adding});case"TOGGLE_EDITING":return(0,n.default)({},e,{editing:!e.editing});case"TOGGLE_INFO":return(0,n.default)({},e,{info:!e.info});case"TOGGLE_MANAGING":return(0,n.default)({},e,{managing:!e.managing});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a(7)),l=g(a(2)),r=g(a(3)),o=g(a(4)),s=g(a(5)),i=g(a(120)),u=a(6),d=g(a(190)),c=g(a(1)),f=g(a(119)),m=g(a(121)),p=g(a(118)),h=g(a(191)),_=g(a(500)),v=g(a(192)),y=g(a(0));function g(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleChoose=n._handleChoose.bind(n),n._handleEdit=n._handleEdit.bind(n),n._handleInfo=n._handleInfo.bind(n),n._handleNew=n._handleNew.bind(n),n._handleShowMessage=n._handleShowMessage.bind(n),n._handleStarred=n._handleStarred.bind(n),n._handleSubscriptions=n._handleSubscriptions.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.adding,a=e.channel,l=e.editing,r=e.info,o=e.managing,s=e.starred;return"loading"===e.status?y.default.createElement(u.Loader,null):y.default.createElement("div",{className:this._getClass()},y.default.createElement("div",{className:"fullchat-left"},y.default.createElement(f.default,this._getChannels()),t&&y.default.createElement(m.default,this._getNew())),a&&y.default.createElement("div",{className:"fullchat-channel"},y.default.createElement(_.default,this._getHeader()),y.default.createElement("div",{className:"fullchat-channel-body"},y.default.createElement(p.default,(0,n.default)({},this._getChannel(),{key:"channel_"+a.id})),y.default.createElement("div",{className:"fullchat-right"},r&&y.default.createElement(v.default,(0,n.default)({},this._getInfo(),{key:"info_"+a.id})),l&&y.default.createElement(d.default,this._getEdit()),o&&y.default.createElement(i.default,this._getSubscriptions())))),s&&y.default.createElement("div",{className:"fullchat-channel"},y.default.createElement(_.default,this._getStarredHeader()),y.default.createElement("div",{className:"fullchat-channel-body"},y.default.createElement(h.default,this._getStarred()))),!a&&!s&&y.default.createElement("div",{className:"fullchat-channel"},y.default.createElement(u.Message,this._getEmpty())))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.channels,a=e.params,n=e.pathname,l=e.onChoose,r=e.onStarred;if(n.match(/^\/admin\/chat$/)){if(0===t.length)return;l(t[0].id)}else n.match(/^\/admin\/chat\/channels\/\d*/)?l(parseInt(a.id)):n.match(/^\/admin\/chat\/starred$/)&&r()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.channels,n=t.onChoose;a.length>e.channels.length&&n(a[0].id)}},{key:"_getClass",value:function(){var e=this.props,t=e.info,a=e.adding,n=e.editing,l=e.managing,r=["fullchat"];return t&&r.push("info"),a&&r.push("adding"),n&&r.push("editing"),l&&r.push("managing"),r.join(" ")}},{key:"_getChannels",value:function(){var e=this.props;return{channels:e.channels,selected:e.selected,showNew:!0,status:e.status,onChoose:this._handleChoose,onNew:this._handleNew,onStarred:this._handleStarred}}},{key:"_getEmpty",value:function(){return{icon:"comment",title:"No Channel",text:"Choose a channel from the list"}}},{key:"_getHeader",value:function(){var e=this.props.channel;return(0,n.default)({},e,{onInfo:this._handleInfo})}},{key:"_getStarredHeader",value:function(){return{name:"Starred Messages",description:"This is a collection of starred messages"}}},{key:"_getChannel",value:function(){var e=this.props;return{channel:e.channel,id:e.selected,onShowMessage:this._handleShowMessage}}},{key:"_getInfo",value:function(){var e=this.props;return{channel:e.channel,id:e.selected,showHeader:!1,onEdit:this._handleEdit,onSubscriptions:this._handleSubscriptions}}},{key:"_getNew",value:function(){return{onCancel:this._handleNew,onSuccess:this._handleNew}}},{key:"_getStarred",value:function(){return{onShowMessage:this._handleShowMessage}}},{key:"_getEdit",value:function(){return{id:this.props.selected,onCancel:this._handleEdit,onSuccess:this._handleEdit}}},{key:"_getSubscriptions",value:function(){var e=this.context.admin.user,t=this.props.channel;return{channel:t,endpoint:"/api/admin/chat/channels/"+t.id+"/subscriptions",subscription_ids:t.subscriptions.filter(function(t){return t.id!==e.id}).map(function(e){return e.id}),onCancel:this._handleSubscriptions,onDone:this._handleSubscriptions}}},{key:"_handleChoose",value:function(e){this.context.router.replace("/admin/chat/channels/"+e),this.props.onChoose(e)}},{key:"_handleEdit",value:function(){this.props.onToggleEditing()}},{key:"_handleInfo",value:function(){this.props.onToggleInfo()}},{key:"_handleNew",value:function(){this.props.onToggleAdding()}},{key:"_handleShowMessage",value:function(e){this.context.router.push("/admin/chat/channels/"+e.channel_id+"/messages/"+e.id)}},{key:"_handleStarred",value:function(){this.context.router.replace("/admin/chat/starred"),this.props.onStarred()}},{key:"_handleSubscriptions",value:function(){this.props.onToggleManaging()}}]),t}(y.default.Component);b.contextTypes={admin:c.default.object,confirm:c.default.object,modal:c.default.object,network:c.default.object,router:c.default.object},b.propTypes={adding:c.default.bool,channels:c.default.array,channel:c.default.object,editing:c.default.bool,info:c.default.bool,selected:c.default.number,managing:c.default.bool,starred:c.default.bool,status:c.default.string,onChoose:c.default.func,onToggleAdding:c.default.func,onToggleEditing:c.default.func},t.default=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.choose=function(e){return{type:"CHOOSE",id:e}},t.starred=function(){return{type:"STARRED"}},t.toggleAdding=function(){return{type:"TOGGLE_ADDING"}},t.toggleEditing=function(){return{type:"TOGGLE_EDITING"}},t.toggleManaging=function(){return{type:"TOGGLE_MANAGING"}},t.toggleInfo=function(){return{type:"TOGGLE_INFO"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));t.channel=(0,n.createSelector)(function(e,t){return t.channels},function(e,t){return e.selected},function(e,t){return l.default.find(e,{id:t})})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={active:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"CHOOSE":return(0,n.default)({},e,{active:t.index});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=c(a(0)),u=c(a(1288)),d=c(a(1289));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.active,a=[{label:"Note",component:i.default.createElement(u.default,{contact:{id:1}})},{label:"Call",component:i.default.createElement(d.default,{contact:{id:1}})},{label:"Email",component:i.default.createElement("div",null,"Email")},{label:"Tasks",component:i.default.createElement("div",null,"Tasks")}];return i.default.createElement("div",{className:"crm-timeline-form"},i.default.createElement("div",{className:"crm-timeline-form-tabs"},a.map(function(t,a){return i.default.createElement("div",{className:e._getTab(a),key:"tab_"+a,onClick:e._handleChoose.bind(e,a)},t.label)})),i.default.createElement("div",{className:"crm-timeline-form-body"},a[t].component))}},{key:"_getTab",value:function(e){var t=["crm-timeline-form-tab"];return e===this.props.active&&t.push("active"),t.join(" ")}},{key:"_handleChoose",value:function(e){this.props.onChoose(e)}}]),t}(i.default.Component);f.propTypes={active:s.default.number,onChoose:s.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){return{method:"post",action:"/api/admin/crm/contacts/"+this.props.contact.id+"/notes",buttonPosition:"bottom",cancelText:null,onSuccess:this._handleSuccess,sections:[{fields:[{name:"text",type:"textarea",placeholder:"Write a note..."}]}]}}},{key:"_handleSuccess",value:function(e){}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={contact:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){return{method:"post",action:"/api/admin/crm/contacts/"+this.props.contact.id+"/calls",buttonPosition:"bottom",cancelText:null,onSuccess:this._handleSuccess,sections:[{fields:[{name:"text",type:"textarea",placeholder:"Describe the call..."}]}]}}},{key:"_handleSuccess",value:function(e){}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={contact:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.choose=function(e){return{type:"CHOOSE",index:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={adding:!1,assigned:{records:[],status:"pending"},q:"",unassigned:{records:[],status:"pending"}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"ADD":return(0,l.default)({},e,{adding:!1,assigned:(0,l.default)({},e.assigned,{records:[].concat((0,n.default)(e.assigned.records),[t.assignee])})});case"BEGIN_ADD":return(0,l.default)({},e,{adding:!0});case"FETCH_ASSIGNED_REQUEST":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{status:"loading"})});case"FETCH_ASSIGNED_SUCCESS":return(0,l.default)({},e,{assigned:{records:t.result.data.map(function(e){return(0,l.default)({},e,{is_revoked:!1})}),status:"success"}});case"FETCH_UNASSIGNED_REQUEST":return(0,l.default)({},e,{unassigned:(0,l.default)({},e.unassigned,{status:"loading"})});case"FETCH_UNASSIGNED_SUCCESS":return(0,l.default)({},e,{unassigned:{records:t.result.data,status:"success"}});case"QUERY":return(0,l.default)({},e,{q:t.q});case"UPDATE":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{records:[].concat((0,n.default)(e.assigned.records.map(function(e,a){return(0,l.default)({},e,{access_type_id:a===t.index?t.access_type_id:e.access_type_id})})))})});case"REVOKE":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{records:[].concat((0,n.default)(e.assigned.records.map(function(e,a){return(0,l.default)({},e,{is_revoked:a===t.index?!e.is_revoked:e.is_revoked})})))})});case"REMOVE":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{records:[].concat((0,n.default)(e.assigned.records.filter(function(e,a){return a!==t.index})))})});case"SAVE_REQUEST":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{status:"saving"})});case"SAVE_SUCCESS":return(0,l.default)({},e,{assigned:(0,l.default)({},e.assigned,{status:"saved"})});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(7)),l=h(a(2)),r=h(a(3)),o=h(a(4)),s=h(a(5)),i=a(6),u=a(21),d=h(a(1293)),c=h(a(1294)),f=h(a(1)),m=h(a(0)),p=h(a(9));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.list=null,n._handleAdd=n._handleAdd.bind(n),n._handleBeginAdd=n._handleBeginAdd.bind(n),n._handleCancel=n._handleCancel.bind(n),n._handleSave=n._handleSave.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.assigned,n=t.unassigned;return m.default.createElement(i.ModalPanel,this._getModalPanel(),m.default.createElement("div",{className:this._getClass()},m.default.createElement("div",{className:"maha-assignment-body"},"loading"===a.status&&m.default.createElement(i.Loader,null),!p.default.includes(["pending","loading"],a.status)&&m.default.createElement("div",{className:"maha-assignment-assigned"},m.default.createElement("div",{className:"maha-assignment-add",onClick:this._handleBeginAdd},"Assign a group or user..."),m.default.createElement("div",{className:"maha-assignment-list",ref:function(t){return e.list=t}},m.default.createElement(u.TransitionGroup,null,a.records.map(function(t,a){return m.default.createElement(u.CSSTransition,{classNames:"expanded",timeout:1e3,exit:!1,key:"assigned_"+a},m.default.createElement("div",{className:e._getAssignmentClass(t)},m.default.createElement("div",{className:"maha-assignment-item-token"},m.default.createElement(i.AssigneeToken,t)),m.default.createElement(d.default,e._getAccessType(t,a)),1===t.access_type_id&&m.default.createElement("div",{className:"maha-assignment-item-icon"}),1!==t.access_type_id&&m.default.createElement("div",{className:"maha-assignment-item-icon",onClick:e._handleRemove.bind(e,a)},t.is_revoked?m.default.createElement("i",{className:"fa fa-fw fa-refresh"}):m.default.createElement("i",{className:"fa fa-fw fa-times"}))))})))),m.default.createElement("div",{className:"maha-assignment-unassigned"},m.default.createElement("div",{className:"maha-assignment-unassigned-header"},m.default.createElement(i.Searchbox,this._getSearchbox())),m.default.createElement("div",{className:"maha-assignment-unassigned-body"},"loading"===n.status&&m.default.createElement(i.Loader,null),"success"===n.status&&m.default.createElement(c.default,this._getUnassigned())))),m.default.createElement("div",{className:"maha-assignment-footer"},m.default.createElement("strong",null,"NOTE:")," Any changes you make to the access for this folder will be applied to the files and folders beneath it")))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.item,a=e.onFetchUnassigned,n=e.onFetchAssigned;a(),n(t.code)}},{key:"componentDidUpdate",value:function(e){var t=this.props.assigned,a=this.context.modal;t.records.length>e.assigned.records.length&&(this.list.scrollTop=this.list.scrollHeight),t.status!==e.assigned.status&&"saved"===t.status&&a.close()}},{key:"_getModalPanel",value:function(){return{title:"Manage Access",leftItems:[{label:"Cancel",handler:this._handleCancel}],rightItems:[{label:"Save",handler:this._handleSave}]}}},{key:"_getClass",value:function(){var e=["maha-assignment"];return this.props.adding&&e.push("adding"),e.join(" ")}},{key:"_getAssignmentClass",value:function(e){var t=["maha-assignment-item"];return e.is_revoked&&t.push("disabled"),t.join(" ")}},{key:"_getSearchbox",value:function(){return{prompt:"Find a user or group",onChange:this.props.onQuery}}},{key:"_getEmpty",value:function(){return{icon:"times",title:"",text:""}}},{key:"_getNotFound",value:function(){return{icon:"times",title:"No Results Found",text:"No records matched your query"}}},{key:"_getUnassigned",value:function(){var e=this.props,t=e.access;return{unassigned:e.unassigned,access:t,onChoose:this._handleAdd}}},{key:"_getAccessType",value:function(e,t){return(0,n.default)({},e,{onUpdate:this._handleUpdate.bind(this,t)})}},{key:"_handleAdd",value:function(e){this.props.onAdd((0,n.default)({},e,{access_type_id:3,is_revoked:!1}))}},{key:"_handleBeginAdd",value:function(){this.props.onBeginAdd()}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleRemove",value:function(e){var t=this.props,a=t.assigned,n=t.onRemove,l=t.onRevoke;return a.records[e].id||n(e),l(e)}},{key:"_handleSave",value:function(){var e=this.props,t=e.assigned,a=e.item,n=e.onSave,l=t.records.map(function(e){return{is_everyone:e.is_everyone,group_id:e.group?e.group.id:null,user_id:e.user?e.user.id:null,access_type_id:e.is_revoked?null:e.access_type_id}});n(a.code,l)}},{key:"_handleUpdate",value:function(e,t){this.props.onUpdate(e,t)}}]),t}(m.default.Component);_.contextTypes={modal:f.default.object},_.propTypes={adding:f.default.bool,assigned:f.default.object,item:f.default.object,q:f.default.string,unassigned:f.default.object,onAdd:f.default.func,onBeginAdd:f.default.func,onFetchAssigned:f.default.func,onFetchUnassigned:f.default.func,onQuery:f.default.func,onRevoke:f.default.func,onRemove:f.default.func,onSave:f.default.func,onUpdate:f.default.func},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.access_type_id;return e.is_revoked?i.default.createElement("div",{className:"maha-assignment-item-access"},i.default.createElement("span",{className:"revoked"},"REVOKED")):1===t?i.default.createElement("div",{className:"maha-assignment-item-access"},i.default.createElement("span",{className:"owner"},"IS OWNER")):2===t?i.default.createElement("div",{className:"maha-assignment-item-access",onClick:this._handleClick.bind(this,3)},i.default.createElement("span",{className:"edit"},"CAN EDIT ",i.default.createElement("i",{className:"fa fa-caret-down"}))):3===t?i.default.createElement("div",{className:"maha-assignment-item-access",onClick:this._handleClick.bind(this,2)},i.default.createElement("span",{className:"view"},"CAN VIEW ",i.default.createElement("i",{className:"fa fa-caret-down"}))):void 0}},{key:"_handleClick",value:function(e){this.props.onUpdate(e)}}]),t}(i.default.Component);d.propTypes={access_type_id:s.default.number,is_revoked:s.default.bool,onUpdate:s.default.func},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChoose=l._handleChoose.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.unassigned;return u.default.createElement("div",{className:"maha-assignment-list"},"success"===t.status&&0===t.records.length&&u.default.createElement(s.Message,this._getNotFound()),"success"===t.status&&t.records.length>0&&u.default.createElement("div",{className:"maha-assignment-unassigned-items"},t.records.length>0&&t.records.map(function(t,a){return u.default.createElement("div",{className:"maha-assignment-unassigned-item",key:"unassigned_"+t.id,onClick:e._handleChoose.bind(e,t)},u.default.createElement(s.AssigneeToken,t))})))}},{key:"_getNotFound",value:function(){return{icon:"times",title:"No Results Found",text:"No records matched your query"}}},{key:"_handleChoose",value:function(e){this.props.onChoose({is_everyone:e.is_everyone,user:e.user,group:e.group})}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={unassigned:i.default.object,onChoose:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchUnassigned=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/assignees",query:{$page:{limit:0}},request:"FETCH_UNASSIGNED_REQUEST",success:"FETCH_UNASSIGNED_SUCCESS",failure:"FETCH_UNASSIGNED_FAILURE"}},t.fetchAssigned=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/drive/items/"+e+"/access",request:"FETCH_ASSIGNED_REQUEST",success:"FETCH_ASSIGNED_SUCCESS",failure:"FETCH_ASSIGNED_FAILURE"}},t.save=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:"/api/admin/drive/items/"+e+"/access",body:{access:t},request:"SAVE_REQUEST",success:"SAVE_SUCCESS",failure:"SAVE_FAILURE"}},t.query=function(e){return{type:"QUERY",q:e}},t.beginAdd=function(){return{type:"BEGIN_ADD"}},t.add=function(e){return{type:"ADD",assignee:e}},t.update=function(e,t){return{type:"UPDATE",index:e,access_type_id:t}},t.revoke=function(e){return{type:"REVOKE",index:e}},t.remove=function(e){return{type:"REMOVE",index:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unassigned=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));var r=(0,n.createSelector)(function(e,t){return{status:e.unassigned.status,records:e.unassigned.records||[]}},function(e,t){return e.q.toLowerCase()},function(e,t){return{status:e.status,records:e.records.filter(function(e){return 0===t.length||(e.user?e.user.full_name.toLowerCase().search(t)>=0:e.group?e.group.title.toLowerCase().search(t)>=0:e.name.toLowerCase().search(t)>=0)})}});t.unassigned=(0,n.createSelector)(r,function(e,t){return{status:e.assigned.status,records:e.assigned.records||[]}},function(e,t){return{status:e.status,records:e.records.filter(function(e){return l.default.findIndex(t.records,{is_everyone:e.is_everyone,user:e.user?{id:e.user.id}:null,group:e.group?{id:e.group.id}:null})<0})}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.INITIAL_STATE={};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return arguments[1].type,e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this._handleJoin()}},{key:"componentWillUnmount",value:function(){this._handleLeave()}},{key:"_handleJoin",value:function(){this.context.network.join("/admin/drive")}},{key:"_handleLeave",value:function(){this.context.network.leave("/admin/drive")}}]),t}(i(a(0)).default.Component);u.contextTypes={network:s.default.object},u.propTypes={},t.default=u},function(e,t,a){"use strict"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o={item_id:null,label:"Maha Drive",code:"root",icon:"home"},s=t.INITIAL_STATE={details:!1,folders:[o],q:"",preview:o};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"CHANGE_FOLDER":return(0,l.default)({},e,{folders:[].concat((0,n.default)(e.folders),[t.folder]),q:""});case"FETCH_FOLDER_SUCCESS":return(0,l.default)({},e,{folders:[].concat((0,n.default)(e.folders),[t.result.data]),preview:t.result.data});case"UP":return(0,l.default)({},e,{folders:e.folders.slice(0,-1),preview:e.folders.slice(0,-1).pop()});case"SET_QUERY":return(0,l.default)({},e,{folders:[o],preview:o,q:t.q});case"PREVIEW":return(0,l.default)({},e,{preview:t.item});case"SHOW_DETAILS":return(0,l.default)({},e,{details:t.show});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(7)),l=v(a(10)),r=v(a(2)),o=v(a(3)),s=v(a(4)),i=v(a(5)),u=a(6),d=v(a(1)),c=v(a(506)),f=v(a(1302)),m=v(a(1329)),p=v(a(507)),h=v(a(512)),_=v(a(0));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){var e,a,n,l;(0,r.default)(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=n=(0,s.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleChangeFolder=n._handleChangeFolder.bind(n),n._handleDrive=n._handleDrive.bind(n),n._handleShared=n._handleShared.bind(n),n._handleStarred=n._handleStarred.bind(n),n._handleTasks=n._handleTasks.bind(n),n._handleTrash=n._handleTrash.bind(n),l=a,(0,s.default)(n,l)}return(0,i.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.q;return _.default.createElement("div",{className:this._getClass()},_.default.createElement("div",{className:"drive-search"},_.default.createElement(u.Searchbox,this._getSearchBox())),_.default.createElement("div",{className:"drive-main"},_.default.createElement("div",{className:"drive-list"},0===e.length&&_.default.createElement(u.Stack,this._getStack()),e.length>0&&_.default.createElement(u.Infinite,this._getInfinite())),_.default.createElement("div",{className:"drive-overlay",onClick:this._handleShowDetails.bind(this,!1)}),_.default.createElement(f.default,this._getDetails())))}},{key:"componentDidMount",value:function(){var e=this.props.code;return"root"===e?this._handleRoot():"drive"===e?this._handleDrive():"shared"===e?this._handleShared():"starred"===e?this._handleStarred():"trash"===e?this._handleTrash():e?this._handleFetchFolder(e):void 0}},{key:"_getClass",value:function(){var e=["drive"];return this.props.details&&e.push("details"),e.join(" ")}},{key:"_getSearchBox",value:function(){return{prompt:"Find a file...",onChange:this.props.onSetQuery}}},{key:"_getStack",value:function(){var e=this,t=this.props.folders;return{cards:[].concat((0,l.default)(t.map(function(t,a){return{component:m.default,props:e._getFolder(t)}})))}}},{key:"_getPreview",value:function(){return this.props.preview}},{key:"_getInfinite",value:function(){var e=this;return{endpoint:"/api/admin/drive/items",filter:{q:this.props.q,type:{$eq:"file"}},empty:_.default.createElement(u.Message,this._getEmpty()),notFound:_.default.createElement(u.Message,this._getEmpty()),layout:function(t){return _.default.createElement(h.default,(0,n.default)({},t,e._getItems()))}}}},{key:"_getEmpty",value:function(){return{icon:"times",title:"No Results",text:"There are no files that matched your query"}}},{key:"_getItems",value:function(){var e=this.props;return{folder:{code:"search"},onCreateFile:e.onCreateFile,onDrive:e.onDrive,onPreview:e.onPreview,onShared:e.onShared,onStarred:e.onStarred,onTasks:e.onTasks,onTrash:e.onTrash,onUpdateFile:e.onUpdateFile,onChangeFolder:this._handleChangeFolder}}},{key:"_getDetails",value:function(){var e=this.props;return{item:e.preview,onCreateFile:e.onCreateFile,onShowDetails:e.onShowDetails,onChangeFolder:this._handleChangeFolder}}},{key:"_getFolder",value:function(e){var t=this.props;return{folder:e,onCreateFile:t.onCreateFile,onPreview:t.onPreview,onUpdateFile:t.onUpdateFile,onUp:t.onUp,onShowDetails:t.onShowDetails,onChangeFolder:this._handleChangeFolder,onDrive:this._handleDrive,onShared:this._handleShared,onStarred:this._handleStarred,onTasks:this._handleTasks,onTrash:this._handleTrash}}},{key:"_getTasks",value:function(e){var t=this.props;return{item:e,title:!0,onCreateFile:t.onCreateFile,onPreview:t.onPreview,onShowDetails:t.onShowDetails}}},{key:"_handleChangeFolder",value:function(e){var t=this.props.folders;e.code!==t[t.length-1].code&&this.props.onChangeFolder(e)}},{key:"_handleShowDetails",value:function(e){this.props.onShowDetails(e)}},{key:"_handleDrive",value:function(){this.props.onChangeFolder(c.default.drive),this.props.onPreview(c.default.drive)}},{key:"_handleShared",value:function(){this.props.onChangeFolder(c.default.shared),this.props.onPreview(c.default.shared)}},{key:"_handleStarred",value:function(){this.props.onChangeFolder(c.default.starred),this.props.onPreview(c.default.starred)}},{key:"_handleTrash",value:function(){this.props.onChangeFolder(c.default.trash),this.props.onPreview(c.default.trash)}},{key:"_handleFetchFolder",value:function(e){this.props.onFetchFolder(e)}},{key:"_handleTasks",value:function(e,t){return t.stopPropagation(),t.preventDefault(),this.context.tasks.open([{component:_.default.createElement(p.default,this._getTasks(e))}]),!1}}]),t}(_.default.Component);y.contextTypes={tasks:d.default.object},y.propTypes={code:d.default.string,details:d.default.bool,folders:d.default.array,preview:d.default.object,q:d.default.string,onChangeFolder:d.default.func,onCreateFile:d.default.func,onFetchFolder:d.default.func,onSetQuery:d.default.func,onShowDetails:d.default.func,onUp:d.default.func,onUpdateFile:d.default.func},t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a(2)),l=h(a(3)),r=h(a(4)),o=h(a(5)),s=a(6),i=h(a(506)),u=h(a(1)),d=h(a(1303)),c=h(a(1305)),f=h(a(507)),m=h(a(0)),p=h(a(9));function h(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleHideDetails=l._handleHideDetails.bind(l),l._handleView=l._handleView.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.item;return m.default.createElement("div",{className:"drive-details"},m.default.createElement("div",{className:"drive-details-title"},m.default.createElement("div",{className:"drive-details-title-close",onClick:this._handleHideDetails},m.default.createElement("i",{className:"fa fa-fw fa-remove"})),m.default.createElement("div",{className:"drive-details-title-text"},e?e.label:"Maha Drive")),m.default.createElement(s.List,this._getList()),m.default.createElement(f.default,this._getTasks()))}},{key:"_getTasks",value:function(){var e=this.props;return{item:e.item,title:!1,onCreateFile:e.onCreateFile,onPreview:e.onPreview}}},{key:"_getSpecialList",value:function(){var e=this.props.item,t=[];return t.push({component:m.default.createElement(s.Message,{icon:e.icon})}),e.description&&t.push({component:m.default.createElement("div",{className:"drive-details-description"},e.description)}),{items:t}}},{key:"_getFolderList",value:function(){var e=this.props.item,t=[],a=e.folder||i.default.drive;return t.push({label:"Created At",content:e.created_at,format:"datetime"}),e.deleted_at?(t.push({label:"Folder",content:m.default.createElement(c.default,this._getFolder(i.default.trash))}),e.folder&&t.push({label:"Removed From",content:m.default.createElement(c.default,this._getFolder(a))})):t.push({label:"Folder",content:m.default.createElement(c.default,this._getFolder(a))}),e.accesses&&t.push({label:"Access",content:m.default.createElement(d.default,{accesses:e.accesses})}),{items:t}}},{key:"_getFileList",value:function(){var e=this.props.item,t=e.asset,a=e.folder||i.default.drive,n=[];if(t){var l=t.content_type.match(/image/)?t.path:"/assets/"+t.id+"/preview.jpg";n.push({component:m.default.createElement(s.Image,{src:l,onClick:this._handleView,title:t.original_file_name,transforms:{fit:"cover",h:200,w:320}})})}else n.push({component:m.default.createElement(s.Message,{icon:"folder"})});return n.push({label:"Created At",content:e.created_at,format:"datetime"}),e.deleted_at?(n.push({label:"Folder",content:m.default.createElement(c.default,this._getFolder(i.default.trash))}),e.folder&&n.push({label:"Removed From",content:m.default.createElement(c.default,this._getFolder(a))})):n.push({label:"Folder",content:m.default.createElement(c.default,this._getFolder(a))}),e.accesses&&n.push({label:"Access",content:m.default.createElement(d.default,{accesses:e.accesses})}),{items:n}}},{key:"_getList",value:function(){var e=this.props.item;return p.default.includes(["root","drive","shared","starred","trash"],e.code)?this._getSpecialList():"folder"===e.type?this._getFolderList():"file"===e.type?this._getFileList():void 0}},{key:"_getFolder",value:function(e){return{folder:e,onChangeFolder:this.props.onChangeFolder}}},{key:"_handleHideDetails",value:function(){this.props.onShowDetails(!1)}},{key:"_handleView",value:function(){var e=this.props.item;this.context.router.push("/admin/drive/files/"+e.code)}}]),t}(m.default.Component);_.contextTypes={admin:u.default.object,network:u.default.object,router:u.default.object},_.propTypes={item:u.default.object,onChangeFolder:u.default.func,onCreateFile:u.default.func,onPreview:u.default.func},t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(7)),l=s(a(1304)),r=s(a(1)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.accesses;return o.default.createElement("div",{className:"drive-details-accesses"},t.map(function(e,t){return o.default.createElement(l.default,(0,n.default)({},e,{key:"access_"+t}))}))};i.propTypes={accesses:r.default.array},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.is_everyone,a=e.group,n=e.user;return u.default.createElement("div",{className:"access-token",title:this._getTitle()},t&&u.default.createElement("div",{className:"assignee-token-icon"},u.default.createElement(s.Avatar,{icon:"globe",user:{full_name:"Everyone"}})),a&&u.default.createElement("div",{className:"assignee-token-icon"},u.default.createElement(s.Avatar,{user:this._getGroup(),width:"50",title:!1,presence:!1})),n&&u.default.createElement("div",{className:"assignee-token-avatar"},u.default.createElement(s.Avatar,{user:n,width:"50",title:!1,presence:!1})))}},{key:"_getGroup",value:function(){return{initials:this.props.group.title.split(" ").map(function(e){return e[0]}).join("")}}},{key:"_getTitle",value:function(){return this._getSubject()+" "+this._getPredicate()}},{key:"_getSubject",value:function(){var e=this.props,t=e.is_everyone,a=e.group,n=e.user;return t?"Everyone":a?a.title:n?n.full_name:void 0}},{key:"_getPredicate",value:function(){var e=this.props.access_type;return"owner"===e?"is the owner":"edit"===e?"can edit":"view"===e?"can view":void 0}}]),t}(u.default.Component);c.propTypes={access_type:i.default.string,is_everyone:i.default.bool,group:i.default.object,user:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(2)),l=u(a(3)),r=u(a(4)),o=u(a(5)),s=u(a(1)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClick=l._handleClick.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.folder,t=e?e.label:"Maha Drive";return i.default.createElement("div",{className:"drive-details-folder",onClick:this._handleClick},t)}},{key:"_handleClick",value:function(){var e=this.props,t=e.folder;(0,e.onChangeFolder)(t)}}]),t}(i.default.Component);d.propTypes={folder:s.default.object,onChangeFolder:s.default.func},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.item;return{title:"Rename Folder",method:"patch",endpoint:"/api/admin/drive/folders/"+e.code+"/edit",action:"/api/admin/drive/folders/"+e.code,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Label",name:"label",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={item:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.item;return{title:"Rename File",method:"patch",endpoint:"/api/admin/drive/files/"+e.code+"/edit",action:"/api/admin/drive/files/"+e.code,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"File Name",name:"file_name",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={item:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.parent_id;return{title:"New Folder",method:"post",action:"/api/admin/drive/folders",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Label",name:"label",type:"textfield",required:!0},{name:"parent_id",type:"hidden",defaultValue:e}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={parent_id:s.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Transfer Ownership",method:"post",action:"/api/admin/drive/transfer",onCancel:this._handleCancel,onSuccess:this._handleSuccess,saveText:"Transfer",sections:[{fields:[{label:"From",name:"from_user_id",type:"lookup",required:!0,endpoint:"/api/admin/users",value:"id",text:"full_name",format:i.CompactUserToken},{label:"To",name:"to_user_id",type:"lookup",required:!0,endpoint:"/api/admin/users",value:"id",text:"full_name",format:i.CompactUserToken},{label:"Reassignment",name:"strategy",type:"radiogroup",required:!0,options:this._getStrategy(),defaultValue:"none"}]}]}}},{key:"_getStrategy",value:function(){return[{value:"none",text:"Do not reassign any access to previous owner"},{value:"edit",text:u.default.createElement("span",null,"Reassign all items to previous owner with ",u.default.createElement("strong",null,"edit")," access")},{value:"view",text:u.default.createElement("span",null,"Reassign all items to previous owner with ",u.default.createElement("strong",null,"view")," access")}]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={file:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"FETCH_SUCCESS":return(0,n.default)({},e,{file:t.result.data});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBrowse=l._handleBrowse.bind(l),l._handleRefresh=l._handleRefresh.bind(l),l._handleUpload=l._handleUpload.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.file;return t?d.default.createElement("div",{className:"drive-versions"},d.default.createElement("div",{className:"drive-upload"},d.default.createElement("div",{className:"ui fluid green button",onClick:this._handleBrowse},"Upload New Version")),t.versions.map(function(a,n){return d.default.createElement("div",{className:"drive-version",key:"version_"+a.id},d.default.createElement("div",{className:"drive-version-preview"},d.default.createElement(s.AssetThumbnail,a.asset)),d.default.createElement("div",{className:"drive-version-details"},d.default.createElement("div",{className:"drive-version-text"},d.default.createElement("div",{className:"drive-version-text-version"},a.id===t.version_id?d.default.createElement("span",null,"Current"):d.default.createElement("span",null,"Version ",t.versions.length-n)),d.default.createElement("div",{className:"drive-version-text-filename"},a.asset.original_file_name)),d.default.createElement("div",{className:"drive-version-meta"},d.default.createElement("div",{className:"drive-version-meta-timestamp"},(0,u.default)(a.created_at).format("MMM DD, YYYY, h:mm A")),d.default.createElement("div",{className:"drive-version-meta-user"},a.user.full_name))),d.default.createElement("div",{className:"drive-version-active"},a.id===t.version_id?d.default.createElement("i",{className:"fa fa-fw fa-check-circle"}):d.default.createElement("i",{className:"fa fa-fw fa-circle-o",onClick:e._handleRevert.bind(e,a.asset.id,t.versions.length-n)})))})):null}},{key:"componentDidMount",value:function(){var e=this.props,t=e.id;(0,e.onFetch)(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.file;t!==e.file&&null!==t&&this._handleJoin()}},{key:"componentWillUnmount",value:function(){this._handleLeave()}},{key:"_handleJoin",value:function(){var e=this.props.file,t=this.context.network,a="/admin/drive/files/"+e.code;t.join(a),t.subscribe([{target:a,action:"refresh",handler:this._handleRefresh}])}},{key:"_handleLeave",value:function(){var e=this.props.file,t=this.context.network,a="/admin/drive/files/"+e.code;t.leave(a),t.unsubscribe([{target:a,action:"refresh",handler:this._handleRefresh}])}},{key:"_handleRefresh",value:function(){var e=this.props,t=e.id;(0,e.onFetch)(t)}},{key:"_handleBrowse",value:function(){this.context.uploader.browse(this._handleUpload)}},{key:"_handleUpload",value:function(e){var t=this.props.file;this.context.network.request({method:"PATCH",endpoint:"/api/admin/drive/files/"+t.code,body:{asset_id:e.id}})}},{key:"_handleRevert",value:function(e,t){var a=this,n=this.props.file;this.context.confirm.open("Revert to version "+t+"?",function(){a.context.network.request({method:"PATCH",endpoint:"/api/admin/drive/files/"+n.code,body:{asset_id:e}})})}}]),t}(d.default.Component);f.contextTypes={confirm:i.default.object,network:i.default.object,uploader:i.default.object},f.propTypes={id:i.default.string,file:i.default.object,onFetch:i.default.func};var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.ModalPanel,this._getModalPanel(),d.default.createElement(s.Uploader,null,d.default.createElement(f,this.props)))}},{key:"_getModalPanel",value:function(){return{title:"Manage Versions",rightItems:[{label:"Done",handler:this._handleDone}]}}},{key:"_handleDone",value:function(){this.context.modal.close()}}]),t}(d.default.Component);m.contextTypes={modal:i.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetch=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/drive/files/"+e,request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={active:null,methods:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET_METHODS":return(0,n.default)({},e,{methods:t.methods});case"CHOOSE_METHOD":return(0,n.default)({},e,{active:t.index});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=a(6),i=p(a(1315)),u=p(a(1)),d=p(a(1316)),c=p(a(510)),f=p(a(1320)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChooseMethod=l._handleChooseMethod.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"drive-share"},m.default.createElement(s.Stack,{cards:this._getCards()}))}},{key:"componentDidMount",value:function(){var e=[{icon:"envelope",label:"email",component:d.default},{icon:"comment",label:"chat",component:c.default},{icon:"link",label:"link",component:f.default}];this.props.onSetMethods(e)}},{key:"_getCards",value:function(){var e=this,t=this.props.method,a=[{component:function(){return m.default.createElement(i.default,e._getMethods())}}];return t&&a.push({component:function(){return m.default.createElement(t.component,e._getMethod())}}),a}},{key:"_getMethods",value:function(){var e=this.props;return{item:e.item,methods:e.methods,onChooseMethod:this._handleChooseMethod}}},{key:"_getMethod",value:function(){return{item:this.props.item,onBack:this._handleChooseMethod}}},{key:"_handleChooseMethod",value:function(e){this.props.onChooseMethod(e)}}]),t}(m.default.Component);h.contextTypes={flash:u.default.object,modal:u.default.object},h.propTypes={active:u.default.number,item:u.default.object,methods:u.default.array,method:u.default.object,onChooseMethod:u.default.func,onSetMethods:u.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleChoose=l._handleChoose.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.methods;return t?u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"drive-share-methods"},t.map(function(t,a){return u.default.createElement("div",{className:"drive-share-methods-item",key:"item_"+a,onClick:e._handleChoose.bind(e,a)},u.default.createElement("div",{className:"drive-share-methods-item-icon"},u.default.createElement("i",{className:"fa fa-"+t.icon})),u.default.createElement("div",{className:"drive-share-methods-item-text"},"Share via ",t.label),u.default.createElement("div",{className:"drive-share-methods-item-proceed"},u.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}))):null}},{key:"_getPanel",value:function(){var e=this.props.item;return{title:"Share "+d.default.capitalize(e.type),leftItems:[{label:"Cancel",handler:this._handleCancel}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleChoose",value:function(e){this.props.onChooseMethod(e)}}]),t}(u.default.Component);f.contextTypes={flash:i.default.object,modal:i.default.object},f.propTypes={item:i.default.object,methods:i.default.array,onChooseMethod:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.item,t="Check out this "+e.type+":\n\nhttp://localhost:8080/drive/share/"+e.code;return{title:"Share via Email",method:"post",action:"/api/admin/drive/share/email",cancelText:u.default.createElement("i",{className:"fa fa-chevron-left"}),onCancel:this._handleCancel,onSuccess:this._handleSuccess,before:u.default.createElement("div",{className:"drive-share-header"},u.default.createElement(s.AssetToken,e.asset)),sections:[{fields:[{label:"To",name:"to",type:"textfield",required:!0},{label:"Subject",name:"subject",type:"textfield",required:!0,defaultValue:e.label},{label:"Message",name:"message",type:"textarea",required:!0,rows:12,defaultValue:t}]}]}}},{key:"_handleCancel",value:function(){this.props.onBack()}},{key:"_handleSuccess",value:function(){var e=this,t=this.props.item;setTimeout(function(){e.context.flash.set("success","The "+t.type+" was successfully shared")},500),this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={flash:i.default.object,modal:i.default.object},c.propTypes={item:i.default.object,onBack:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={ids:[],status:"pending",channel:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"SET":return(0,n.default)({},e,{ids:t.ids});case"SHARE_REQUEST":return(0,n.default)({},e,{status:"loading"});case"SHARE_FAILURE":return(0,n.default)({},e,{status:"failure"});case"SHARE_SUCCESS":return(0,n.default)({},e,{channel:t.result.data,status:"success"});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(7)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleBack=n._handleBack.bind(n),n._handleChange=n._handleChange.bind(n),n._handleShare=n._handleShare.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return d.default.createElement(i.ModalPanel,this._getPanel(),d.default.createElement(i.ToggleList,this._getToggleList()))}},{key:"componentDidUpdate",value:function(e){var t=this.props.status;t!==e.status&&"success"===t&&this._handleSuccess()}},{key:"_getPanel",value:function(){return{title:"Share via Chat",leftItems:[{icon:"chevron-left",handler:this._handleBack}],rightItems:[{label:"Share",handler:this._handleShare}]}}},{key:"_getToggleList",value:function(){return{endpoint:"/api/admin/users",defaultFilters:{app_id:{$eq:6}},exclude_ids:[this.context.admin.user.id],format:function(e){return d.default.createElement(i.CompactUserToken,(0,n.default)({},e,{presence:!0}))},multiple:!0,text:"full_name",value:"id",onChange:this._handleChange}}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleChange",value:function(e){this.props.onSet(e)}},{key:"_handleShare",value:function(){var e=this.props,t=e.ids,a=e.item.asset.id;this.props.onShare({asset_id:a,ids:t})}},{key:"_handleSuccess",value:function(){var e=this,t=this.props.item;setTimeout(function(){e.context.flash.set("success","The "+t.type+" was successfully shared")},500),this.context.modal.close()}}]),t}(d.default.Component);f.contextTypes={admin:u.default.object,flash:u.default.object,modal:u.default.object},f.propTypes={ids:u.default.array,item:u.default.object,status:u.default.string,onBack:u.default.func,onShare:u.default.func,onChange:u.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.share=function(e){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/drive/share/chat",body:e,request:"SHARE_REQUEST",success:"SHARE_SUCCESS",failure:"SHARE_FAILURE"}},t.set=function(e){return{type:"SET",ids:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),l._handleDone=l._handleDone.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.item,t="http://localhost:8080/drive/share/"+e.code;return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"drive-share-header"},u.default.createElement(s.AssetToken,e.asset)),u.default.createElement("div",{className:"drive-share-body"},u.default.createElement("h3",null,"Share Online"),u.default.createElement("p",null,"You can share the following link to give access to anyone online"),u.default.createElement("div",{className:"drive-share-link"},u.default.createElement("div",{className:"drive-share-link-text"},u.default.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t)),u.default.createElement("div",{className:"drive-share-link-button"},u.default.createElement(s.Button,this._getCopyLinkButton(t))))))}},{key:"_getCopyLinkButton",value:function(e){return{label:"Copy Link",handler:this._copyLink.bind(this,e)}}},{key:"_copyLink",value:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var a=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a)),document.getElementsByClassName("ui button")[0].innerHTML=" Copied! ",setTimeout(function(){document.getElementsByClassName("ui button")[0].innerHTML="Copy Link"},1200)}},{key:"_getPanel",value:function(){return{title:"Share via Link",leftItems:[{icon:"chevron-left",handler:this._handleBack}],rightItems:[{label:"Done",handler:this._handleDone}]}}},{key:"_handleBack",value:function(){this.props.onBack()}},{key:"_handleDone",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={item:i.default.object,onBack:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setMethods=function(e){return{type:"SET_METHODS",methods:e}},t.chooseMethod=function(e){return{type:"CHOOSE_METHOD",index:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.method=void 0;var n=a(12);t.method=(0,n.createSelector)(function(e,t){return e.methods},function(e,t){return e.active},function(e,t){return null!==t?e[t]:null})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(10)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={folders:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"CHANGE_FOLDER":return(0,l.default)({},e,{folders:[].concat((0,n.default)(e.folders),[t.folder])});case"MOVE_SUCCESS":return(0,l.default)({},e,{status:"success"});case"UP":return(0,l.default)({},e,{folders:e.folders.slice(0,-1)});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(6),u=f(a(1)),d=f(a(1325)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleDone=n._handleDone.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(i.ModalPanel,this._getModalPanel(),c.default.createElement("div",{className:"drive-move"},c.default.createElement("div",{className:"drive-move-body"},c.default.createElement(i.Stack,this._getStack())),c.default.createElement("div",{className:"drive-move-footer"},c.default.createElement(i.Button,this._getButton()))))}},{key:"componentDidUpdate",value:function(e){var t=this.context.modal,a=this.props.status;a!==e.status&&"success"===a&&t.close()}},{key:"_getModalPanel",value:function(){return{title:"Choose Destination",leftItems:[{label:"Cancel",handler:this._handleCancel}]}}},{key:"_getButton",value:function(){return{label:"Move Here",color:"red",handler:this._handleDone}}},{key:"_getStack",value:function(){var e=this,t=this.props.folders;return{cards:[{component:d.default,props:this._getFolder({id:null,item_id:null,label:"My Drive"})}].concat((0,n.default)(t.map(function(t,a){return{component:d.default,props:e._getFolder(t)}})))}}},{key:"_getFolder",value:function(e){var t=this.props;return{folder:e,onChangeFolder:t.onChangeFolder,onUp:t.onUp}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleDone",value:function(){var e=this.props,t=e.item,a=e.folder,n=e.onMove,l=a?a.item_id:null;n(t.code,l)}}]),t}(c.default.Component);m.contextTypes={flash:u.default.object,modal:u.default.object},m.propTypes={item:u.default.object,folders:u.default.array,folder:u.default.object,status:u.default.string,onChangeFolder:u.default.func,onMove:u.default.func,onUp:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=a(6),u=f(a(1)),d=f(a(1326)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleUp=n._handleUp.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.folder;return c.default.createElement("div",{className:"drive-folder"},c.default.createElement("div",{className:"drive-header"},c.default.createElement("div",{className:"drive-header-breadcrumb",onClick:this._handleUp},c.default.createElement("div",{className:"drive-header-back"},e.item_id?c.default.createElement("i",{className:"fa fa-fw fa-chevron-left"}):c.default.createElement("i",{className:"fa fa-fw fa-home"})),c.default.createElement("div",{className:"drive-header-label"},e.label))),c.default.createElement("div",{className:"drive-results"},c.default.createElement(i.Infinite,this._getInfinite())))}},{key:"_getInfinite",value:function(){var e=this,t={icon:"folder-open-o",title:"Empty Folder",text:"There are no folders in this folder"};return{endpoint:"/api/admin/drive/items",filter:{code:{$eq:this.props.folder.code||"drive"},type:{$eq:"folder"},access_type:{$in:["owner","edit"]}},empty:c.default.createElement(i.Message,t),notFound:c.default.createElement(i.Message,t),layout:function(t){return c.default.createElement(d.default,(0,n.default)({},e._getItems(),t))}}}},{key:"_getItems",value:function(){return{onChangeFolder:this.props.onChangeFolder}}},{key:"_handleUp",value:function(){this.props.folder.item_id&&this.props.onUp()}}]),t}(c.default.Component);m.propTypes={folder:u.default.object,records:u.default.array,onChangeFolder:u.default.func,onUp:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=a(6),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.records;return u.default.createElement("div",{className:"drive-items"},t.map(function(t,a){return u.default.createElement("div",{className:"drive-item",key:"item_"+a},u.default.createElement("div",{className:"drive-item-icon",onClick:e._handleClick.bind(e,t)},"folder"===t.type&&u.default.createElement("div",{className:"maha-asset-icon"},u.default.createElement("i",{className:"fa fa-fw fa-folder"})),"file"===t.type&&u.default.createElement(i.AssetIcon,{content_type:t.asset.content_type})),u.default.createElement("div",{className:"drive-item-name",onClick:e._handleClick.bind(e,t)},t.label))}))}},{key:"_handleClick",value:function(e){var t=this.props.onChangeFolder;"folder"===e.type&&t(e)}},{key:"_handleChooseAsset",value:function(e){var t=this.props,a=t.files,n=t.onAddAsset,l=t.onRemoveAsset;if(d.default.findIndex(a,{id:e.id,network:"maha"})<0)return n(e);l(e)}}]),t}(u.default.Component);f.propTypes={files:s.default.array,records:s.default.array,onChangeFolder:s.default.func,onAddAsset:s.default.func,onRemoveAsset:s.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.changeFolder=function(e){return{type:"CHANGE_FOLDER",folder:e}},t.up=function(){return{type:"UP"}},t.move=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:"/api/admin/drive/items/"+e+"/move",body:{folder_id:t},request:"MOVE_REQUEST",success:"MOVE_SUCCESS",failure:"MOVE_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.folder=void 0;var n=a(12);t.folder=(0,n.createSelector)(function(e,t){return e.folders},function(e){return e[e.length-1]})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(7)),l=p(a(2)),r=p(a(3)),o=p(a(4)),s=p(a(5)),i=a(6),u=p(a(1)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1330)),c=p(a(512)),f=p(a(0)),m=p(a(9));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={cacheKey:null},n._handleShowDetails=n._handleShowDetails.bind(n),n._handleRefreshFolder=n._handleRefreshFolder.bind(n),n._handleUp=n._handleUp.bind(n),n._handleCreate=n._handleCreate.bind(n),n._handlePreview=n._handlePreview.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.folder;return f.default.createElement("div",{className:"drive-folder"},f.default.createElement("div",{className:"drive-header"},f.default.createElement("div",{className:"drive-header-breadcrumb",onClick:this._handleUp},f.default.createElement("div",{className:"drive-header-back"},"root"===e.code?f.default.createElement("i",{className:"fa fa-fw fa-home"}):f.default.createElement("i",{className:"fa fa-fw fa-chevron-left"})),f.default.createElement("div",{className:"drive-header-label"},e.label)),f.default.createElement("div",{className:"drive-header-icon",onClick:this._handleTasks.bind(this,e)},f.default.createElement("i",{className:"fa fa-fw fa-ellipsis-v"}))),f.default.createElement("div",{className:"drive-results",onClick:this._handlePreview},f.default.createElement(i.Infinite,this._getInfinite())))}},{key:"componentDidMount",value:function(){var e=this.context.network,t=this.props.folder,a=t.item_id||t.code;e.join("/admin/drive/folders/"+a),e.subscribe([{target:"/admin/drive/folders/"+a,action:"refresh",handler:this._handleRefreshFolder}]),this._handleFocus()}},{key:"componentDidUpdate",value:function(e){var t=this.props.active;t!==e.active&&t&&this._handleFocus()}},{key:"componentWillUnmount",value:function(){var e=this.context.network,t=this.props.folder,a=t.item_id||t.code;e.leave("/admin/drive/folders/"+a),e.unsubscribe([{target:"/admin/drive/folders/"+a,action:"refresh",handler:this._handleRefreshFolder}])}},{key:"_getAttachments",value:function(){return{prompt:"Upload File(s)",networks:["device","web","google","dropbox","box","microsoft"],onChooseAssets:this._handleCreate}}},{key:"_getFilter",value:function(e){return m.default.includes(["shared","starred","trash"],e)?{}:{filter:{code:{$eq:e}}}}},{key:"_getEmptyShared",value:function(){return{icon:"handshake-o",title:"No Shared Items",text:"You have not had any items shared with you"}}},{key:"_getEmptyStarred",value:function(){return{icon:"star",title:"No Starred Items",text:"You have not starred any items"}}},{key:"_getEmptyTrash",value:function(){return{icon:"trash",title:"Empty Trash",text:"The trash is empty"}}},{key:"_getEmptyFolder",value:function(){return{icon:"folder-open-o",title:"Empty Folder",text:"There are no items in this folder",button:{label:"Upload File(s)",modal:f.default.createElement(i.Attachments,this._getAttachments())}}}},{key:"_getInfinite",value:function(){var e=this.props.folder;return"shared"===e.code?this._getShared():"starred"===e.code?this._getStarred():"trash"===e.code?this._getTrash():this._getFolder(e)}},{key:"_getShared",value:function(){var e=this;return{endpoint:"/api/admin/drive/shared",empty:f.default.createElement(i.Message,this._getEmptyShared()),notFound:f.default.createElement(i.Message,this._getEmptyShared()),layout:function(t){return f.default.createElement(c.default,(0,n.default)({},e._getItems(),t))}}}},{key:"_getStarred",value:function(){var e=this;return{endpoint:"/api/admin/drive/starred",empty:f.default.createElement(i.Message,this._getEmptyStarred()),notFound:f.default.createElement(i.Message,this._getEmptyStarred()),layout:function(t){return f.default.createElement(c.default,(0,n.default)({},e._getItems(),t))},selectors:d}}},{key:"_getTrash",value:function(){var e=this;return{cacheKey:this.state.cacheKey,endpoint:"/api/admin/drive/trash",empty:f.default.createElement(i.Message,this._getEmptyTrash()),notFound:f.default.createElement(i.Message,this._getEmptyTrash()),layout:function(t){return f.default.createElement(c.default,(0,n.default)({},e._getItems(),t))},selectors:d}}},{key:"_getFolder",value:function(e){var t=this,a=this.state.cacheKey;return(0,n.default)({cacheKey:a,endpoint:"/api/admin/drive/items"},this._getFilter(e.code),{empty:f.default.createElement(i.Message,this._getEmptyFolder()),notFound:f.default.createElement(i.Message,this._getEmptyFolder()),layout:function(e){return f.default.createElement(c.default,(0,n.default)({},t._getItems(),e))}})}},{key:"_getItems",value:function(){var e=this.props;return{folder:e.folder,onChangeFolder:e.onChangeFolder,onCreateFile:e.onCreateFile,onDrive:e.onDrive,onPreview:e.onPreview,onShared:e.onShared,onStarred:e.onStarred,onTasks:e.onTasks,onTrash:e.onTrash,onUpdateFile:e.onUpdateFile}}},{key:"_getPath",value:function(e){return"root"===e?"/admin/drive":"drive"===e?"/admin/drive/items":"shared"===e?"/admin/drive/shared":"starred"===e?"/admin/drive/starred":"trash"===e?"/admin/drive/trash":"/admin/drive/folders/"+e}},{key:"_handleFocus",value:function(){var e=this.props.folder,t=this._getPath(e.code);this.context.router.replace(t)}},{key:"_handleTasks",value:function(e,t){this.props.onTasks(e,t)}},{key:"_handleUp",value:function(){"root"!==this.props.folder.code&&this.props.onUp()}},{key:"_handleCreate",value:function(e){var t=this.props,a=t.folder,n=t.onCreateFile;e.map(function(e){n(a.item_id,e.id)})}},{key:"_handlePreview",value:function(){var e=this.props,t=e.folder;(0,e.onPreview)(t)}},{key:"_handleRefreshFolder",value:function(){this.setState({cacheKey:m.default.random(1e8,999999999).toString(36)})}},{key:"_handleShowDetails",value:function(e){e.stopPropagation(),this.props.onShowDetails()}}]),t}(f.default.Component);h.contextTypes={network:u.default.object,router:u.default.object,tasks:u.default.object,uploader:u.default.object},h.propTypes={active:u.default.bool,folder:u.default.object,records:u.default.array,onChangeFolder:u.default.func,onCreateFile:u.default.func,onDrive:u.default.func,onPreview:u.default.func,onShowDetails:u.default.func,onShared:u.default.func,onStarred:u.default.func,onTasks:u.default.func,onTrash:u.default.func,onUp:u.default.func,onUpdateFile:u.default.func},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.total=t.all=t.records=void 0;var n=a(12),l=function(e){return e&&e.__esModule?e:{default:e}}(a(9));var r=t.records=(0,n.createSelector)(function(e,t){return t.records||[]},function(e,t){return e.maha.stars.stars},function(e,t){return e.filter(function(e){return!1!==l.default.get(t,"drive_"+e.type+"s["+e.item_id+"]")})});t.all=(0,n.createSelector)(r,function(e){return e.length}),t.total=(0,n.createSelector)(r,function(e){return e.length})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchFolder=function(e){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/drive/items/"+e,request:"FETCH_FOLDER_REQUEST",success:"FETCH_FOLDER_SUCCESS",failure:"FETCH_FOLDER_FAILURE"}},t.createFile=function(e,t){return{type:"API_REQUEST",method:"POST",endpoint:"/api/admin/drive/files",body:{folder_id:e,asset_id:t},request:"CREATE_FILE_REQUEST",success:"CREATE_FILE_SUCCESS",failure:"CREATE_FILE_FAILURE"}},t.updateFile=function(e,t){return{type:"API_REQUEST",method:"PATCH",endpoint:"/api/admin/drive/files/"+e,body:{asset_id:t},request:"UPDATE_FILE_REQUEST",success:"UPDATE_FILE_SUCCESS",failure:"UPDATE_FILE_FAILURE"}},t.changeFolder=function(e){return{type:"CHANGE_FOLDER",folder:e}},t.ready=function(){return{type:"READY"}},t.up=function(){return{type:"UP"}},t.setQuery=function(e){return{type:"SET_QUERY",q:e}},t.preview=function(e){return{type:"PREVIEW",item:e}},t.showDetails=function(e){return{type:"SHOW_DETAILS",show:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=s(a(14)),l=s(a(10)),r=s(a(7)),o=s(a(9));function s(e){return e&&e.__esModule?e:{default:e}}var i=t.INITIAL_STATE={assigned:[],member_types:[],adding:!1,status:"pending"};t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments[1];switch(a.type){case"FETCH_ASSIGNED_SUCCESS":return(0,r.default)({},t,{assigned:a.result.data});case"FETCH_MEMBER_TYPES_SUCCESS":return(0,r.default)({},t,{member_types:a.result.data});case"SAVE_SUCCESS":return(0,r.default)({},t,{status:"saved"});case"ADD":return(0,r.default)({},t,{adding:!1,assigned:[].concat((0,l.default)(t.assigned),[(e={},(0,n.default)(e,a.model,a.item),(0,n.default)(e,"member_type",t.member_types[2]),e)])});case"REMOVE":return(0,r.default)({},t,{assigned:[].concat((0,l.default)(t.assigned.slice(0,a.index)),(0,l.default)(t.assigned.slice(a.index+1)))});case"CHANGE_TYPE":var s=t.assigned[a.index],u=(o.default.findIndex(t.member_types,{id:s.member_type.id})+1)%3;return(0,r.default)({},t,{assigned:[].concat((0,l.default)(t.assigned.slice(0,a.index)),[(0,r.default)({},t.assigned[a.index],{member_type:t.member_types[u]})],(0,l.default)(t.assigned.slice(a.index+1)))});case"BEGIN_ADD":return(0,r.default)({},t,{adding:!0});default:return t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(0)),i=f(a(1)),u=a(6),d=f(a(38)),c=f(a(513));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.assigned,n=t.type;return s.default.createElement(u.ModalPanel,this._getModalPanel(),s.default.createElement("div",{className:this._getClass()},s.default.createElement("div",{className:"maha-assignment-body"},s.default.createElement("div",{className:"maha-assignment-assigned"},s.default.createElement("div",{className:"maha-assignment-add",onClick:this._handleBeginAdd.bind(this)},"Add a member..."),0===a.length&&s.default.createElement(u.Message,this._getEmpty()),a.length>0&&s.default.createElement("div",{className:"maha-assignment-list"},a.map(function(t,a){return s.default.createElement("div",{className:"maha-assignment-item",key:"member_"+a},s.default.createElement("div",{className:"maha-assignment-item-token",onClick:e._handleChangeType.bind(e,a)},s.default.createElement(c.default,{type:n,membership:t})),s.default.createElement("div",{className:"maha-assignment-item-icon",onClick:e._handleRemove.bind(e,a)},s.default.createElement("i",{className:"fa fa-remove"})))}))),s.default.createElement("div",{className:"maha-assignment-unassigned"},s.default.createElement(u.Search2,this._getSearch())))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.assignedEndpoint,a=e.onFetchAssigned;(0,e.onFetchMemberTypes)(),a(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.status,a=this.context.modal;t!==e.status&&"saved"===t&&a.close()}},{key:"_getClass",value:function(){var e=["maha-assignment"];return this.props.adding&&e.push("adding"),e.join(" ")}},{key:"_getModalPanel",value:function(){return{title:"Manage "+("user"===this.props.type?"Users":"Projects"),leftItems:[{label:"Cancel",handler:this._handleCancel.bind(this)}],rightItems:[{label:"Save",handler:this._handleSave.bind(this)}]}}},{key:"_getEmpty",value:function(){var e=this.props.type,t="user"===e?"users":"projects";return{icon:"user"===e?"users":"folder",title:"No "+t,text:"There are no "+t}}},{key:"_getSearch",value:function(){var e=this.props,t=e.unassignedEndpoint,a=e.ids,n=e.type;return{endpoint:t,exclude_ids:a,format:"user"===n?u.CompactUserToken:function(e){return s.default.createElement(d.default,{project:e})},label:"user"===n?"User":"Project",text:"user"===n?"full_name":"title",value:"id",onChoose:this._handleChoose.bind(this)}}},{key:"_handleChoose",value:function(e){var t=this.props.type;this.props.onAdd(t,e)}},{key:"_handleChangeType",value:function(e){this.props.onChangeType(e)}},{key:"_handleRemove",value:function(e){this.props.onRemove(e)}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleBeginAdd",value:function(){this.props.onBeginAdd()}},{key:"_handleSave",value:function(){var e=this.props,t=e.action,a=e.values;this.props.onSave(t,a)}}]),t}(s.default.Component);m.contextTypes={modal:i.default.object},m.propTypes={action:i.default.string,adding:i.default.bool,assigned:i.default.array,assignedEndpoint:i.default.string,ids:i.default.array,status:i.default.string,type:i.default.string,unassigned:i.default.array,unassignedEndpoint:i.default.string,values:i.default.array,onAdd:i.default.func,onBeginAdd:i.default.func,onChangeType:i.default.func,onFetchAssigned:i.default.func,onFetchMemberships:i.default.func,onFetchMemberTypes:i.default.func,onRemove:i.default.func,onSave:i.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fetchMemberTypes=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/expenses/member_types",request:"FETCH_MEMBER_TYPES_REQUEST",success:"FETCH_MEMBER_TYPES_SUCCESS",failure:"FETCH_MEMBER_TYPES_FAILURE"}},t.fetchAssigned=function(e){return{type:"API_REQUEST",method:"GET",endpoint:e,request:"FETCH_ASSIGNED_REQUEST",success:"FETCH_ASSIGNED_SUCCESS",failure:"FETCH_ASSIGNED_FAILURE"}},t.save=function(e,t){return{type:"API_REQUEST",method:"PATCH",body:{members:t},endpoint:e,request:"SAVE_REQUEST",success:"SAVE_SUCCESS",failure:"SAVE_FAILURE"}},t.add=function(e,t){return{type:"ADD",model:e,item:t}},t.remove=function(e){return{type:"REMOVE",index:e}},t.changeType=function(e){return{type:"CHANGE_TYPE",index:e}},t.beginAdd=function(){return{type:"BEGIN_ADD"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.values=t.ids=void 0;var n=s(a(14)),l=s(a(10)),r=a(12),o=s(a(9));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t){return e.assigned},u=function(e,t){return"user"===t.type?"user.id":"project.id"};t.ids=(0,r.createSelector)(i,u,function(e,t){return e.map(function(e){return o.default.get(e,t)})}),t.values=(0,r.createSelector)(i,u,function(e,t){return e.reduce(function(e,a){var r;return[].concat((0,l.default)(e),[(r={},(0,n.default)(r,t.replace(".","_"),o.default.get(a,t)),(0,n.default)(r,"member_type_id",a.member_type.id),r)])},[])})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(7));var l=t.INITIAL_STATE={status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case"IMPORT_FINALIZE_REQUEST":return(0,n.default)({},e,{status:"finalizing"});case"SUCCESS":return(0,n.default)({},e,{status:"success",import:t.import});case"FAIL":return(0,n.default)({},e,{status:"failure",error:t.error});case"UPDATE_PROGRESS":return(0,n.default)({},e,{progress:t.progress});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),l._handleProgress=d.default.throttle(l._handleProgress.bind(l),150),l._handleSuccess=l._handleSuccess.bind(l),l._handleFailure=l._handleFailure.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.import;return u.default.createElement(s.ModalPanel,this._getPanel(),u.default.createElement("div",{className:"import-finalize"},e&&u.default.createElement(s.Progress,this._getProgress())))}},{key:"componentDidMount",value:function(){this.props.onFinalizeTrips(this.props.import.id)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.status,n=t.onDone;e.status!==a&&("finalizing"===a?this._handleJoin():"failure"===a?this._handleLeave():"success"===a&&(this._handleLeave(),n()))}},{key:"_getPanel",value:function(){var e={title:"Finalize Mileage Import"};return"success"===this.props.status&&(e.rightItems=[{label:"Proceed",handler:this._handleDone}]),e}},{key:"_getProgress",value:function(){var e=this.props.progress;return{percent:e?e.completed/e.total*100:0,title:"Finalizing your import",label:e?e.completed+"/"+e.total:""}}},{key:"_handleJoin",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.join(t),e.subscribe([{target:t,action:"progress",handler:this._handleProgress},{target:t,action:"success",handler:this._handleSuccess},{target:t,action:"failed",handler:this._handleFailure}])}},{key:"_handleLeave",value:function(){var e=this.context.network,t="/admin/imports/"+this.props.import.id;e.leave(t),e.unsubscribe([{target:t,action:"progress",handler:this._handleProgress},{target:t,action:"success",handler:this._handleSuccess},{target:t,action:"failed",handler:this._handleFailure}])}},{key:"_handleProgress",value:function(e){this.props.onUpdateProgress(e)}},{key:"_handleSuccess",value:function(e){this.props.onSuccess(e)}},{key:"_handleFailure",value:function(e){this.props.onFail(e)}},{key:"_handleDone",value:function(){(0,this.props.onDone)(this.props.import)}}]),t}(u.default.Component);f.contextTypes={network:i.default.object,admin:i.default.object,modal:i.default.object,platform:i.default.object},f.PropTypes={import:i.default.object,status:i.default.string,onDone:i.default.func,onFinalizeTrips:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.finalizeTrips=function(e){return{type:"API_REQUEST",method:"PATCH",body:{id:e},endpoint:"/api/admin/expenses/items/import/finalize",request:"IMPORT_FINALIZE_REQUEST",success:"IMPORT_FINALIZE_SUCCESS",failure:"IMPORT_FINALIZE_FAILURE"}},t.success=function(e){return{type:"SUCCESS",import:e}},t.fail=function(e){return{type:"FAIL",error:e}},t.updateProgress=function(e){return{type:"UPDATE_PROGRESS",progress:e}}},function(e,t,a){"use strict"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={apps:[],app_ids:[],status:"pending"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"SET_ASSIGNED":return(0,l.default)({},e,t.assigned);case"FETCH_REQUEST":return(0,l.default)({},e,{status:"loading"});case"FETCH_SUCCESS":return(0,l.default)({},e,{apps:t.result.data,status:"success"});case"TOGGLE_APP":var a=r.default.includes(e.app_ids,t.app_id);return(0,l.default)({},e,{app_ids:a?r.default.without(e.app_ids,t.app_id):[].concat((0,n.default)(e.app_ids),[t.app_id])});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(1)),u=c(a(0)),d=c(a(9));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.apps,n=t.app_ids;return u.default.createElement("div",{className:"access"},a.map(function(t,a){var l=d.default.includes(n,t.id);return u.default.createElement("div",{key:"app_"+t.id,className:"access-app"},u.default.createElement("div",{className:"access-app-title"},u.default.createElement("div",{className:"access-app-label"},u.default.createElement(s.AppToken,t)),u.default.createElement("div",{className:"access-app-input"},u.default.createElement("i",{className:"fa fa-fw fa-toggle-"+(l?"on":"off"),onClick:e._handleToggleApp.bind(e,t.id)}))))}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onSetAssigned,n=e.onFetch;t&&a(t),n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.apps,n=t.app_ids,l=t.onChange,r=t.onReady;a!==e.apps&&r(),e.app_ids.length!==n.length&&l(n)}},{key:"_handleToggleApp",value:function(e){this.props.onToggleApp(e)}}]),t}(u.default.Component);f.propTypes={apps:i.default.array,app_ids:i.default.array,defaultValue:i.default.object,onBusy:i.default.func,onChange:i.default.func,onFetch:i.default.func,onReady:i.default.func,onSetAssigned:i.default.func,onToggleApp:i.default.func},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setAssigned=function(e){return{type:"SET_ASSIGNED",assigned:e}},t.toggleApp=function(e){return{type:"TOGGLE_APP",app_id:e}},t.fetch=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/platform/teams/apps",request:"FETCH_REQUEST",success:"FETCH_SUCCESS",failure:"FETCH_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={status:"pending",access:[],app_ids:[],right_ids:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"SET_ASSIGNED":return(0,l.default)({},e,t.assigned);case"LOAD_SUCCESS":return(0,l.default)({},e,{access:t.result.data});case"TOGGLE_APP":var a=r.default.findIndex(e.access,{id:t.app_id}),o=e.access[a].rights.map(function(e){return e.id}),i=r.default.includes(e.app_ids,t.app_id);return(0,l.default)({},e,{app_ids:i?r.default.without(e.app_ids,t.app_id):[].concat((0,n.default)(e.app_ids),[t.app_id]),right_ids:i?r.default.without.apply(r.default,[e.right_ids].concat((0,n.default)(o))):e.right_ids});case"TOGGLE_RIGHT":return(0,l.default)({},e,{right_ids:r.default.includes(e.right_ids,t.right_id)?r.default.without(e.right_ids,t.right_id):[].concat((0,n.default)(e.right_ids),[t.right_id])});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=a(21),i=a(6),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.access,n=t.app_ids,l=t.right_ids;return d.default.createElement("div",{className:"access"},a.map(function(t,a){var r=c.default.includes(n,t.id);return d.default.createElement("div",{key:"app_"+a,className:"access-app"},d.default.createElement("div",{className:"access-app-title"},d.default.createElement("div",{className:"access-app-label"},d.default.createElement(i.AppToken,t)),d.default.createElement("div",{className:"access-app-input"},d.default.createElement("i",{className:"fa fa-fw fa-toggle-"+(r?"on":"off"),onClick:e._handleToggleApp.bind(e,t.id)}))),d.default.createElement(s.CSSTransition,{in:r,classNames:"expanded",component:"div",timeout:500,mountOnEnter:!0,unmountOnExit:!0},d.default.createElement("div",{className:"access-rights"},t.rights.length>0&&t.rights.map(function(t,a){var n=c.default.includes(l,t.id);return d.default.createElement("div",{key:"app_right_"+a,className:"access-right"},d.default.createElement("div",{className:"access-right-label"},d.default.createElement("strong",null,t.text),d.default.createElement("br",null),t.description),d.default.createElement("div",{className:"access-right-input"},d.default.createElement("i",{className:"fa fa-fw fa-toggle-"+(n?"on":"off"),onClick:e._handleToggleRight.bind(e,t.id)})))}),0===t.rights.length&&d.default.createElement("div",{className:"access-right-empty"},"This app has no rights"))))}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onSetAssigned,n=e.onLoad;t&&a(t),n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.access,n=t.app_ids,l=t.right_ids,r=t.onChange,o=t.onReady;a!==e.access&&o(),e.app_ids.length!==n.length&&r({app_ids:n,right_ids:l}),e.right_ids.length!==l.length&&r({app_ids:n,right_ids:l})}},{key:"_handleToggleApp",value:function(e){this.props.onToggleApp(e)}},{key:"_handleToggleRight",value:function(e){this.props.onToggleRight(e)}}]),t}(d.default.Component);m.propTypes={access:u.default.array,app_ids:u.default.array,defaultValue:u.default.object,right_ids:u.default.array,onBusy:u.default.func,onChange:u.default.func,onLoad:u.default.func,onReady:u.default.func,onSetAssigned:u.default.func,onToggleApp:u.default.func,onToggleRight:u.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setAssigned=function(e){return{type:"SET_ASSIGNED",assigned:e}},t.toggleApp=function(e){return{type:"TOGGLE_APP",app_id:e}},t.toggleRight=function(e){return{type:"TOGGLE_RIGHT",right_id:e}},t.load=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/team/access",request:"LOAD_REQUEST",success:"LOAD_SUCCESS",failure:"LOAD_FAILURE"}},t.submit=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:e,query:t,request:"SUBMIT_REQUEST",success:"SUBMIT_SUCCESS",failure:"SUBMIT_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),l=s(a(1347)),r=s(a(1348)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(1349));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Factory)({namespace:"team.roles",component:r.default,reducer:l.default,actions:o})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=o(a(10)),l=o(a(7)),r=o(a(9));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.INITIAL_STATE={status:"pending",roles:[],assigned:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"SET_ASSIGNED":return(0,l.default)({},e,{assigned:t.assigned});case"LOAD_REQUEST":return(0,l.default)({},e,{status:"loading"});case"LOAD_SUCCESS":return(0,l.default)({},e,{roles:t.result.data,status:"success"});case"LOAD_FAILURE":return(0,l.default)({},e,{status:"failure"});case"TOGGLE":return(0,l.default)({},e,{assigned:r.default.includes(e.assigned,e.roles[t.index].id)?r.default.without(e.assigned,e.roles[t.index].id):[].concat((0,n.default)(e.assigned),[e.roles[t.index].id])});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.assigned,n=t.roles;return s.default.createElement("div",{className:"roles"},n.length>0&&n.map(function(t,n){return s.default.createElement("div",{key:"role_"+n,className:"role"},s.default.createElement("div",{className:"role-label"},s.default.createElement("strong",null,t.title),s.default.createElement("br",null),t.description),s.default.createElement("div",{className:"role-input"},s.default.createElement("i",{className:"fa fa-fw fa-toggle-"+(u.default.includes(a,t.id)?"on":"off"),onClick:e._handleToggleRole.bind(e,n)})))}),0===n.length&&s.default.createElement("div",{className:"role"},s.default.createElement("div",{className:"role-label"},"You have not yet created any roles")))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.onSetAssigned,n=e.onLoad;t&&a(t),n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.assigned,n=t.roles,l=t.onChange,r=t.onReady;n!==e.roles&&r(),a!==e.assigned&&l(a)}},{key:"_handleToggleRole",value:function(e){this.props.onToggle(e)}}]),t}(s.default.Component);c.propTypes={assigned:i.default.array,defaultValue:i.default.array,roles:i.default.array,onBusy:i.default.func,onChange:i.default.func,onLoad:i.default.func,onReady:i.default.func,onSetAssigned:i.default.func,onToggle:i.default.func},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setAssigned=function(e){return{type:"SET_ASSIGNED",assigned:e}},t.toggle=function(e){return{type:"TOGGLE",index:e}},t.load=function(){return{type:"API_REQUEST",method:"GET",endpoint:"/api/admin/team/roles",request:"LOAD_REQUEST",success:"LOAD_SUCCESS",failure:"LOAD_FAILURE"}},t.submit=function(e,t){return{type:"API_REQUEST",method:"GET",endpoint:e,query:t,request:"SUBMIT_REQUEST",success:"SUBMIT_SUBMIT",failure:"SUBMIT_FAILURE"}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(10)),l=s(a(14)),r=s(a(7)),o=s(a(9));function s(e){return e&&e.__esModule?e:{default:e}}var i={reactions:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"UPDATE":return(0,r.default)({},e,{reactions:(0,r.default)({},e.reactions,(0,l.default)({},t.table,(0,r.default)({},e.reactions[t.table]||{},(0,l.default)({},t.id,t.reactions))))});case"REACT":var a=o.default.get(e.reactions,t.table+"["+t.id+"]"),s=void 0!==o.default.find(a,{id:t.reaction.id,type:t.reaction.type});return(0,r.default)({},e,{reactions:(0,r.default)({},e.reactions,(0,l.default)({},t.table,(0,r.default)({},e.reactions[t.table]||{},(0,l.default)({},t.id,[].concat((0,n.default)((a||[]).filter(function(e){return e.id!==t.reaction.id||e.type!==t.reaction.type})),(0,n.default)(s?[]:[t.reaction]))))))});case"UNREACT":return(0,r.default)({},e,{reactions:(0,r.default)({},e.reactions,(0,l.default)({},t.table,(0,r.default)({},e.reactions[t.table]||{},(0,l.default)({},t.id,[].concat((0,n.default)((o.default.get(e.reactions,t.table+"["+t.id+"]")||[]).filter(function(e){return e.id!==t.reaction.id||e.type!==t.reaction.type})))))))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleUpdate=l._handleUpdate.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this._handleJoin()}},{key:"componentWillUnmount",value:function(){this._handleLeave()}},{key:"_handleJoin",value:function(){var e=this.context.network;e.join("/admin/reactions"),e.subscribe([{target:"/admin/reactions",action:"update_reactions",handler:this._handleUpdate}])}},{key:"_handleLeave",value:function(){var e=this.context.network;e.leave("/admin/reactions"),e.unsubscribe([{target:"/admin/reactions",action:"update_reactions",handler:this._handleUpdate}])}},{key:"_handleUpdate",value:function(e){var t=e.table,a=e.id,n=e.reactions;this.props.onUpdate(t,a,n)}}]),t}(i(a(0)).default.Component);u.contextTypes={network:s.default.object},u.propTypes={reactions:s.default.object,onUpdate:s.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.update=function(e,t,a){return{type:"UPDATE",table:e,id:t,reactions:a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(7)),l=r(a(9));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={cacheKey:null,chosen:null,query:"",results:null,recent:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"TYPE":return(0,n.default)({},e,{query:t.q});case"FETCH_RESULTS_REQUEST":return(0,n.default)({},e,{chosen:null,query:t.request.params.q});case"FETCH_RESULTS_SUCCESS":return(0,n.default)({},e,{results:e.query.length?t.result.data:null});case"CLEAR_RECENT_SUCCESS":return(0,n.default)({},e,{cacheKey:l.default.random(1e5,999999).toString(36)});case"CHOOSE":return(0,n.default)({},e,{chosen:{model:t.model,index:t.index}});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=a(6),u=m(a(1)),d=m(a(1355)),c=m(a(0)),f=m(a(9));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleClearRecent=n._handleClearRecent.bind(n),n._handleType=n._handleType.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.results,a=t?Object.keys(t):[],l=t?a.reduce(function(e,a){return e+t[a].results.length},0):0;return c.default.createElement("div",{className:"maha-search-panel"},c.default.createElement("div",{className:"maha-search-header"},c.default.createElement(i.Searchbox,this._getSearchbox())),!t&&c.default.createElement(i.Message,this._getLanding()),t&&0===l&&c.default.createElement(i.Message,this._getEmpty()),t&&l>0&&c.default.createElement(i.Scrollpane,null,a.map(function(a,l){return c.default.createElement("div",{key:"model_"+l,className:"maha-search-section"},c.default.createElement("div",{className:"maha-search-section-header reframe-scrollpane-header"},c.default.createElement("div",{className:"maha-search-section-header-icon "+t[a].color},c.default.createElement("i",{className:"fa fa-fw fa-"+t[a].icon})),a),t[a].results.map(function(t,r){return c.default.createElement(d.default,(0,n.default)({},t,{key:"result_"+l+"_"+r,onClick:e._handleChoose.bind(e,a,r)}))}))})))}},{key:"componentDidMount",value:function(){var e=this.props.onFetchResults;this._handleFetchResults=f.default.throttle(e,500)}},{key:"_getSearchbox",value:function(){return{prompt:"Find anything...",onChange:this._handleType}}},{key:"_getEmpty",value:function(){return{icon:"remove",title:"No results matched your query"}}},{key:"_getLanding",value:function(){return{icon:"search",title:"Search for anything"}}},{key:"_getRecent",value:function(){var e=this;return{cacheKey:this.props.cacheKey,endpoint:"/api/admin/searches",empty:c.default.createElement(i.Message,this._getLanding()),layout:function(t){var a=t.records;return c.default.createElement("div",{className:"maha-search-section"},c.default.createElement("div",{className:"maha-search-section-header reframe-scrollpane-header"},"Recent Searches",c.default.createElement("div",{className:"maha-search-section-header-link",onClick:e._handleClearRecent},"clear")),a.map(function(t,a){return c.default.createElement(d.default,(0,n.default)({},t,{key:"result_"+a,onClick:e._handleChooseRecent.bind(e,t)}))}))}}}},{key:"_handleType",value:function(e){this.props.onType(e),this._handleFetchResults(e)}},{key:"_handleChoose",value:function(e,t){var a=this.context.router,n=this.props,l=n.results,r=n.onChoose,o=l[e].results[t];this._handleSave(o),r(e,t),a.push(o.route)}},{key:"_handleChooseRecent",value:function(e){var t=this.context.router;this._handleSave(e),t.push(e.route)}},{key:"_handleClearRecent",value:function(){this.props.onClearRecent()}},{key:"_handleSave",value:function(e){(0,this.props.onSave)({text:e.text,route:e.route,extra:e.extra})}}]),t}(c.default.Component);p.contextTypes={router:u.default.object},p.propTypes={cacheKey:u.default.string,chosen:u.default.object,choice:u.default.object,query:u.default.string,results:u.default.object,onChoose:u.default.func,onClearRecent:u.default.func,onFetchResults:u.default.func,onType:u.default.func,onSave:u.default.func},(function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(i.Infinite,this.props)}},{key:"shouldComponentUpdate",value:function(e){return this.props.cacheKey!==e.cacheKey}}]),t}(c.default.Component)).propTypes={cacheKey:u.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),l=o(a(36)),r=o(a(25));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return n.default.createElement("div",{className:"maha-search-result",onClick:e.onClick},e.extra&&e.extra.user&&n.default.createElement("div",{className:"maha-search-result-image"},n.default.createElement(r.default,{user:e.extra.user})),e.extra&&e.extra.photo&&n.default.createElement("div",{className:"maha-search-result-image"},n.default.createElement(l.default,{src:e.extra.photo})),e.extra&&e.extra.icon&&n.default.createElement("div",{className:"maha-search-result-icon"},n.default.createElement("i",{className:"fa fa-fw fa-"+e.extra.icon})),!e.extra&&n.default.createElement("div",{className:"maha-search-result-icon"},n.default.createElement("i",{className:"search icon"})),n.default.createElement("div",{className:"maha-search-result-details"},e.text),n.default.createElement("div",{className:"maha-search-result-proceed"},n.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.choose=function(e,t){return{type:"CHOOSE",model:e,index:t}},t.type=function(e){return{type:"TYPE",q:e}},t.fetchResults=function(e){return{type:"API_REQUEST",method:"GET",query:{q:e},endpoint:"/api/admin/search",request:"FETCH_RESULTS_REQUEST",success:"FETCH_RESULTS_SUCCESS",failure:"FETCH_RESULTS_FAILURE"}},t.save=function(e){return{type:"API_REQUEST",method:"POST",body:e,endpoint:"/api/admin/searches",request:"SAVE_REQUEST",success:"SAVE_SUCCESS",failure:"SAVE_FAILURE"}},t.clearRecent=function(e){return{type:"API_REQUEST",method:"PATCH",endpoint:"/api/admin/searches/clear",request:"CLEAR_RECENT_REQUEST",success:"CLEAR_RECENT_SUCCESS",failure:"CLEAR_RECENT_FAILURE",onSuccess:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.choice=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(9)),l=a(12);t.choice=(0,l.createSelector)(function(e){return e.results},function(e){return e.chosen},function(e,t){return null===t||n.default.isEmpty(e)?null:e[t.model][t.index]})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=void 0;var n=r(a(14)),l=r(a(7));function r(e){return e&&e.__esModule?e:{default:e}}var o=t.INITIAL_STATE={stars:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"UPDATE":return(0,l.default)({},e,{stars:(0,l.default)({},e.stars,(0,n.default)({},t.table,(0,l.default)({},e.stars[t.table],(0,n.default)({},t.id,t.starred))))});case"STAR":return(0,l.default)({},e,{stars:(0,l.default)({},e.stars,(0,n.default)({},t.table,(0,l.default)({},e.stars[t.table]||{},(0,n.default)({},t.id,!0))))});case"UNSTAR":return(0,l.default)({},e,{stars:(0,l.default)({},e.stars,(0,n.default)({},t.table,(0,l.default)({},e.stars[t.table]||{},(0,n.default)({},t.id,!1))))});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2)),l=i(a(3)),r=i(a(4)),o=i(a(5)),s=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleUpdate=l._handleUpdate.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this._handleJoin()}},{key:"componentWillUnmount",value:function(){this._handleLeave()}},{key:"_handleJoin",value:function(){var e=this.context.network;e.join("/admin/stars"),e.subscribe([{target:"/admin/stars",action:"update_stars",handler:this._handleUpdate}])}},{key:"_handleLeave",value:function(){var e=this.context.network;e.leave("/admin/stars"),e.unsubscribe([{target:"/admin/stars",action:"update_stars",handler:this._handleUpdate}])}},{key:"_handleUpdate",value:function(e){var t=e.table,a=e.id,n=e.starred;this.props.onUpdate(t,a,n)}}]),t}(i(a(0)).default.Component);u.contextTypes={network:s.default.object},u.propTypes={stars:s.default.object,onUpdate:s.default.func},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.update=function(e,t,a){return{type:"UPDATE",table:e,id:t,starred:a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(1362)),l=u(a(1364)),r=u(a(1366)),o=u(a(1367)),s=a(6),i=u(a(1369));function u(e){return e&&e.__esModule?e:{default:e}}var d=new s.Routes([{path:"/",component:n.default},{path:"/starred",component:o.default},{path:"/channels/:id",component:l.default},{path:"/channels/:id/info",component:i.default},{path:"/channels/:channel_id/messages/:id",component:r.default}]);t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(1363)),l=s(a(122)),r=s(a(121)),o=a(6);function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.Page)(null,function(e,t,a,o){return{title:"Chat",component:document.body.clientWidth<=768?n.default:l.default,task:document.body.clientWidth<=768?{icon:"plus",modal:r.default}:null}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=a(196),i=m(a(119)),u=a(20),d=m(a(1)),c=m(a(121)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleChoose=l._handleChoose.bind(l),l._handleNew=l._handleNew.bind(l),l._handleStarred=l._handleStarred.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return f.default.createElement(i.default,this._getChannels())}},{key:"_getChannels",value:function(){var e=this.props;return{channels:e.channels,selected:null,showNew:!1,status:e.status,onChoose:this._handleChoose,onNew:this._handleNew,onStarred:this._handleStarred}}},{key:"_handleChoose",value:function(e){this.context.router.push("/admin/chat/channels/"+e)}},{key:"_handleNew",value:function(){this.context.modal.push(f.default.createElement(c.default,null))}},{key:"_handleStarred",value:function(){this.context.router.push("/admin/chat/starred")}}]),t}(f.default.Component);p.contextTypes={modal:d.default.object,router:d.default.object},p.propTypes={channel:d.default.object};t.default=(0,u.connect)(function(e,t){return{channels:(0,s.channels)(e,t),status:e.chat.root.channels_status}})(p)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1365)),l=o(a(122)),r=a(6);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(null,function(e,t,a,r){return{title:document.body.clientWidth<=768?"Channel":"Chat",component:document.body.clientWidth<=768?n.default:l.default,task:document.body.clientWidth<=768?{icon:"info-circle",route:"/admin/chat/channels/"+e.params.id+"/info"}:null}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=a(20),i=a(196),u=f(a(118)),d=f(a(1)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleShowMessage=l._handleShowMessage.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.channel?c.default.createElement(u.default,this._getChannel()):null}},{key:"_getChannel",value:function(){var e=this.props.channel;return{channel:e,id:e.id,onShowMessage:this._handleShowMessage}}},{key:"_handleShowMessage",value:function(e){this.context.router.push("/admin/chat/channels/"+e.channel_id+"/messages/"+e.id)}}]),t}(c.default.Component);m.contextTypes={modal:d.default.object,router:d.default.object},m.propTypes={channel:d.default.object};t.default=(0,s.connect)(function(e,t){return{channel:(0,i.channel)(e,t)}})(m)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(499)),i=c(a(1)),u=a(6),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleBack=l._handleBack.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.default,this._getDetails())}},{key:"_getDetails",value:function(){return{message:this.props.message,onDone:this._handleBack}}},{key:"_handleBack",value:function(){this.context.router.goBack()}}]),t}(d.default.Component);f.contextTypes={modal:i.default.object,router:i.default.object},f.propTypes={message:i.default.object};t.default=(0,u.Page)(function(e,t){return{message:"/api/admin/chat/channels/"+e.params.channel_id+"/messages/"+e.params.id}},function(e,t,a,n){return{title:"Message",component:f,rights:[]}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1368)),l=o(a(122)),r=a(6);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(null,function(e,t,a,r){return{title:document.body.clientWidth<=768?"Starred":"Chat",component:document.body.clientWidth<=768?n.default:l.default,rights:[]}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(191)),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleShowMessage=l._handleShowMessage.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.default,this._getStarred())}},{key:"_getStarred",value:function(){return{onShowMessage:this._handleShowMessage}}},{key:"_handleShowMessage",value:function(e){this.context.router.push("/admin/chat/channels/"+e.channel_id+"/messages/"+e.id)}}]),t}(u.default.Component);c.contextTypes={router:i.default.object},c.propTypes={},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1370)),l=o(a(122)),r=a(6);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(function(e,t){return{channel:"/api/admin/chat/channels/"+e.params.id}},function(e,t,a,r){return{title:document.body.clientWidth<=768?"Info":"Chat",component:document.body.clientWidth<=768?n.default:l.default,rights:[]}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=a(196),i=p(a(192)),u=a(20),d=p(a(1)),c=p(a(0)),f=p(a(190)),m=p(a(120));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleEdit=l._handleEdit.bind(l),l._handleSubscriptions=l._handleSubscriptions.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return this.props.channel?c.default.createElement(i.default,this._getInfo()):null}},{key:"_getInfo",value:function(){var e=this.props.channel;return{channel:e,id:e.id,showHeader:!0,onEdit:this._handleEdit,onSubscriptions:this._handleSubscriptions}}},{key:"_getEdit",value:function(){var e=this.context.modal;return{id:this.props.channel.id,onCancel:function(){return e.pop()},onSuccess:function(){return e.pop()}}}},{key:"_getSubscriptions",value:function(){var e=this.context.modal,t=this.context.admin.user,a=this.props.channel;return{channel:a,endpoint:"/api/admin/chat/channels/"+a.id+"/subscriptions",subscription_ids:a.subscriptions.filter(function(e){return e.id!==t.id}).map(function(e){return e.id}),onCancel:function(){return e.pop()},onDone:function(){return e.pop()}}}},{key:"_handleEdit",value:function(){this.context.modal.push(c.default.createElement(f.default,this._getEdit()))}},{key:"_handleSubscriptions",value:function(){this.context.modal.push(c.default.createElement(m.default,this._getSubscriptions()))}}]),t}(c.default.Component);h.contextTypes={admin:d.default.object,confirm:d.default.object,modal:d.default.object,network:d.default.object,router:d.default.object},h.propTypes={channel:d.default.object};t.default=(0,u.connect)(function(e,t){return{channel:(0,s.channel)(e,t)}})(h)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=_(a(1372)),r=_(a(1375)),o=_(a(1377)),s=_(a(1380)),i=_(a(1382)),u=_(a(1385)),d=_(a(1386)),c=_(a(1388)),f=_(a(1392)),m=_(a(1394)),p=_(a(1397)),h=_(a(1399));function _(e){return e&&e.__esModule?e:{default:e}}var v=new n.Routes([{path:"/categories",component:l.default},{path:"/competencies",component:r.default},{path:"/competencies/:id",component:o.default},{path:"/classifications",component:s.default},{path:"/classifications/:id",component:i.default},{path:"/plans",component:f.default},{path:"/plans/:id",component:m.default},{path:"/resources",component:p.default},{path:"/resources/:id",component:h.default},{path:"/employees",component:u.default},{path:"/employees/:employee_id/plans/:id",component:c.default},{path:"/employees/:id",component:d.default}]);t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1373)),r=o(a(1374));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Categories",collection:{endpoint:"/api/admin/competencies/categories",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"}],defaultSort:{key:"title",order:"asc"},entity:"category",icon:"tag",recordTasks:[{label:"Edit Category",modal:r.default}],new:l.default},task:{icon:"plus",modal:l.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Category",method:"post",action:"/api/admin/competencies/categories",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={admin:i.default.object,modal:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Category",method:"patch",endpoint:"/api/admin/competencies/categories/"+e+"/edit",action:"/api/admin/competencies/categories/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={admin:i.default.object,modal:i.default.object},c.propTypes={id:i.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=function(e){return e&&e.__esModule?e:{default:e}}(a(1376));t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Competencies",collection:{endpoint:"/api/admin/competencies/competencies",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0},{label:"Level",key:"level",visible:!0,collapsing:!0},{label:"Category",key:"category",sort:"competencies_categories.title",visible:!1}],filters:[{label:"Category",name:"category_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/categories",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Classification",name:"classification_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/classifications",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Level",name:"level",type:"select",options:[{value:1,text:"Level 1"},{value:2,text:"Level 2"},{value:3,text:"Level 3"}]}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"},{label:"Level",key:"level"},{label:"Category",key:"category"}],defaultSort:{key:"title",order:"asc"},entity:"competency",icon:"trophy",link:function(e){return"/admin/competencies/competencies/"+e.id},new:l.default},task:{icon:"plus",modal:l.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Competency",method:"post",action:"/api/admin/competencies/competencies",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textarea",required:!0},{label:"Category",name:"category_id",type:"lookup",required:!0,endpoint:"/api/admin/competencies/categories",value:"id",text:"title"},{label:"Level",name:"level",type:"lookup",required:!0,options:[{value:1,text:"Level 1"},{value:2,text:"Level 2"},{value:3,text:"Level 3"}]}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/competencies/competencies/"+e.id),this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(123)),l=u(a(1378)),r=a(6),o=u(a(1)),s=u(a(1379)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.competency,a={items:[{label:"Title",content:t.title},{label:"Description",content:t.description},{label:"Category",content:t.category},{label:"Level",content:t.level}]};return i.default.createElement(r.List,a)};d.propTypes={competency:o.default.object};var c=function(e){var t=e.competency,a=e.resources,o={items:a.map(function(e){return{content:e,component:n.default}}),empty:{icon:"cube",title:"No Resources",text:"There are no resources for this competency",button:{label:"Manage Resources",modal:i.default.createElement(l.default,{competency:t,resources:a})}}};return i.default.createElement(r.List,o)};c.propTypes={competency:o.default.object,resources:o.default.array};t.default=(0,r.Page)(function(e,t){return{competency:"/api/admin/competencies/competencies/"+e.params.id,resources:"/api/admin/competencies/competencies/"+e.params.id+"/resources"}},function(e,t,a,n){return{title:"Competency",tabs:{items:[{label:"Details",component:i.default.createElement(d,{competency:a.competency})},{label:"Resources",component:i.default.createElement(c,{competency:a.competency,resources:a.resources})}]},tasks:{items:[{label:"Edit Competency",modal:i.default.createElement(s.default,{id:a.competency.id})},{label:"Manage Resources",modal:i.default.createElement(l.default,{competency:a.competency,resources:a.resources})}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(123)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(i.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.competency,a=e.resources;return{action:"/api/admin/competencies/competencies/"+t.id+"/resources",assignedFormat:s.default,defaultValue:a,endpoint:"/api/admin/competencies/competencies/"+t.id+"/resources/all",label:"Resource",text:"title",title:"Manage Resources",unassignedFormat:s.default,value:"id"}}}]),t}(d.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={competency:u.default.object,resources:u.default.array},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Competency",method:"patch",endpoint:"/api/admin/competencies/competencies/"+e+"/edit",action:"/api/admin/competencies/competencies/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textarea",required:!0},{label:"Category",name:"category_id",type:"lookup",required:!0,endpoint:"/api/admin/competencies/categories",value:"id",text:"title"},{label:"Level",name:"level",type:"lookup",required:!0,options:[{value:1,text:"Level 1"},{value:2,text:"Level 2"},{value:3,text:"Level 3"}]}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={admin:i.default.object,modal:i.default.object},c.propTypes={id:i.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=function(e){return e&&e.__esModule?e:{default:e}}(a(1381));t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Classifications",collection:{endpoint:"/api/admin/competencies/classifications",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"}],defaultSort:{key:"title",order:"asc"},entity:"classification",icon:"briefcase",link:function(e){return"/admin/competencies/classifications/"+e.id},new:l.default},task:{icon:"plus",modal:l.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Classification",method:"post",action:"/api/admin/competencies/classifications",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/competencies/classifications/"+e.id),this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(73)),l=u(a(1383)),r=a(6),o=u(a(1)),s=u(a(1384)),i=u(a(0));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.classification,a=e.expectations,o={items:a.map(function(e){return{content:e,component:n.default}}),empty:{icon:"handshake-o",title:"No expectations",text:"There are no expectations for this classification",button:{label:"Manage Expectations",modal:i.default.createElement(l.default,{classification:t,expectations:a})}}};return i.default.createElement(r.List,o)};d.propTypes={classification:o.default.object,expectations:o.default.array};t.default=(0,r.Page)(function(e,t){return{classification:"/api/admin/competencies/classifications/"+e.params.id,expectations:"/api/admin/competencies/classifications/"+e.params.id+"/expectations"}},function(e,t,a,n){return{title:a.classification.title,tabs:{items:[{label:"Expectations",component:i.default.createElement(d,{classification:a.classification,expectations:a.expectations})}]},tasks:{items:[{label:"Edit Classification",modal:i.default.createElement(s.default,{classification:a.classification})},{label:"Manage Expectations",modal:i.default.createElement(l.default,{classification:a.classification,expectations:a.expectations})}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(6),d=c(a(73));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.classification,a=e.expectations;return{action:"/api/admin/competencies/classifications/"+t.id+"/expectations",defaultValue:a,endpoint:"/api/admin/competencies/classifications/"+t.id+"/expectations/all",filters:[{label:"Category",name:"category_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/categories",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Level",name:"level",type:"select",options:[{value:1,text:"Level 1"},{value:2,text:"Level 2"},{value:3,text:"Level 3"}]}],empty:{icon:"trophy",title:"Add Competencies",text:"Please assign competencies to this classification"},assignedFormat:d.default,label:"Competency",text:"title",title:"Manage Expectations",value:"id"}}}]),t}(s.default.Component);f.contextTypes={modal:i.default.object},f.propTypes={classification:i.default.object,expectations:i.default.array},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.classification;return{title:"Edit Classification",method:"patch",endpoint:"/api/admin/competencies/classifications/"+e.id+"/edit",action:"/api/admin/competencies/classifications/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={admin:i.default.object,modal:i.default.object},c.propTypes={classification:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=(0,n.Page)(null,function(e,t){return{title:"Employees",collection:{endpoint:"/api/admin/competencies/employees",table:[{label:"Name",key:"full_name",primary:!0,format:n.CompactUserToken}],defaultSort:{key:"last_name",order:"asc"},entity:"employee",icon:"user-circle",empty:"You have not yet been assigned any employees",link:function(e){return"/admin/competencies/employees/"+e.id}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(519)),l=a(6),r=i(a(1387)),o=i(a(1)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.employee,a={items:e.plans.map(function(e){return{content:e,component:n.default,link:"/admin/competencies/employees/"+t.id+"/plans/"+e.id}}),empty:{icon:"list",title:"No plans",text:"There are no plans for this employee",button:{label:"Create Plan",modal:s.default.createElement(r.default,{employee:t})}}};return s.default.createElement(l.List,a)};u.propTypes={employee:o.default.object,plans:o.default.object};t.default=(0,l.Page)(function(e,t){return{employee:"/api/admin/competencies/employees/"+e.params.id,plans:"/api/admin/competencies/employees/"+e.params.id+"/plans"}},function(e,t,a){return{title:a.employee.full_name,tabs:{header:s.default.createElement(l.Avatar,{user:a.employee,width:"120"}),items:[{label:"Plans",component:s.default.createElement(u,a)}]},tasks:{items:[{label:"Create Plan",modal:s.default.createElement(r.default,{employee:a.employee})}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Create Plan",method:"post",action:"/api/admin/competencies/employees/"+this.props.employee.id+"/plans",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Due",name:"due",type:"datefield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/competencies/employees/"+e.employee_id+"/plans/"+e.id),this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},c.propTypes={employee:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(7)),l=m(a(520)),r=m(a(521)),o=a(6),s=m(a(1389)),i=m(a(1)),u=m(a(1390)),d=m(a(8)),c=m(a(1391)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.plan,a={items:[{label:"Supervisor",content:t.supervisor.full_name},{label:"Due",content:(0,d.default)(t.due).format("MMMM DD, YYYY")},{label:"Created",content:(0,d.default)(t.created_at).format("MMMM DD, YYYY")}]};return"pending"===t.status&&(a.alert={color:"grey",message:"This plan is pending"}),"active"===t.status&&(a.alert={color:"green",message:"This plan is active"}),"complete"===t.status&&(a.alert={color:"red",message:"This plan is complete"}),a.footer=f.default.createElement(o.Comments,{entity:"competencies_plans/"+t.id}),f.default.createElement(o.List,(0,n.default)({plan:t},a))};p.propTypes={plan:i.default.object};var h=function(e){var t=e.plan,a=e.goals,n={items:a.map(function(e){return{content:e,component:f.default.createElement(r.default,{plan:t,goal:e}),tasks:e.is_complete||"active"!==t.status?null:[{label:"Complete Goal",request:{endpoint:"/api/admin/competencies/employees/"+t.employee_id+"/plans/"+t.id+"/goals/"+e.id+"/complete",method:"patch"}}]}}),empty:{icon:"star",title:"No goals",text:"There are no goals for this plan",button:{label:"Manage Goals",modal:f.default.createElement(u.default,{plan:t,goals:a})}}};return f.default.createElement(o.List,n)};h.propTypes={goals:i.default.array,plan:i.default.object};var _=function(e){var t=e.plan,a=e.commitments,n={items:a.map(function(e){return{content:e,component:f.default.createElement(l.default,{plan:t,commitment:e}),tasks:e.is_complete||"active"!==t.status?null:[{label:"Complete Commitment",request:{endpoint:"/api/admin/competencies/employees/"+t.employee_id+"/plans/"+t.id+"/commitments/"+e.id+"/complete",method:"patch"}}]}}),empty:{icon:"handshake-o",title:"No commitments",text:"There are no commitments for this plan",button:{label:"Manage Commitments",modal:f.default.createElement(s.default,{plan:t,commitments:a})}}};return f.default.createElement(o.List,n)};_.propTypes={commitments:i.default.array,plan:i.default.object};t.default=(0,o.Page)(function(e,t){return{plan:"/api/admin/competencies/employees/"+e.params.employee_id+"/plans/"+e.params.id,goals:"/api/admin/competencies/employees/"+e.params.employee_id+"/plans/"+e.params.id+"/goals",commitments:"/api/admin/competencies/employees/"+e.params.employee_id+"/plans/"+e.params.id+"/commitments"}},function(e,t,a,n){return{title:"Plan",tabs:{items:[{label:"Details",component:f.default.createElement(p,{plan:a.plan})},{label:"Goals",component:f.default.createElement(h,{plan:a.plan,goals:a.goals})},{label:"Commitments",component:f.default.createElement(_,{plan:a.plan,commitments:a.commitments})}]},tasks:"complete"!==a.plan.status?[{label:"Edit Plan",modal:f.default.createElement(c.default,{plan:a.plan})},{label:"Manage Goals",modal:f.default.createElement(u.default,{plan:a.plan,goals:a.goals})},{label:"Manage Commitments",modal:f.default.createElement(s.default,{plan:a.plan,commitments:a.commitments})}]:null,buttons:function(e){return"pending"===e.status?[{color:"green",text:"Approve Plan",request:{endpoint:"/api/admin/competencies/employees/"+e.employee_id+"/plans/"+e.id+"/approve",method:"patch"}}]:"active"===e.status?[{color:"green",text:"Complete Plan",request:{endpoint:"/api/admin/competencies/employees/"+e.employee_id+"/plans/"+e.id+"/complete",method:"patch"}}]:null}(a.plan)}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(6),d=c(a(123));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.plan,a=e.commitments;return{action:"/api/admin/competencies/employees/"+t.employee_id+"/plans/"+t.id+"/commitments",defaultValue:a.map(function(e){return e.resource.id}),endpoint:"/api/admin/competencies/employees/"+t.employee_id+"/plans/"+t.id+"/commitments/all",filters:[{label:"Competency",name:"competencies_competencies.id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/competencies",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Goals",name:"competencies_competencies.id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/employees/"+t.employee_id+"/plans/"+t.id+"/goals",value:"id",text:"competency.title"}],format:d.default,text:"title",title:"Manage Commitments",value:"id"}}}]),t}(s.default.Component);f.contextTypes={modal:i.default.object},f.propTypes={commitments:i.default.array,plan:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(6),d=c(a(73));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.plan,a=e.goals;return{action:"/api/admin/competencies/employees/"+t.employee_id+"/plans/"+t.id+"/goals",defaultValue:a.map(function(e){return e.competency.id}),endpoint:"/api/admin/competencies/employees/"+t.employee_id+"/plans/"+t.id+"/goals/all",filters:[{label:"Category",name:"category_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/categories",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Classification",name:"competencies_expectations.classification_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/classifications",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Level",name:"level",type:"select",options:[{value:1,text:"Level 1"},{value:2,text:"Level 2"},{value:3,text:"Level 3"}]}],format:d.default,text:"title",title:"Manage Goals",value:"id"}}}]),t}(s.default.Component);f.contextTypes={modal:i.default.object},f.propTypes={plan:i.default.object,goals:i.default.array},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.plan;return{title:"Edit Plan",method:"patch",endpoint:"/api/admin/competencies/employees/"+e.employee_id+"/plans/"+e.id,action:"/api/admin/competencies/employees/"+e.employee_id+"/plans/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Due",name:"due",type:"datefield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={plan:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(519)),l=a(6),r=o(a(1393));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(null,function(e,t){return{title:"Plans",collection:{endpoint:"/api/admin/competencies/plans",table:[{label:"Plan",key:"created_at",primary:!0,format:n.default}],defaultSort:{key:"created_at",order:"desc"},entity:"plan",icon:"list",empty:"You do not yet have any plans",link:function(e){return"/admin/competencies/plans/"+e.id}},task:{icon:"plus",modal:r.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Create Plan",method:"post",action:"/api/admin/competencies/plans",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Supervisor",name:"supervisor_id",type:"lookup",required:!0,endpoint:"/api/admin/team/supervisors",value:"id",text:"full_name",format:s.CompactUserToken},{label:"Due",name:"due",type:"datefield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/competencies/plans/"+e.id),this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(520)),r=f(a(521)),o=a(6),s=f(a(1395)),i=f(a(1)),u=f(a(1396)),d=f(a(8)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.plan,a={items:[{label:"Supervisor",content:t.supervisor.full_name},{label:"Due",content:(0,d.default)(t.due).format("MMMM DD, YYYY")},{label:"Created",content:(0,d.default)(t.created_at).format("MMMM DD, YYYY")}]};return"pending"===t.status&&(a.alert={color:"grey",message:"This plan is pending"}),"active"===t.status&&(a.alert={color:"green",message:"This plan is active"}),"complete"===t.status&&(a.alert={color:"red",message:"This plan is complete"}),a.footer=c.default.createElement(o.Comments,{entity:"competencies_plans/"+t.id}),c.default.createElement(o.List,(0,n.default)({plan:t},a))};m.propTypes={plan:i.default.object};var p=function(e){var t=e.plan,a=e.goals,n={items:a.map(function(e){return{content:e,component:c.default.createElement(r.default,{plan:t,goal:e})}}),empty:{icon:"star",title:"No goals",text:"There are no goals for this plan",button:{label:"Manage Goals",modal:c.default.createElement(u.default,{plan:t,goals:a})}}};return c.default.createElement(o.List,n)};p.propTypes={plan:i.default.object,goals:i.default.array};var h=function(e){var t=e.plan,a=e.commitments,n={items:a.map(function(e){return{content:e,component:function(e){return c.default.createElement(l.default,{plan:t,commitment:e})},tasks:e.is_complete||"active"!==t.status?null:[{label:"Complete Commitment",request:{endpoint:"/api/admin/competencies/plans/"+t.id+"/commitments/"+e.id+"/complete",method:"patch"}}]}}),empty:{icon:"handshake-o",title:"No commitments",text:"There are no commitments for this plan",button:{label:"Manage Commitments",modal:c.default.createElement(s.default,{plan:t,commitments:a})}}};return c.default.createElement(o.List,n)};h.propTypes={plan:i.default.object,commitments:i.default.array};t.default=(0,o.Page)(function(e,t){return{plan:"/api/admin/competencies/plans/"+e.params.id,goals:"/api/admin/competencies/plans/"+e.params.id+"/goals",commitments:"/api/admin/competencies/plans/"+e.params.id+"/commitments"}},function(e,t,a,n){return{title:"Plan",tabs:{items:[{label:"Details",component:c.default.createElement(m,{plan:a.plan})},{label:"Goals",component:c.default.createElement(p,{plan:a.plan,goals:a.goals})},{label:"Commitments",component:c.default.createElement(h,{plan:a.plan,commitments:a.commitments})}]},tasks:"pending"===a.plan.status?{items:[{label:"Manage Goals",modal:c.default.createElement(u.default,{plan:a.plan,goals:a.goals})},{label:"Manage Commitments",modal:c.default.createElement(s.default,{plan:a.plan,commitments:a.commitments})}]}:null}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(123)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(i.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.plan,a=e.commitments;return{action:"/api/admin/competencies/plans/"+t.id+"/commitments",assignedEndpoint:"/api/admin/competencies/plans/"+t.id+"/commitments",assignedFormat:s.default,defaultValue:a.map(function(e){return e.resource}),empty:{icon:"handshake-o",title:"No commitments",text:"You have not yet made any commitments"},label:"resource",unassignedEndpoint:"/api/admin/competencies/plans/"+t.id+"/commitments/all",text:"title",title:"Manage Commitments",value:"id"}}}]),t}(d.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={commitments:u.default.array,plan:u.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(6),d=c(a(73));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.plan,a=e.goals;return{action:"/api/admin/competencies/plans/"+t.id+"/goals",assignedEndpoint:"/api/admin/competencies/plans/"+t.id+"/goals",assignedFormat:d.default,defaultValue:a.map(function(e){return e.competency}),empty:{icon:"star",title:"No goals",text:"You have not yet set any goals"},label:"competency",unassignedEndpoint:"/api/admin/competencies/plans/"+t.id+"/goals/all",unassignedFormat:d.default,text:"title",title:"Manage Goals",value:"id"}}}]),t}(s.default.Component);f.contextTypes={modal:i.default.object},f.propTypes={plan:i.default.object,goals:i.default.array},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=function(e){return e&&e.__esModule?e:{default:e}}(a(1398));t.default=(0,n.Page)(null,function(e,t){return{title:"Resources",collection:{endpoint:"/api/admin/competencies/resources",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0},{label:"Description",key:"description",visible:!1},{label:"URL",key:"url",visible:!1}],filters:[{label:"Competency",name:"competencies_competencies.id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/competencies",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Classification",name:"competencies_expectations.classification_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/classifications",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Level",name:"competencies_competencies.level",type:"select",options:[{value:1,text:"Level 1"},{value:2,text:"Level 2"},{value:3,text:"Level 3"}]}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"},{label:"Description",key:"description"},{label:"URL",key:"url"}],defaultSort:{key:"title",order:"asc"},entity:"resource",icon:"cube",link:function(e){return"/admin/competencies/resources/"+e.id},new:l.default},task:{icon:"plus",modal:l.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Resource",method:"post",action:"/api/admin/competencies/resources",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textfield",required:!0},{label:"URL",name:"url",type:"textfield"},{label:"Attachment",name:"asset_id",type:u.AttachmentField}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/competencies/resources/"+e.id),this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(73)),l=u(a(1400)),r=a(6),o=u(a(1)),s=u(a(0)),i=u(a(1401));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.resource,a=[{label:"Title ",content:t.title},{label:"Description ",content:t.description}];return t.asset&&a.push({label:"Asset ",content:t.asset,format:function(e){return s.default.createElement(r.AssetToken,e)}}),s.default.createElement(r.List,{items:a})};d.propTypes={resource:o.default.object};var c=function(e){var t=e.resource,a=e.competencies,o={items:a.map(function(e){return{content:e,component:n.default}}),empty:{icon:"trophy",title:"No Competencies",text:"This resource is not assigned to any competencies",button:{label:"Manage Competencies",modal:s.default.createElement(l.default,{resource:t,competencies:a})}}};return s.default.createElement(r.List,o)};c.propTypes={resource:o.default.object,competencies:o.default.array};t.default=(0,r.Page)(function(e,t){return{resource:"/api/admin/competencies/resources/"+e.params.id,competencies:"/api/admin/competencies/resources/"+e.params.id+"/competencies"}},function(e,t,a,n){return{title:"Resource",tabs:{items:[{label:"Details ",component:s.default.createElement(d,{resource:a.resource})},{label:"Competencies ",component:s.default.createElement(c,{resource:a.resource,competencies:a.competencies})}]},tasks:{items:[{label:"Edit Resource",modal:s.default.createElement(i.default,{id:a.resource.id})},{label:"Manage Competencies",modal:s.default.createElement(l.default,{resource:a.resource,competencies:a.competencies})}]},buttons:a.resource.url?[{color:"red",text:"View Resource Online",link:a.resource.url}]:null}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(6),d=c(a(73));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.resource,a=e.competencies;return{action:"/api/admin/competencies/resources/"+t.id+"/competencies",defaultValue:a,endpoint:"/api/admin/competencies/resources/"+t.id+"/competencies/all",filters:[{label:"Category",name:"category_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/categories",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Classification",name:"classification_id",type:"select",multiple:!0,endpoint:"/api/admin/competencies/classifications",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Level",name:"level",type:"select",options:[{value:1,text:"Level 1"},{value:2,text:"Level 2"},{value:3,text:"Level 3"}]}],empty:{icon:"trophy",title:"Add Competencies",text:"Please assign competencies to this resource"},assignedFormat:d.default,label:"Competency",text:"title",title:"Manage Competencies",unassignedFormat:d.default,value:"id"}}}]),t}(s.default.Component);f.contextTypes={modal:i.default.object},f.propTypes={resource:i.default.object,competencies:i.default.array},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Resource",method:"patch",endpoint:"/api/admin/competencies/resources/"+e+"/edit",action:"/api/admin/competencies/resources/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textfield",required:!0},{label:"URL",name:"url",type:"textfield"},{label:"Attachment",name:"asset_id",type:u.AttachmentField}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={admin:i.default.object,modal:i.default.object},c.propTypes={id:i.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=f(a(1403)),r=f(a(1405)),o=f(a(1407)),s=f(a(1409)),i=f(a(1411)),u=f(a(1412)),d=f(a(1413)),c=f(a(1415));function f(e){return e&&e.__esModule?e:{default:e}}var m=new n.Routes([{path:"/:type/fields",component:d.default},{path:"/:type/fields/:id",component:c.default},{path:"/contacts",component:l.default},{path:"/contacts/:id",component:r.default},{path:"/organizations",component:o.default},{path:"/organizations/:id",component:s.default},{path:"/deals",component:i.default},{path:"/deals/:id",component:u.default}]);t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(0)),r=o(a(1404));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(function(e,t){return{fields:"/api/admin/crm/contacts/fields"}},function(e,t,a,o){return{title:"Contacts",rights:[],collection:{table:[{label:"Name",key:"full_name",primary:!0,format:n.CompactUserToken},{label:"Email",key:"email"}],endpoint:"/api/admin/crm/contacts",empty:"You have not yet created any contacts",entity:"contact",icon:"user-circle",new:function(){return l.default.createElement(r.default,{fields:a.fields})},export:[{label:"ID",key:"id"},{label:"Name",key:"full_name"},{label:"Email",key:"email"}],defaultSort:{key:"last_name",order:"asc"}},tasks:{icon:"plus",items:[{label:"Add Contact",modal:function(){return l.default.createElement(r.default,{fields:a.fields})}},{label:"Import Contacts",modal:function(){return l.default.createElement(n.Import,function(e){return{table:"crm_contacts",fields:[{label:"First Name",name:"first_name",type:"textfield"},{label:"Last Name",name:"last_name",type:"textfield"},{label:"Email",name:"email",type:"textfield",required:!0},{label:"Phone",name:"phone",type:"textfield"},{label:"Organization",name:"organization_id",type:"integer"},{label:"Photo",name:"photo_id",type:"integer"}],primaryKey:"email",rules:{email:["required","email"]},destination:function(e){return"/admin/crm/contacts?$filter[import_id][$in]="+e},defaultParams:{owner_id:e.user.id,values:{}},defaultMapping:[{field:"first_name",header:"First Name",type:"text",relation:null},{field:"last_name",header:"Last Name",type:"text",relation:null},{field:"email",header:"Email",type:"text",relation:null},{field:"phone",header:"Phone",type:"text",relation:null},{field:"organization_id",header:"Organization",type:"relation",relation:"crm_organizations",relationcolumn:"name"},{field:"photo_id",header:"Photo",type:"upload",relation:null}]}}(t.admin))}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=a(6),d=f(a(124)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token,t=this.props.fields;return{title:"New Contact",method:"post",action:"/api/admin/crm/contacts",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"First Name",name:"first_name",type:"textfield"},{label:"Last Name",name:"last_name",type:"textfield"},{label:"Email",name:"email",type:"textfield",required:!0},{label:"Phone",name:"phone",type:"textfield"},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}].concat((0,n.default)(t.map(d.default)))}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/crm/contacts/"+e.id),this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:i.default.object,modal:i.default.object,platform:i.default.object,router:i.default.object},m.propTypes={fields:i.default.array},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(10)),l=a(6),r=u(a(1)),o=u(a(522)),s=u(a(0)),i=u(a(1406));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.contact,a=e.fields,r=(e.appUserValues,{sections:[{items:[{label:"Email",content:t.email},{label:"Phone",content:t.phone}].concat((0,n.default)(a.map(function(e,a){return{label:e.label,content:t.values[e.code]}})))}]});return s.default.createElement(l.List,r)};d.propTypes={appUserValues:r.default.array,fields:r.default.array,contact:r.default.object};t.default=(0,l.Page)(function(e,t){return{contact:"/api/admin/crm/contacts/"+e.params.id,activities:"/api/admin/crm/contacts/"+e.params.id+"/activities",fields:"/api/admin/crm/contacts/fields"}},function(e,t,a){return{title:a.contact.full_name,rights:[],tabs:{header:s.default.createElement(l.Avatar,{user:a.contact,width:"120"}),items:[{label:"Details",component:s.default.createElement(d,{contact:a.contact,fields:a.fields})},{label:"Activity",component:s.default.createElement(o.default,{activities:a.activities})}]},tasks:{items:[{label:"Edit Contact",modal:function(e){return s.default.createElement(i.default,{contact:a.contact,fields:a.fields})}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=a(6),d=f(a(124)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.contact,a=e.fields,l=this.context.admin.team.token;return{title:"Edit User",method:"patch",endpoint:"/api/admin/crm/contacts/"+t.id+"/edit",action:"/api/admin/crm/contacts/"+t.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"First Name",name:"first_name",type:"textfield"},{label:"Last Name",name:"last_name",type:"textfield"},{label:"Email",name:"email",type:"textfield",required:!0},{label:"Phone",name:"phone",type:"textfield"},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:l,multiple:!1}].concat((0,n.default)(a.map(d.default)))}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:i.default.object,modal:i.default.object},m.propTypes={contact:i.default.object,fields:i.default.array},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(0)),r=o(a(1408));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(function(e,t){return{fields:"/api/admin/crm/organizations/fields"}},function(e,t,a,n){return{title:"Organizations",rights:[],collection:{table:[{label:"Name",key:"name",primary:!0}],endpoint:"/api/admin/crm/organizations",empty:"You have not yet created any organizations",entity:"organization",icon:"building-o",new:function(){return l.default.createElement(r.default,{fields:a.fields})},export:[{label:"ID",key:"id"},{label:"Name",key:"name"}],defaultSort:{key:"name",order:"asc"}},task:{icon:"plus",rights:[],modal:function(){return l.default.createElement(r.default,{fields:a.fields})}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=a(6),d=f(a(124)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token,t=this.props.fields;return{title:"New Contact",method:"post",action:"/api/admin/crm/organizations",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield",required:!0},{label:"Logo",name:"logo_id",type:"filefield",prompt:"Choose Logo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}].concat((0,n.default)(t.map(d.default)))}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/crm/organizations/"+e.id),this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:i.default.object,modal:i.default.object,platform:i.default.object,router:i.default.object},m.propTypes={fields:i.default.array},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(522)),l=a(6),r=i(a(1)),o=i(a(0)),s=i(a(1410));function i(e){return e&&e.__esModule?e:{default:e}}r.default.array,r.default.object;t.default=(0,l.Page)(function(e,t){return{organization:"/api/admin/crm/organizations/"+e.params.id,activities:"/api/admin/crm/organizations/"+e.params.id+"/activities",fields:"/api/admin/crm/organizations/fields"}},function(e,t,a){return{title:a.organization.name,rights:[],tabs:{items:[{label:"Activity",component:o.default.createElement(n.default,{activities:a.activities})}]},tasks:{items:[{label:"Edit Contact",modal:function(e){return o.default.createElement(s.default,{contact:a.contact})}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=a(6),d=f(a(124)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.fields,a=e.organization,l=this.context.admin.team.token;return{title:"Edit User",method:"patch",endpoint:"/api/admin/crm/organizations/"+a.id+"/edit",action:"/api/admin/crm/organizations/"+a.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield",required:!0},{label:"Logo",name:"logo_id",type:"filefield",prompt:"Choose Logo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:l,multiple:!1}].concat((0,n.default)(t.map(d.default)))}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:i.default.object,modal:i.default.object},m.propTypes={fields:i.default.array,organization:i.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Deals",rights:[]}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Deal",rights:[]}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(0)),r=o(a(1414));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Fields",rights:[],collection:{table:[{label:"Label",key:"label",primary:!0}],endpoint:"/api/admin/crm/"+e.params.type+"/fields",empty:"You have not yet created any fields",entity:"field",icon:"check-square-o",link:function(e){return"/admin/crm/fields/"+e.id},new:function(){return l.default.createElement(r.default,{type:e.params.type})}},task:{icon:"plus",rights:[],modal:function(){return l.default.createElement(r.default,{type:e.params.type})}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Field",method:"post",action:"/api/admin/crm/"+this.props.type+"/fields",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Label",name:"label",type:"textfield",required:!0},{label:"Input Type",name:"input_type_id",type:"lookup",endpoint:"/api/admin/crm/input_types",value:"id",text:"text"},{label:"Is Required",name:"is_required",type:"checkbox"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={type:s.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Field",rights:[]}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=s(a(1417)),r=s(a(1418)),o=s(a(1419));function s(e){return e&&e.__esModule?e:{default:e}}var i=new n.Routes([{path:"/",component:l.default},{path:"/items",component:l.default},{path:"/shared",component:l.default},{path:"/starred",component:l.default},{path:"/trash",component:l.default},{path:"/folders/:id",component:l.default},{path:"/files/:id",component:r.default},{path:"/files/:id/info",component:o.default}]);t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(6),i=c(a(505)),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(i.default,this._getExplorer())}},{key:"_getCode",value:function(){var e=this.context.page,t=e.pathname.match(/\/admin\/drive\/([^/]*)$/);return t?"items"===t[1]?"drive":t[1]:e.params.id}},{key:"_getExplorer",value:function(){return{code:this._getCode()}}}]),t}(d.default.Component);f.contextTypes={page:u.default.object};t.default=(0,s.Page)(null,function(e,t,a,n){return{title:"Drive",component:f}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.file;return r.default.createElement(n.AssetPreview,{asset:t.asset,comments:!0})};s.propTypes={file:l.default.object};t.default=(0,n.Page)(function(e,t){return{file:"/api/admin/drive/files/"+e.params.id}},function(e,t,a,n){return{title:"File Viewer",component:s,task:document.body.clientWidth<=768?{icon:"info-circle",route:"/admin/drive/files/"+e.params.id+"/info"}:null}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.file;return r.default.createElement(n.AssetInfo,{asset:t.asset})};s.propTypes={file:l.default.object};t.default=(0,n.Page)(function(e,t){return{file:"/api/admin/drive/files/"+e.params.id}},function(e,t,a,n){return{title:"Asset Info",component:s}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=u(a(1421)),r=u(a(1424)),o=u(a(1427)),s=u(a(1430)),i=u(a(1433));function u(e){return e&&e.__esModule?e:{default:e}}var d=new n.Routes([{path:"/attractions",component:s.default},{path:"/attractions/:id",component:i.default},{path:"/categories",component:l.default},{path:"/counties",component:r.default},{path:"/offerings",component:o.default}]);t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(125)),l=a(6),r=s(a(1422)),o=s(a(1423));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(null,function(e,t,a,l){return{title:"Categories",collection:{endpoint:"/api/admin/eatfresh/categories",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0,format:n.default}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"}],recordTasks:[{label:"Edit Category",modal:o.default}],defaultSort:{key:"title",order:"asc"},entity:"category",icon:"tag"},task:{icon:"plus",modal:r.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"New Category",method:"post",action:"/api/admin/eatfresh/categories",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={admin:s.default.object,modal:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token,t=this.props.id;return{title:"Edit Category",method:"patch",action:"/api/admin/eatfresh/categories/"+t,endpoint:"/api/admin/eatfresh/categories/"+t+"/edit",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={admin:s.default.object,modal:s.default.object},c.propTypes={id:s.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1425)),r=o(a(1426));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Counties",collection:{endpoint:"/api/admin/eatfresh/counties",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Name",key:"name",primary:!0}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"}],recordTasks:[{label:"Edit County",modal:r.default}],defaultSort:{key:"name",order:"asc"},entity:"county",icon:"map-o"},task:{icon:"plus",modal:l.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New County",method:"post",action:"/api/admin/eatfresh/counties",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit County",method:"patch",action:"/api/admin/eatfresh/counties/"+e,endpoint:"/api/admin/eatfresh/counties/"+e+"/edit",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={id:s.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(126)),l=a(6),r=s(a(1428)),o=s(a(1429));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(null,function(e,t,a,l){return{title:"Offerings",collection:{endpoint:"/api/admin/eatfresh/offerings",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0,format:n.default}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"}],recordTasks:[{label:"Edit Offering",modal:o.default}],defaultSort:{key:"title",order:"asc"},entity:"offering",icon:"check-circle"},task:{icon:"plus",modal:r.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"New Offering",method:"post",action:"/api/admin/eatfresh/offerings",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={admin:s.default.object,modal:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token,t=this.props.id;return{title:"Edit Offering",method:"patch",action:"/api/admin/eatfresh/offerings/"+t,endpoint:"/api/admin/eatfresh/offerings/"+t+"/edit",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={admin:s.default.object,modal:s.default.object},c.propTypes={id:s.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(1431)),r=c(a(125)),o=c(a(126)),s=c(a(1)),i=a(6),u=c(a(0)),d=c(a(1432));function c(e){return e&&e.__esModule?e:{default:e}}var f=[{label:"Cage Free / Pasture Raised",name:"is_free_range",color:"pink",abbreviation:"Cf"},{label:"Family Friendly",name:"is_family_friendly",color:"purple",abbreviation:"Ff"},{label:"Family Owned",name:"is_family_owned",color:"orange",abbreviation:"Fo"},{label:"Handicap Accessible",name:"is_accessible",color:"blue",abbreviation:"Ha"},{label:"Military Discount",name:"is_military",color:"olive",abbreviation:"Ml"},{label:"Organic / USDA Organic",name:"is_organic",color:"black",abbreviation:"Og"},{label:"Senior Discount",name:"is_senior",color:"red",abbreviation:"Sr"},{label:"Vegetarian / Vegan",name:"is_vegetarian",color:"green",abbreviation:"Vg"}],m=function(e){var t=e.feature;return u.default.createElement("div",{className:"feature-token"},u.default.createElement("div",{className:"feature-token-badge "+t.color},t.abbreviation),t.label)};m.propTypes={feature:s.default.object},t.default=(0,i.Page)(null,function(e,t,a,s){return{title:"Attractions",collection:{endpoint:"/api/admin/eatfresh/attractions",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0,format:l.default},{label:"County",key:"county",sort:"eatfresh_counties.name",visible:!1},{label:"Approved",key:"is_approved",visible:!0,format:"check_times"}],defaultSort:{key:"title",order:"asc"},entity:"attraction",icon:"cutlery",filters:[{label:"Approved",name:"is_approved",type:"select",multiple:!0,options:[{value:!0,text:"Approved"},{value:!1,text:"Rejected"},{value:"null",text:"Pending"}],defaultValue:[!0,"null"]},{label:"Category",type:"select",name:"category_id",endpoint:"/api/admin/eatfresh/categories",value:"id",text:"title",sort:{key:"title",order:"asc"},format:r.default},{label:"County",type:"select",name:"county_id",endpoint:"/api/admin/eatfresh/counties",value:"id",text:"name",sort:{key:"name",order:"asc"},multiple:!0},{label:"Offering",type:"select",name:"offering_id",endpoint:"/api/admin/eatfresh/offerings",value:"id",text:"title",sort:{key:"title",order:"asc"},format:o.default,multiple:!0}].concat((0,n.default)(f.map(function(e){return{label:e.label,type:"toggle",name:e.name,format:function(){return u.default.createElement(m,{feature:e})}}}))),export:[{label:"ID",key:"id"},{label:"Title",key:"title"},{label:"Description",key:"description"},{label:"Address 1",key:"address_1"},{label:"Address 2",key:"address_2"},{label:"City",key:"city"},{label:"State",key:"state"},{label:"Zip",key:"zip"},{label:"County",key:"county"},{label:"Hours of Operation",key:"hours_of_operation"},{label:"Website",key:"website"},{label:"Facebook",key:"facebook"}],link:function(e){return"/admin/eatfresh/attractions/"+e.id}},task:{icon:"plus",modal:d.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.title,a=e.photo;e.address_1;return r.default.createElement("div",{className:"attraction-token"},r.default.createElement("div",{className:"attraction-token-photo"},r.default.createElement(n.Image,{src:a,title:t,transforms:{fit:"cover",w:32,h:32}})),r.default.createElement("div",{className:"attraction-token-title"},t))};s.propTypes={address_1:l.default.string,photo:l.default.string,title:l.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(126)),i=f(a(125)),u=f(a(1)),d=a(6),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"New Attraction",method:"post",action:"/api/admin/eatfresh/attractions",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Categories",name:"category_ids",type:"lookup2",required:!0,multiple:!0,endpoint:"/api/admin/eatfresh/categories",value:"id",text:"title",format:i.default},{label:"Offerings",name:"offering_ids",type:"lookup2",required:!0,multiple:!0,endpoint:"/api/admin/eatfresh/offerings",value:"id",text:"title",format:s.default},{label:"Photo",name:"photo_id",type:"filefield",required:!0,prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1},{label:"Address 1",name:"address_1",type:"textfield",required:!0},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield",required:!0},{label:"State",name:"state",type:"textfield",required:!0},{label:"Zip",name:"zip",type:"textfield",required:!0},{label:"County",name:"county_id",type:"lookup",required:!0,endpoint:"/api/admin/eatfresh/counties",value:"id",text:"name"},{label:"Phone",name:"phone",type:"textfield",required:!0},{label:"Hours of Operation",name:"hours_of_operation",type:"textfield",required:!0},{label:"Website",name:"website",type:"textfield"},{label:"Facebook",name:"facebook",type:"textfield"},{label:"Cage Free / Pasture Raised",name:"is_free_range",type:"checkbox"},{label:"Family Friendly",name:"is_family_friendly",type:"checkbox"},{label:"Family Owned",name:"is_family_owned",type:"checkbox"},{label:"Handicap Accessible",name:"is_accessible",type:"checkbox"},{label:"Military Discount",name:"is_military",type:"checkbox"},{label:"Organic / USDA Organic",name:"is_organic",type:"checkbox"},{label:"Senior Discount",name:"is_senior",type:"checkbox"},{label:"Vegetarian / Vegan",name:"is_vegetarian",type:"checkbox"},{label:"Photos",name:"photo_ids",type:"filefield",multiple:!0,prompt:"Upload Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/eatfresh/photos",token:e}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/eatfresh/attractions/"+e.id),this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:u.default.object,modal:u.default.object,router:u.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),l=a(6),r=i(a(1434)),o=i(a(1435)),s=i(a(1436));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(function(e,t){return{attraction:"/api/admin/eatfresh/attractions/"+e.params.id}},function(e,t,a,l){return{title:a.attraction.title,tabs:{items:[{label:"Details",component:n.default.createElement(s.default,{attraction:a.attraction})}]},tasks:{items:[{label:"Edit Attraction",modal:function(e){return n.default.createElement(r.default,{attraction:a.attraction})}},{label:"Delete Attraction",show:!1===a.attraction.is_approved,confirm:"Are you sure you want to delete this attraction?",request:{method:"DELETE",endpoint:"/api/admin/eatfresh/attractions/"+a.attraction.id,onSuccess:function(e){t.flash.set("success","Successfully deleted this attraction"),t.router.goBack()},onFailure:function(e){return t.flash.set("error","Unable to delete this attraction")}}},{label:"Approve Attraction",show:null===a.attraction.is_approved,request:{method:"PATCH",endpoint:"/api/admin/eatfresh/attractions/"+a.attraction.id+"/approve",onFailure:function(e){return t.flash.set("error","Unable to approve attraction")},onSuccess:function(e){return t.flash.set("success","This attraction has been approved")}}},{label:"Reject Attraction",show:null===a.attraction.is_approved,modal:function(){return n.default.createElement(o.default,{id:a.attraction.id})}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(126)),i=f(a(125)),u=f(a(1)),d=a(6),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.attraction,t=this.context.admin.team.token;return{title:"Edit Attraction",method:"patch",endpoint:"/api/admin/eatfresh/attractions/"+e.id+"/edit",action:"/api/admin/eatfresh/attractions/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Categories",name:"category_ids",type:"lookup2",required:!0,multiple:!0,endpoint:"/api/admin/eatfresh/categories",value:"id",text:"title",format:i.default},{label:"Offerings",name:"offering_ids",type:"lookup2",required:!0,multiple:!0,endpoint:"/api/admin/eatfresh/offerings",value:"id",text:"title",format:s.default},{label:"Photo",name:"photo_id",type:"filefield",required:!0,prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:t,multiple:!1},{label:"Address 1",name:"address_1",type:"textfield",required:!0},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield",required:!0},{label:"State",name:"state",type:"textfield",required:!0},{label:"Zip",name:"zip",type:"textfield",required:!0},{label:"County",name:"county_id",type:"lookup",required:!0,endpoint:"/api/admin/eatfresh/counties",value:"id",text:"name"},{label:"Phone",name:"phone",type:"textfield",required:!0},{label:"Hours of Operation",name:"hours_of_operation",type:"textfield",required:!0},{label:"Website",name:"website",type:"textfield"},{label:"Facebook",name:"facebook",type:"textfield"},{label:"Cage Free / Pasture Raised",name:"is_free_range",type:"checkbox"},{label:"Family Friendly",name:"is_family_friendly",type:"checkbox"},{label:"Family Owned",name:"is_family_owned",type:"checkbox"},{label:"Handicap Accessible",name:"is_accessible",type:"checkbox"},{label:"Military Discount",name:"is_military",type:"checkbox"},{label:"Organic / USDA Organic",name:"is_organic",type:"checkbox"},{label:"Senior Discount",name:"is_senior",type:"checkbox"},{label:"Vegetarian / Vegan",name:"is_vegetarian",type:"checkbox"},{label:"Photos",name:"photo_ids",type:"filefield",multiple:!0,prompt:"Upload Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/eatfresh/photos",token:t}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/eatfresh/attractions/"+e.id),this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:u.default.object,modal:u.default.object,router:u.default.object},m.propTypes={attraction:u.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Reject Attraction",method:"patch",action:"/api/admin/eatfresh/attractions/"+this.props.id+"/reject",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Reason",name:"rejection_reason",type:"textarea",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={id:s.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=a(6),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.attraction,a={};return null===t.is_approved&&(a.alert={color:"blue",message:"This attraction is pending approval"}),!1===t.is_approved&&(a.alert={color:"red",message:"This attraction has been rejected"}),a.items=[{label:"Photo",content:t.photo},{label:"Title",content:t.title},{label:"Description",content:t.description},{label:"Address 1",content:t.address_1},{label:"Address 2",content:t.address_2},{label:"City",content:t.city},{label:"State",content:t.state},{label:"Zip",content:t.zip},{label:"County",content:t.county},{label:"Hours of Operation",content:t.hours_of_operation},{label:"Website",content:t.website},{label:"Facebook",content:t.facebook},{label:"Categories",content:t.categories,format:i},{label:"Offerings",content:t.offerings,format:u},{label:"Photos",content:t.photos,format:d}],t.contact_name&&a.items.unshift({label:"Contact",content:r.default.createElement("div",null,t.contact_name,r.default.createElement("br",null),t.contact_email,r.default.createElement("br",null),t.contact_phone)}),r.default.createElement(l.List,a)};s.propTypes={attraction:n.default.object};var i=function(e){var t=e.value;return r.default.createElement("div",{className:"catgeories"},t.map(function(e,t){return r.default.createElement("div",{key:"category_"+t,className:"category"},e.title)}))};i.propTypes={value:n.default.array};var u=function(e){var t=e.value;return r.default.createElement("div",{className:"offerings"},t.map(function(e,t){return r.default.createElement("div",{key:"offering_"+t,className:"offering"},e.title)}))};u.propTypes={value:n.default.array};var d=function(e){var t=e.value;return r.default.createElement("div",{className:"photos"},t.map(function(e,t){return r.default.createElement("div",{key:"photo_"+t,className:"photo"},e.path)}))};d.propTypes={value:n.default.array},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=b(a(1438)),r=b(a(1441)),o=b(a(1446)),s=b(a(1447)),i=b(a(1448)),u=b(a(1451)),d=b(a(1454)),c=b(a(1457)),f=b(a(1463)),m=b(a(1465)),p=b(a(1467)),h=b(a(1470)),_=b(a(1471)),v=b(a(1474)),y=b(a(1476)),g=b(a(1479));function b(e){return e&&e.__esModule?e:{default:e}}var E=new n.Routes([{path:"/accounts",component:l.default},{path:"/approvals",component:o.default},{path:"/advances/:id",component:r.default},{path:"/batches",component:s.default},{path:"/checks/:id",component:i.default},{path:"/expenses/:id",component:u.default},{path:"/expense_types",component:d.default},{path:"/items",component:c.default},{path:"/projects",component:f.default},{path:"/projects/:id",component:m.default},{path:"/rates",component:p.default},{path:"/reimbursements/:id",component:_.default},{path:"/reports",component:v.default},{path:"/receipts/:id",component:h.default},{path:"/trips/:id",component:y.default},{path:"/vendors",component:g.default}]);t.default=E},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(7)),l=a(6),r=i(a(0)),o=i(a(1439)),s=i(a(1440));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(function(e,t){return{settings:"/api/admin/expenses/settings"}},function(e,t,a,l){return{title:"Accounts",collection:{endpoint:"/api/admin/expenses/accounts",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Name",key:"name",primary:!0}],export:[{label:"ID",key:"id"},{label:"Name",key:"name"}],recordTasks:[{label:"Edit Account",modal:function(e){return r.default.createElement(o.default,(0,n.default)({},e,{integration:a.settings.integration}))}}],defaultSort:{key:"created_at",order:"desc"},entity:"account",icon:"credit-card",new:function(e){return r.default.createElement(s.default,(0,n.default)({},e,{integration:a.settings.integration}))}},task:{label:"New Account",icon:"plus",modal:function(e){return r.default.createElement(s.default,(0,n.default)({},e,{integration:a.settings.integration}))}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Accounts",method:"patch",endpoint:"/api/admin/expenses/accounts/"+e+"/edit",action:"/api/admin/expenses/accounts/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield",required:!0}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Vendor ID",name:"integration.vendor_id",type:"textfield"}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={id:u.default.number,integration:u.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Account",method:"post",action:"/api/admin/expenses/accounts",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield",required:!0}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Vendor ID",name:"integration.vendor_id",type:"textfield"}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={integration:u.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(89)),l=u(a(90)),r=a(6),o=u(a(1444)),s=u(a(0)),i=u(a(1445));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(function(e,t){return{settings:"/api/admin/expenses/settings",advance:"/api/admin/expenses/advances/"+e.params.id}},function(e,t,a){return{title:"Cash Advance",rights:["expenses:manage_expenses"],panel:{component:s.default.createElement(o.default,{advance:a.advance})},tasks:(0,l.default)("advance",a.advance,t,i.default),buttons:(0,n.default)(a.settings,"advance",a.advance,t)}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(10)),l=f(a(2)),r=f(a(3)),o=f(a(4)),s=f(a(5)),i=f(a(1)),u=a(6),d=f(a(8)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return c.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.ids;return{title:"Create Batch",method:"post",action:"/api/admin/expenses/batches",successText:"Export",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[].concat((0,n.default)(Object.keys(e).map(function(t){return{name:t,type:"hidden",defaultValue:e[t]}})),[{label:"Date",name:"date",type:"datefield",required:!0,defaultValue:(0,d.default)().format("YYYY-MM-DD")}])}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){window.location.href="/api/admin/expenses/batches/"+e.id+'.csv?download=true&enclosure="&token='+this.props.token,this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:i.default.object,modal:i.default.object},m.propTypes={ids:i.default.array,token:i.default.string},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.item_type,a=e.item_id;return{title:"Revert Status",method:"patch",endpoint:"/api/admin/expenses/"+t+"s/"+a+"/edit",action:"/api/admin/expenses/"+t+"s/"+a+"/status",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Status",name:"status_id",type:"lookup",endpoint:"/api/admin/expenses/statuses",value:"id",text:"text",sort:"id"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={item_id:s.default.number,item_type:s.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(7)),l=d(a(46)),r=d(a(38)),o=a(6),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,a,l){return u.default.isNil(u.default.get(t,a))?{label:e,content:"REQUIRED",className:"error"}:(0,n.default)({label:e,content:u.default.get(t,a)},l)},f=function(e){var t=e.advance,a=(e.commentUrl,{});return"incomplete"===t.status&&(a.alert={color:"grey",message:"This advance is missing required information"}),"pending"===t.status&&(a.alert={color:"teal",message:"This advance has not yet been submitted"}),"submitted"===t.status&&(a.alert={color:"blue",message:"This advance has been submitted for review"}),"approved"===t.status&&(a.alert={color:"green",message:"This advance has been approved"}),"rejected"===t.status&&(a.alert={color:"red",message:"This advance has been rejected"}),"reviewed"===t.status&&(a.alert={color:"pink",message:"This advance has been reviewed"}),"processed"===t.status&&(a.alert={color:"violet",message:"This advance was processed"}),a.items=[c("User",t,"user.full_name"),{label:"Date Needed",content:t.date_needed,format:"date"},{label:"Description",content:t.description},{label:"Amount",content:t.amount,format:"currency"},c("Project",t,"project.title",{content:t,format:r.default}),c("Expense Type",t,"expense_type.title",{content:t,format:l.default})],a.items.push({component:i.default.createElement(o.Audit,{entries:t.audit})}),a.footer=i.default.createElement(o.Comments,{entity:"expenses_advances/"+t.id}),i.default.createElement(o.List,a)};f.propTypes={advance:s.default.object,commentUrl:s.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=m(a(33)),i=m(a(28)),u=m(a(1)),d=a(6),c=m(a(8)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return f.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.advance,a=e.projectEndpoint;return{title:"Edit Cash Advance",method:"patch",endpoint:"/api/admin/expenses/advances/"+t.id+"/edit",action:"/api/admin/expenses/advances/"+t.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date Needed",name:"date_needed",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,c.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Amount",name:"amount",type:"moneyfield",required:!0},{label:"Project",name:"project_id",type:"lookup",endpoint:a,value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(f.default.Component);p.contextTypes={modal:u.default.object},p.propTypes={projectEndpoint:u.default.string,advance:u.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(46)),l=m(a(38)),r=a(197),o=m(a(33)),s=m(a(28)),i=m(a(198)),u=m(a(39)),d=m(a(127)),c=a(6),f=m(a(199));function m(e){return e&&e.__esModule?e:{default:e}}t.default=(0,c.Page)(function(e,t){return{}},function(e,t,a,m){return{title:"Approvals",collection:{endpoint:"/api/admin/expenses/approvals/items",table:[{label:"ID",key:"item_id",visible:!1,collapsing:!0},{label:null,key:"type",primary:!0,collapsing:!0,format:r.CompactTypeToken},{label:"Date",key:"date",format:"date",collapsing:!0},{label:"User",key:"user.full_name",sort:"maha_users.last_name",primary:!0},{label:"Project",key:"project.title",sort:"expenses_projects.title",format:l.default},{label:"Description",key:"description"},{label:"Expense Type",key:"expense_type.title",sort:"expenses_expense_types.title",format:n.default},{label:"Vendor",key:"vendor.name",sort:"expenses_vendors.name"},{label:"Account",key:"account.name",sort:"expenses_accounts.name"},{label:"Status",key:"status",sort:"expenses_statuses.text",format:d.default,collapsing:!0}],filters:[{label:"Type",name:"type",type:"select",multiple:!0,options:[{value:"expense",text:"Expense"},{value:"reimbursement",text:"Reimbursement"},{value:"check",text:"Check Request"},{value:"trip",text:"Mileage"},{value:"advance",text:"Cash Advance"}],format:r.TypeToken},{label:"User",name:"user_id",type:"select",multiple:!0,endpoint:"/api/admin/users",value:"id",text:"full_name",sort:{key:"last_name",order:"asc"},format:c.CompactUserToken},{label:"Projects",name:"project_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/projects",value:"id",text:"title",format:s.default},{label:"Expense Type",name:"expense_type_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/expense_types",value:"id",text:"title",format:o.default},{label:"Vendor",name:"vendor_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",format:u.default},{label:"Account",name:"account_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/accounts",value:"id",text:"name"},{label:"Date Range",name:"date",type:"daterange",include:["this","last"]},{label:"Status",name:"status_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/statuses",value:"id",text:"name",sort:"id",format:i.default}],export:[{label:"ID",key:"id"},{label:"Type",key:"type"},{label:"Date",key:"date"},{label:"User",key:"user.full_name"},{label:"Project",key:"project.title"},{label:"Expense Type",key:"expense_type.title"},{label:"Vendor",key:"vendor.name"},{label:"Account",key:"account.name"},{label:"Expense Type",key:"expense_type.title"},{label:"Description",key:"description"},{label:"Amount",key:"amount"},{label:"Status",key:"status"}],link:function(e){return"/admin/expenses/"+e.type+"s/"+e.item_id},defaultSort:{key:"created_at",order:"desc"},selectable:!0,entity:"items",icon:"dollar",empty:"No items have been submitted yet in a project you own",rowClass:function(e){return e.status},buttons:function(e){return e.selected.length>0?[(0,f.default)(t,e,"red","reject","rejected","submitted","/api/admin/expenses/items/reject_all"),(0,f.default)(t,e,"green","approve","approved","submitted","/api/admin/expenses/items/approve_all")]:null}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Batches",collection:{endpoint:"/api/admin/expenses/batches",table:[{label:"ID",key:"id",primary:!0,collapsing:!0},{label:"Exported By",key:"user.full_name",sort:"maha_users.last_name",primary:!0},{label:"Items",key:"items_count",primary:!0,collapsing:!0},{label:"Total",key:"total",primary:!0,collapsing:!0,format:"currency"},{label:"Date",key:"date",primary:!0,collapsing:!0,format:"date"}],defaultSort:{key:"created_at",order:"desc"},entity:"batch",icon:"copy",link:function(e){return"/admin/expenses/reports?$filter[batch_id][$in][0]="+e.id},recordTasks:[{label:"Download Batch",handler:function(e){return window.location.href="/api/admin/expenses/batches/"+e+'.csv?download=true&enclosure="&token='+t.admin.team.token}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(89)),l=u(a(90)),r=a(6),o=u(a(1449)),s=u(a(0)),i=u(a(1450));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(function(e,t){return{settings:"/api/admin/expenses/settings",check:"/api/admin/expenses/checks/"+e.params.id}},function(e,t,a){return{title:"Check",rights:["expenses:manage_expenses"],panel:{component:s.default.createElement(o.default,{check:a.check})},tasks:(0,l.default)("check",a.check,t,i.default),buttons:(0,n.default)(a.settings,"check",a.check,t)}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(46)),r=f(a(38)),o=f(a(128)),s=a(6),i=f(a(200)),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t,a,l){return c.default.isNil(c.default.get(t,a))?{label:e,content:"REQUIRED",className:"error"}:(0,n.default)({label:e,content:c.default.get(t,a)},l)},p=function(e){var t=e.check,a=(e.commentUrl,{});if("incomplete"===t.status&&(a.alert={color:"grey",message:"This check is missing required information"}),"pending"===t.status&&(a.alert={color:"teal",message:"This check has not yet been submitted"}),"submitted"===t.status&&(a.alert={color:"blue",message:"This check has been submitted for review"}),"approved"===t.status&&(a.alert={color:"green",message:"This check has been approved"}),"rejected"===t.status&&(a.alert={color:"red",message:"This check has been rejected"}),"reviewed"===t.status&&(a.alert={color:"pink",message:"This check has been reviewed"}),"processed"===t.status&&(a.alert={color:"violet",message:"This check was processed"}),a.items=[m("User",t,"user.full_name"),{label:"Date Needed",content:t.date_needed,format:"date"},{label:"Description",content:t.description},{label:"Amount",content:t.amount,format:"currency"},m("Project",t,"project.title",{content:t,format:r.default}),m("Expense Type",t,"expense_type.title",{content:t,format:l.default}),m("Vendor",t,"vendor.name",{content:t,format:o.default}),m("Delivery Method",t,"delivery_method")],t.receipts.length>0){var n=t.receipts.filter(function(e){return"processed"===e.status&&(e.has_preview||e.is_image)}).map(function(e,t){return d.default.createElement(i.default,{key:"receipt_preview_"+t,preview:!0,value:e})});a.header=d.default.createElement(s.Carousel,{slides:n}),a.items.unshift({content:t.receipts.map(function(e,t){return d.default.createElement(i.default,{key:"receipt_"+t,preview:!1,value:e})}),className:"receipts"})}else a.items.unshift(m("Receipt",t,"receipts_ids"));return a.items.push({component:d.default.createElement(s.Audit,{entries:t.audit})}),a.footer=d.default.createElement(s.Comments,{entity:"expenses_checks/"+t.id}),d.default.createElement(s.List,a)};p.propTypes={check:u.default.object,commentUrl:u.default.string},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=p(a(33)),i=p(a(28)),u=p(a(39)),d=p(a(1)),c=a(6),f=p(a(8)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement(c.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.check,a=e.projectEndpoint,n=this.context.admin.team.token;return{title:"Edit Check Request",method:"patch",endpoint:"/api/admin/expenses/checks/"+t.id+"/edit",action:"/api/admin/expenses/checks/"+t.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date Needed",name:"date_needed",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,f.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Amount",name:"amount",type:"moneyfield",required:!0},{label:"Receipt",name:"receipt_ids",type:"filefield",multiple:!0,prompt:"Upload Receipt",action:"/api/admin/assets/upload",endpoint:"/api/admin/expenses/receipts",token:n},{label:"Project",name:"project_id",type:"lookup",endpoint:a,value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default},{label:"Vendor",name:"vendor_id",type:"lookup",endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",form:this._getVendorForm(),format:u.default},{label:"Delivery Method",name:"delivery_method",type:"lookup",placeholder:"Delivery Method",options:[{value:"mail",text:"Mail"},{value:"pickup",text:"Pickup"}]}]}]}}},{key:"_getVendorForm",value:function(){return{title:"New Vendor",method:"post",action:"/api/admin/expenses/vendors",sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(m.default.Component);h.contextTypes={admin:d.default.object,modal:d.default.object},h.propTypes={projectEndpoint:d.default.string,check:d.default.object},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(89)),l=u(a(90)),r=a(6),o=u(a(1452)),s=u(a(0)),i=u(a(1453));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(function(e,t){return{settings:"/api/admin/expenses/settings",expense:"/api/admin/expenses/expenses/"+e.params.id}},function(e,t,a,r){return{title:"Expense",rights:["expenses:manage_expenses"],panel:{component:s.default.createElement(o.default,{expense:a.expense})},tasks:(0,l.default)("expense",a.expense,t,i.default),buttons:(0,n.default)(a.settings,"expense",a.expense,t)}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(46)),r=f(a(38)),o=f(a(128)),s=a(6),i=f(a(200)),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t,a,l){return c.default.isNil(c.default.get(t,a))?{label:e,content:"REQUIRED",className:"error"}:(0,n.default)({label:e,content:c.default.get(t,a)},l)},p=function(e){var t=e.expense,a=(e.commentUrl,{});if("incomplete"===t.status&&(a.alert={color:"grey",message:"This expense is missing required information"}),"pending"===t.status&&(a.alert={color:"teal",message:"This expense has not yet been submitted"}),"submitted"===t.status&&(a.alert={color:"blue",message:"This expense has been submitted for review"}),"approved"===t.status&&(a.alert={color:"green",message:"This expense has been approved"}),"rejected"===t.status&&(a.alert={color:"red",message:"This expense has been rejected"}),"reviewed"===t.status&&(a.alert={color:"pink",message:"This expense has been reviewed"}),"processed"===t.status&&(a.alert={color:"violet",message:"This expense was processed"}),a.items=[m("User",t,"user.full_name"),{label:"Date",content:t.date,format:"date"},{label:"Description",content:t.description},m("Amount",t,"amount",{content:t.amount,format:"currency"}),m("Project",t,"project.title",{content:t,format:r.default}),m("Expense Type",t,"expense_type.title",{content:t,format:l.default}),m("Vendor",t,"vendor.name",{content:t,format:o.default}),m("Account",t,"account.name")],t.receipts.length>0){var n=t.receipts.filter(function(e){return"processed"===e.status&&(e.has_preview||e.is_image)}).map(function(e,t){return d.default.createElement(i.default,{key:"receipt_preview_"+t,preview:!0,value:e})});a.header=d.default.createElement(s.Carousel,{slides:n}),a.items.unshift({content:t.receipts.map(function(e,t){return d.default.createElement(i.default,{key:"receipt_"+t,preview:!1,value:e})}),className:"receipts"})}else a.items.unshift(m("Receipt",t,"receipts_ids"));return a.items.push({component:d.default.createElement(s.Audit,{entries:t.audit})}),a.footer=d.default.createElement(s.Comments,{entity:"expenses_expenses/"+t.id}),d.default.createElement(s.List,a)};p.propTypes={commentUrl:u.default.string,expense:u.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=p(a(33)),i=p(a(28)),u=p(a(39)),d=a(6),c=p(a(1)),f=p(a(8)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.projectEndpoint,a=e.expense,n=this.context.admin.team.token;return{title:"Edit Expense",method:"patch",endpoint:"/api/admin/expenses/expenses/"+a.id+"/edit",action:"/api/admin/expenses/expenses/"+a.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date",name:"date",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,f.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",required:!0,type:"textfield"},{label:"Amount",name:"amount",type:"moneyfield",required:!0},{label:"Receipt",name:"receipt_ids",type:"filefield",multiple:!0,prompt:"Upload Receipt",action:"/api/admin/assets/upload",endpoint:"/api/admin/expenses/receipts",token:n},{label:"Project",name:"project_id",type:"lookup",endpoint:t,value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default},{label:"Vendor",name:"vendor_id",type:"lookup",endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",form:this._getVendorForm(),format:u.default},{label:"Account",name:"account_id",type:"lookup",endpoint:"/api/admin/expenses/accounts",value:"id",text:"name"}]}]}}},{key:"_getVendorForm",value:function(){return{title:"New Vendor",method:"post",action:"/api/admin/expenses/vendors",sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(m.default.Component);h.contextTypes={admin:c.default.object,modal:c.default.object},h.propTypes={projectEndpoint:c.default.string,expense:c.default.object},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(7)),l=d(a(10)),r=d(a(33)),o=a(6),s=d(a(0)),i=d(a(1455)),u=d(a(1456));function d(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.Page)(function(e,t){return{settings:"/api/admin/expenses/settings"}},function(e,t,a,o){return{title:"Expense Types",rights:["expenses:manage_configuration"],collection:{endpoint:"/api/admin/expenses/expense_types",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0,format:r.default},{label:"Active",key:"is_active",primary:!0,format:"check"}].concat((0,l.default)(function(e){return"accpac"===e?[{label:"Expense Code",key:"integration.expense_code",visible:!1,collapsing:!0},{label:"Source Code",key:"integration.source_code",visible:!1,collapsing:!0}]:[]}(a.settings.integration))),export:[{label:"ID",key:"id"},{label:"Title",key:"title"},{label:"Description",key:"description"}].concat((0,l.default)(function(e){return"accpac"===e?[{label:"Expense Code",key:"integration.expense_code"},{label:"Source Code",key:"integration.source_code"}]:[]}(a.settings.integration))),recordTasks:[{label:"Edit Type",modal:function(e){return s.default.createElement(i.default,(0,n.default)({},e,{integration:a.settings.integration}))}}],defaultSort:{key:"title",order:"asc"},entity:"expense_type",icon:"tag",new:function(e){return s.default.createElement(u.default,(0,n.default)({},e,{integration:a.settings.integration}))}},task:{label:"New Expense Type",icon:"plus",modal:function(e){return s.default.createElement(u.default,(0,n.default)({},e,{integration:a.settings.integration}))}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Expense Type",method:"patch",endpoint:"/api/admin/expenses/expense_types/"+e+"/edit",action:"/api/admin/expenses/expense_types/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textarea"},{label:"Active",name:"is_active",type:"checkbox"}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Expense Code",name:"integration.expense_code",type:"textfield",required:!0},{label:"Source Code",name:"integration.source_code",type:"textfield"}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={id:u.default.number,integration:u.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Expense Type",method:"post",action:"/api/admin/expenses/expense_types",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textarea"}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Expense Code",name:"integration.expense_code",type:"textfield",required:!0},{label:"Source Code",name:"integration.source_code",type:"textfield"}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={integration:u.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=E(a(14)),l=E(a(46)),r=E(a(38)),o=a(197),s=E(a(33)),i=E(a(28)),u=E(a(39)),d=E(a(198)),c=E(a(127)),f=E(a(1458)),m=E(a(1459)),p=E(a(1460)),h=E(a(1461)),_=E(a(1462)),v=E(a(514)),y=a(6),g=E(a(199)),b=E(a(0));function E(e){return e&&e.__esModule?e:{default:e}}var k=function(e,t,a){return b.default.createElement("div",{className:"new-item-task"},b.default.createElement("div",{className:"new-item-task-icon"},b.default.createElement(o.CompactTypeToken,{value:e})),b.default.createElement("div",{className:"new-item-task-description"},b.default.createElement("strong",null,t),b.default.createElement("br",null),a))};t.default=(0,y.Page)(function(e,t){return{}},function(e,t,a,E){return{title:"Items",collection:{endpoint:"/api/admin/expenses/items",table:[{label:"ID",key:"item_id",visible:!1,collapsing:!0},{label:null,key:"type",primary:!0,collapsing:!0,format:o.CompactTypeToken},{label:"Date",key:"date",format:"date",collapsing:!0},{label:"Project",key:"project.title",sort:"expenses_projects.title",format:r.default},{label:"Description",key:"description",primary:!0},{label:"Expense Type",key:"expense_type.title",sort:"expenses_expense_types.title",format:l.default},{label:"Vendor",key:"vendor.name",sort:"expenses_vendors.name"},{label:"Account",key:"account.name",sort:"expenses_accounts.name"},{label:"Amount",key:"amount",primary:!0,format:"currency",collapsing:!0},{label:"Status",key:"status",sort:"expenses_statuses.text",format:c.default,collapsing:!0}],filters:[{label:"Type",name:"type",type:"select",multiple:!0,options:[{value:"expense",text:"Expense"},{value:"reimbursement",text:"Reimbursement"},{value:"check",text:"Check Request"},{value:"trip",text:"Mileage"},{value:"advance",text:"Cash Advance"}],format:o.TypeToken},{label:"Projects",name:"project_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/projects",value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/expense_types",value:"id",text:"title",format:s.default},{label:"Vendor",name:"vendor_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",format:u.default},{label:"Account",name:"account_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/accounts",value:"id",text:"name"},{label:"Date Range",name:"date",type:"daterange",include:["this","last"]},{label:"Status",name:"status_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/statuses",value:"id",text:"name",sort:"id",format:d.default}],export:[{label:"ID",key:"id"},{label:"Type",key:"type"},{label:"Date",key:"date"},{label:"User",key:"user.full_name"},{label:"Project",key:"project.title"},{label:"Expense Type",key:"expense_type.title"},{label:"Vendor",key:"vendor.name"},{label:"Account",key:"account.name"},{label:"Description",key:"description"},{label:"Amount",key:"amount"},{label:"Status",key:"status"}],link:function(e){return"/admin/expenses/"+e.type+"s/"+e.item_id},defaultSort:{key:"created_at",order:"desc"},selectable:!0,entity:"items",icon:"dollar",rowClass:function(e){return e.status},buttons:function(e){return e.selected.length>0?[(0,g.default)(t,e,"blue","submit","submitted","pending","/api/admin/expenses/items/submit_all")]:null}},tasks:{icon:"plus",items:[{component:k("expense","Expense","I made a purchase with a work credit card or store account"),modal:p.default},{component:k("reimbursement","Reimbursement","I made a purchase with my own money"),modal:h.default},{component:k("check","Check Request","I need a check sent to a vendor"),modal:m.default},{component:k("trip","Mileage","I need to be reimbursed for mileage"),modal:_.default},{component:k("import","Bulk Mileage Import","I need to be reimbursed for many trips"),modal:function(){return b.default.createElement(y.Import,function(e){var t;return{table:"expenses_trips",fields:[{label:"Date",name:"date",type:"datefield",required:!0,format:"YYYY-MM-DD"},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Project Code",name:"project_code",type:"textfield"},{label:"Time Leaving",name:"time_leaving",type:"timefield",format:"HH:mm:ss"},{label:"Time Arriving",name:"time_arriving",type:"timefield",format:"HH:mm:ss"},{label:"Odometer Start",name:"odometer_start",type:"textfield"},{label:"Odometer End",name:"odometer_end",type:"textfield"},{label:"Distance",name:"total_miles",type:"textfield"}],primaryKey:null,rules:{date:["required"],description:["required"]},destination:function(e){return"/admin/expenses/items?$filter[import_id][$in][0]="+e},defaultParams:{user_id:e.user.id,status_id:2},defaultMapping:[{field:"date",header:"Date",type:"datefield",relation:null,format:"YYYY-MM-DD"},{field:"description",header:"Description",type:"text",relation:null},(t={field:"project_id",header:"Project Code",type:"integer"},(0,n.default)(t,"type","relation"),(0,n.default)(t,"relation","expenses_projects"),(0,n.default)(t,"relationcolumn","integration.project_code"),t),{field:"time_leaving",header:"Time Leaving",type:"timefield",relation:null,format:"HH:mm:ss"},{field:"time_arriving",header:"Time Arriving",type:"timefield",relation:null,format:"HH:mm:ss"},{field:"odometer_start",header:"Odometer Start",type:"integer",relation:null},{field:"odometer_end",header:"Odometer End",type:"integer",relation:null},{field:"total_miles",header:"Distance",type:"integer",relation:null}],finalizeComponent:v.default}}(t.admin))}},{component:k("advance","Cash Advance","I need a check or cash in advance"),modal:f.default}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(2)),l=m(a(3)),r=m(a(4)),o=m(a(5)),s=m(a(33)),i=m(a(28)),u=m(a(1)),d=a(6),c=m(a(8)),f=m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return f.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Cash Advance",method:"post",action:"/api/admin/expenses/advances",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date Needed",name:"date_needed",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,c.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Amount",name:"amount",type:"moneyfield",required:!0},{label:"Project",name:"project_id",type:"lookup",endpoint:"/api/admin/expenses/memberships",value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(f.default.Component);p.contextTypes={modal:u.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=p(a(33)),i=p(a(28)),u=p(a(39)),d=p(a(1)),c=a(6),f=p(a(8)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement(c.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"New Check Request",method:"post",action:"/api/admin/expenses/checks",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date Needed",name:"date_needed",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,f.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Amount",name:"amount",type:"moneyfield",required:!0},{label:"Invoice",name:"receipt_ids",type:"filefield",multiple:!0,prompt:"Upload Invoice",action:"/api/admin/assets/upload",endpoint:"/api/admin/expenses/receipts",token:e},{label:"Project",name:"project_id",type:"lookup",endpoint:"/api/admin/expenses/memberships",value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default},{label:"Vendor",name:"vendor_id",type:"lookup",endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",form:this._getVendorForm(),format:u.default},{label:"Delivery Method",name:"delivery_method",type:"lookup",placeholder:"Delivery Method",options:[{value:"mail",text:"Mail"},{value:"pickup",text:"Pickup"}]}]}]}}},{key:"_getVendorForm",value:function(){return{title:"New Vendor",method:"post",action:"/api/admin/expenses/vendors",sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(m.default.Component);h.contextTypes={admin:d.default.object,modal:d.default.object},h.propTypes={parent:d.default.object},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=p(a(33)),i=p(a(28)),u=p(a(39)),d=p(a(1)),c=a(6),f=p(a(8)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement(c.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"New Expense",method:"post",action:"/api/admin/expenses/expenses",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date",name:"date",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,f.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",required:!0,type:"textfield"},{label:"Amount",name:"amount",required:!0,type:"moneyfield"},{label:"Receipt",name:"receipt_ids",type:"filefield",multiple:!0,prompt:"Upload Receipt",action:"/api/admin/assets/upload",endpoint:"/api/admin/expenses/receipts",token:e},{label:"Project",name:"project_id",type:"lookup",endpoint:"/api/admin/expenses/memberships",value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default},{label:"Vendor",name:"vendor_id",type:"lookup",endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",form:this._getVendorForm(),format:u.default},{label:"Account",name:"account_id",type:"lookup",endpoint:"/api/admin/expenses/accounts",value:"id",text:"name"}]}]}}},{key:"_getVendorForm",value:function(){return{title:"New Vendor",method:"post",action:"/api/admin/expenses/vendors",sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(m.default.Component);h.contextTypes={admin:d.default.object,modal:d.default.object},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=p(a(33)),i=p(a(28)),u=p(a(39)),d=p(a(1)),c=a(6),f=p(a(8)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement(c.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"New Reimbursement",method:"post",action:"/api/admin/expenses/reimbursements",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date",name:"date",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,f.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",required:!0,type:"textfield"},{label:"Amount",name:"amount",required:!0,type:"moneyfield"},{label:"Receipt",name:"receipt_ids",type:"filefield",multiple:!0,prompt:"Upload Receipt",action:"/api/admin/assets/upload",endpoint:"/api/admin/expenses/receipts",token:e},{label:"Project",name:"project_id",type:"lookup",endpoint:"/api/admin/expenses/memberships",value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default},{label:"Vendor",name:"vendor_id",type:"lookup",endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",form:this._getVendorForm(),format:u.default}]}]}}},{key:"_getVendorForm",value:function(){return{title:"New Vendor",method:"post",action:"/api/admin/expenses/vendors",sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(m.default.Component);h.contextTypes={admin:d.default.object,modal:d.default.object},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(28)),i=f(a(1)),u=a(6),d=f(a(8)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={time_leaving:"0:00"},l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),l._handleChangeField=l._handleChangeField.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Mileage",method:"post",action:"/api/admin/expenses/trips",onCancel:this._handleCancel,onSuccess:this._handleSuccess,onChangeField:this._handleChangeField,sections:[{fields:[{label:"Date",name:"date",type:"datefield",required:!0,defaultValue:(0,d.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Project",name:"project_id",type:"lookup",prompt:"Choose a project",endpoint:"/api/admin/expenses/memberships",value:"id",text:"title",format:s.default},{label:"Time Leaving",name:"time_leaving",type:"timefield"},this._getTimeArriving(),{label:"Odometer Start",name:"odometer_start",type:"textfield",placeholder:"Odometer Start"},{label:"Odometer End",name:"odometer_end",type:"textfield",placeholder:"Odometer End"},{label:"Distance",name:"total_miles",type:"textfield",placeholder:"Total Miles"}]}]}}},{key:"_getTimeArriving",value:function(){return{label:"Time Arriving",name:"time_arriving",type:"timefield",start:this.state.time_leaving,duration:!0}}},{key:"_handleChangeField",value:function(e,t){"time_leaving"===e&&this.setState({time_leaving:t})}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={admin:i.default.object,modal:i.default.object},m.propTypes={parent:i.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(7)),l=u(a(10)),r=u(a(28)),o=a(6),s=u(a(0)),i=u(a(1464));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.Page)(function(e,t){return{settings:"/api/admin/expenses/settings"}},function(e,t,a,u){return{title:"Projects",collection:{endpoint:"/api/admin/expenses/projects",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0,format:r.default},{label:"Active",key:"is_active",primary:!0,format:"check"}].concat((0,l.default)(function(e){return"accpac"===e?[{label:"Project Code",key:"integration.project_code",visible:!1,collapsing:!0},{label:"Program Code",key:"integration.program_code",visible:!1,collapsing:!0},{label:"Source Code",key:"integration.source_code",visible:!1,collapsing:!0},{label:"Match",key:"integration.match",visible:!1,collapsing:!0}]:[]}(a.settings.integration))),filters:[{label:"Member",name:"user_id",type:"select",endpoint:"/api/admin/users",value:"id",text:"full_name",sort:{key:"last_name",order:"asc"},format:o.CompactUserToken},{label:"Active",name:"is_active",type:"select",options:[{value:"1",text:"Active"},{value:"0",text:"Inactive"}]}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"},{label:"Active",key:"is_active"}].concat((0,l.default)(function(e){return"accpac"===e?[{label:"Project Code",key:"integration.project_code"},{label:"Program Code",key:"integration.program_code"},{label:"Source Code",key:"integration.source_code"},{label:"Match",key:"integration.match"}]:[]}(a.settings.integration))),link:function(e){return"/admin/expenses/projects/"+e.id},defaultSort:{key:"title",order:"asc"},entity:"project",icon:"folder",new:i.default},task:{label:"New Project",rights:["expenses:manage_configuration"],icon:"plus",modal:function(e){return s.default.createElement(i.default,(0,n.default)({},e,{integration:a.settings.integration}))}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Project",method:"post",action:"/api/admin/expenses/projects",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Project Code",name:"integration.project_code",type:"textfield",required:!0},{label:"Program Code",name:"integration.program_code",type:"textfield",required:!0},{label:"Source Code",name:"integration.source_code",type:"textfield",required:!0},{label:"Match",name:"integration.match",type:"textfield",required:!0}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){var t=this.context,a=t.modal,n=t.router;a.close(),n.push("/admin/expenses/projects/"+e.id)}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object,router:u.default.object},f.propTypes={integration:u.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(513)),l=u(a(193)),r=a(6),o=u(a(1)),s=u(a(0)),i=u(a(1466));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.project,a=e.integration,n={sections:[{title:"Project Details",items:[{label:"Title",content:t.title}]}]};return"accpac"===a&&n.sections.push({title:"ACCPAC Details",items:[{label:"Project Code",content:t.integration.project_code},{label:"Program Code",content:t.integration.program_code},{label:"Source Code",content:t.integration.source_code},{label:"Match",content:t.integration.match}]}),t.is_active||(n.alert={color:"red",message:"This project has been disabled"}),s.default.createElement(r.List,n)};d.propTypes={integration:o.default.string,project:o.default.object};var c=function(e){var t=e.project,a={items:e.members.map(function(e,t){return{content:{member:e},component:function(t){return s.default.createElement(n.default,{type:"user",membership:e})}}}),empty:{icon:"user-circle",title:"No members",text:"This project does not yet have any members",button:{label:"Manage Members",modal:s.default.createElement(l.default,{type:"user",unassignedEndpoint:"/api/admin/users",assignedEndpoint:"/api/admin/expenses/projects/"+t.id+"/members",action:"/api/admin/expenses/projects/"+t.id+"/members"})}}};return s.default.createElement(r.List,a)};c.propTypes={members:o.default.array,project:o.default.object};t.default=(0,r.Page)(function(e,t){return{settings:"/api/admin/expenses/settings",project:"/api/admin/expenses/projects/"+e.params.id,members:"/api/admin/expenses/projects/"+e.params.id+"/members",member_types:"/api/admin/expenses/member_types"}},function(e,t,a,n){return{title:"Project",tabs:{items:[{label:"Details",component:s.default.createElement(d,{project:a.project,integration:a.settings.integration})},{label:"Members",component:s.default.createElement(c,{project:a.project,members:a.members})}]},tasks:{items:[{label:"Edit Project",rights:["expenses:manage_configuration"],show:a.project.is_active,modal:s.default.createElement(i.default,{project:a.project,integration:a.settings.integration})},{label:"Disable Project",rights:["expenses:manage_configuration"],show:a.project.is_active,request:{method:"PATCH",endpoint:"/api/admin/expenses/projects/"+a.project.id+"/disable",onFailure:function(e){return t.flash.set("error","Unable to disable this project")}}},{label:"Enable Project",rights:["expenses:manage_configuration"],show:!a.project.is_active,request:{method:"PATCH",endpoint:"/api/admin/expenses/projects/"+a.project.id+"/enable",onFailure:function(e){return t.flash.set("error","Unable to enable this project")}}},{label:"Manage Members",show:a.project.is_active,modal:s.default.createElement(l.default,{type:"user",unassignedEndpoint:"/api/admin/users",assignedEndpoint:"/api/admin/expenses/projects/"+a.project.id+"/members",action:"/api/admin/expenses/projects/"+a.project.id+"/members"})}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.project;return{title:"Edit Project",method:"patch",endpoint:"/api/admin/expenses/projects/"+e.id+"/edit",action:"/api/admin/expenses/projects/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield"}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Project Code",name:"integration.project_code",type:"textfield",required:!0},{label:"Program Code",name:"integration.program_code",type:"textfield",required:!0},{label:"Source Code",name:"integration.source_code",type:"textfield",required:!0},{label:"Match",name:"integration.match",type:"textfield",required:!0}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={integration:u.default.string,project:u.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(7)),l=a(6),r=i(a(1468)),o=i(a(0)),s=i(a(1469));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(null,function(e,t,a,l){return{title:"Rates",collection:{endpoint:"/api/admin/expenses/rates",table:[{label:"Year",key:"year",primary:!0},{label:"Value",key:"value",primary:!0}],defaultSort:{key:"year",order:"asc"},entity:"rate",icon:"percent",new:s.default,recordTasks:[{label:"Edit Rate",modal:function(e){return o.default.createElement(r.default,{id:e.id})}}]},task:{label:"New Project",rights:["expenses:manage_configuration"],icon:"plus",modal:function(e){return o.default.createElement(s.default,(0,n.default)({},e,{integration:a.settings.integration}))}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Rate",method:"patch",endpoint:"/api/admin/expenses/rates/"+e+"/edit",action:"/api/admin/expenses/rates/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Year",name:"year",type:"textfield",required:!0},{label:"Value",name:"value",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={id:i.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Rate",method:"post",action:"/api/admin/expenses/rates",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Year",name:"year",type:"textfield",required:!0},{label:"Value",name:"value",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.receipt;return r.default.createElement(n.AssetPreview,{asset:t,comments:!0})};s.propTypes={receipt:l.default.object};t.default=(0,n.Page)(function(e,t){return{receipt:"/api/admin/expenses/receipts/"+e.params.id}},function(e,t,a,n){return{title:"Receipt",component:s}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(89)),l=u(a(90)),r=a(6),o=u(a(1472)),s=u(a(0)),i=u(a(1473));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(function(e,t){return{settings:"/api/admin/expenses/settings",reimbursement:"/api/admin/expenses/reimbursements/"+e.params.id}},function(e,t,a,r){return{title:"Reimbursement",rights:["expenses:manage_expenses"],panel:{component:s.default.createElement(o.default,{reimbursement:a.reimbursement})},tasks:(0,l.default)("reimbursement",a.reimbursement,t,i.default),buttons:(0,n.default)(a.settings,"reimbursement",a.reimbursement,t)}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(7)),l=f(a(46)),r=f(a(38)),o=f(a(128)),s=a(6),i=f(a(200)),u=f(a(1)),d=f(a(0)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t,a,l){return c.default.isNil(c.default.get(t,a))?{label:e,content:"REQUIRED",className:"error"}:(0,n.default)({label:e,content:c.default.get(t,a)},l)},p=function(e){var t=e.reimbursement,a=(e.commentUrl,{});if("incomplete"===t.status&&(a.alert={color:"grey",message:"This reimbursement is missing required information"}),"pending"===t.status&&(a.alert={color:"teal",message:"This reimbursement has not yet been submitted"}),"submitted"===t.status&&(a.alert={color:"blue",message:"This reimbursement has been submitted for review"}),"approved"===t.status&&(a.alert={color:"green",message:"This reimbursement has been approved"}),"rejected"===t.status&&(a.alert={color:"red",message:"This reimbursement has been rejected"}),"reviewed"===t.status&&(a.alert={color:"pink",message:"This reimbursement has been reviewed"}),"processed"===t.status&&(a.alert={color:"violet",message:"This reimbursement was processed"}),a.items=[m("User",t,"user.full_name"),{label:"Date",content:t.date,format:"date"},{label:"Description",content:t.description},m("Amount",t,"amount",{content:t.amount,format:"currency"}),m("Project",t,"project.title",{content:t,format:r.default}),m("Expense Type",t,"expense_type.title",{content:t,format:l.default}),m("Vendor",t,"vendor.name",{content:t,format:o.default})],t.receipts.length>0){var n=t.receipts.filter(function(e){return"processed"===e.status&&(e.has_preview||e.is_image)}).map(function(e,t){return d.default.createElement(i.default,{key:"receipt_preview_"+t,preview:!0,value:e})});a.header=d.default.createElement(s.Carousel,{slides:n}),a.items.unshift({content:t.receipts.map(function(e,t){return d.default.createElement(i.default,{key:"receipt_"+t,preview:!1,value:e})}),className:"receipts"})}else a.items.unshift(m("Receipt",t,"receipts_ids"));return a.items.push({component:d.default.createElement(s.Audit,{entries:t.audit})}),a.footer=d.default.createElement(s.Comments,{entity:"expenses_reimbursements/"+t.id}),d.default.createElement(s.List,a)};p.propTypes={commentUrl:u.default.string,reimbursement:u.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(2)),l=p(a(3)),r=p(a(4)),o=p(a(5)),s=p(a(33)),i=p(a(28)),u=p(a(39)),d=a(6),c=p(a(1)),f=p(a(8)),m=p(a(0));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return m.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.projectEndpoint,a=e.reimbursement,n=this.context.admin.team.token;return{title:"Edit Reimbursement",method:"patch",endpoint:"/api/admin/expenses/reimbursements/"+a.id+"/edit",action:"/api/admin/expenses/reimbursements/"+a.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date",name:"date",type:"datefield",required:!0,placeholder:"Date Needed",defaultValue:(0,f.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",required:!0,type:"textfield"},{label:"Amount",name:"amount",type:"moneyfield",required:!0},{label:"Receipt",name:"receipt_ids",type:"filefield",multiple:!0,prompt:"Upload Receipt",action:"/api/admin/assets/upload",endpoint:"/api/admin/expenses/receipts",token:n},{label:"Project",name:"project_id",type:"lookup",endpoint:t,value:"id",text:"title",format:i.default},{label:"Expense Type",name:"expense_type_id",type:"lookup",placeholder:"Expense Type",endpoint:"/api/admin/expenses/expense_types/active",value:"id",text:"title",format:s.default},{label:"Vendor",name:"vendor_id",type:"lookup",endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",form:this._getVendorForm(),format:u.default}]}]}}},{key:"_getVendorForm",value:function(){return{title:"New Vendor",method:"post",action:"/api/admin/expenses/vendors",sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(m.default.Component);h.contextTypes={admin:c.default.object,modal:c.default.object},h.propTypes={projectEndpoint:c.default.string,reimbursement:c.default.object},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(a(10)),l=a(523),r=v(a(46)),o=a(197),s=v(a(128)),i=v(a(38)),u=v(a(33)),d=v(a(28)),c=v(a(198)),f=v(a(39)),m=v(a(1475)),p=a(6),h=v(a(127)),_=v(a(199));function v(e){return e&&e.__esModule?e:{default:e}}t.default=(0,p.Page)(function(e,t){return{settings:"/api/admin/expenses/settings"}},function(e,t,a){return{title:"Report",collection:{endpoint:"/api/admin/expenses/reports/items",table:[{label:"ID",key:"item_id",visible:!1,collapsing:!0},{label:null,key:"type",primary:!0,collapsing:!0,format:o.CompactTypeToken},{label:"Date",key:"date",format:"date",collapsing:!0},{label:"User",key:"user.full_name",sort:"maha_users.last_name",primary:!0},{label:"Project",key:"project.title",sort:"expenses_projects.title",format:i.default},{label:"Description",key:"description"},{label:"Expense Type",key:"expense_type.title",sort:"expenses_expense_types.title",format:r.default},{label:"Vendor",key:"vendor.name",sort:"expenses_vendors.name",format:s.default},{label:"Account",key:"account.name",sort:"expenses_accounts.name"},{label:"Amount",key:"amount",primary:!0,format:"currency",collapsing:!0},{label:"Status",key:"status",sort:"expenses_statuses.text",format:h.default,collapsing:!0}].concat((0,n.default)((0,l.getIntegrationColumn)(a.settings.integration))),filters:[{label:"Type",name:"type",type:"select",multiple:!0,options:[{value:"expense",text:"Expense"},{value:"reimbursement",text:"Reimbursement"},{value:"check",text:"Check Request"},{value:"trip",text:"Mileage"},{value:"advance",text:"Cash Advance"}],format:o.TypeToken},{label:"Batch",name:"batch_id",type:"select",endpoint:"/api/admin/expenses/batches",value:"id",text:"title",format:m.default},{label:"User",name:"user_id",type:"select",multiple:!0,endpoint:"/api/admin/users",value:"id",text:"full_name",sort:{key:"last_name",order:"asc"},format:p.CompactUserToken},{label:"Projects",name:"project_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/projects",value:"id",text:"title",format:d.default},{label:"Expense Type",name:"expense_type_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/expense_types",value:"id",text:"title",format:u.default},{label:"Vendor",name:"vendor_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/vendors",value:"id",text:"name",format:f.default},{label:"Account",name:"account_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/accounts",value:"id",text:"name"},{label:"Date Range",name:"date",type:"daterange",include:["this","last"]},{label:"Status",name:"status_id",type:"select",multiple:!0,endpoint:"/api/admin/expenses/statuses",value:"id",text:"name",sort:"id",format:c.default}],export:[{label:"ID",key:"id"},{label:"Type",key:"type"},{label:"Date",key:"date"},{label:"User",key:"user.full_name"},{label:"Project",key:"project.title"},{label:"Expense Type",key:"expense_type.title"},{label:"Vendor",key:"vendor.name"},{label:"Account",key:"account.name"},{label:"Description",key:"description"},{label:"Amount",key:"amount"},{label:"Status",key:"status"}].concat((0,n.default)((0,l.getIntegrationExport)(a.settings.integration))),link:function(e){return"/admin/expenses/"+e.type+"s/"+e.item_id},defaultSort:{key:"created_at",order:"desc"},rowClass:function(e){return e.status},buttons:function(e){return e.selected.length>0?[(0,_.default)(t,e,"pink","review","reviewed","approved","/api/admin/expenses/items/review_all"),(0,l.getIntegrationTasks)(a.settings.integration,t,e)]:null},selectable:!0}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(1)),l=o(a(8)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.id,a=e.user,n=e.created_at;return r.default.createElement("div",{className:"token"},r.default.createElement("strong",null,"Batch #",t),r.default.createElement("br",null),a.full_name," on",(0,l.default)(n).format("MM/DD/YYYY"))};s.propTypes={created_at:n.default.object,id:n.default.number,user:n.default.object},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(89)),l=u(a(90)),r=a(6),o=u(a(1477)),s=u(a(0)),i=u(a(1478));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(function(e,t){return{settings:"/api/admin/expenses/settings",trip:"/api/admin/expenses/trips/"+e.params.id}},function(e,t,a,r){return{title:"Mileage",rights:["expenses:manage_expenses"],panel:{component:s.default.createElement(o.default,{trip:a.trip})},tasks:(0,l.default)("trip",a.trip,t,i.default),buttons:(0,n.default)(a.settings,"trip",a.trip,t)}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(7)),l=d(a(46)),r=d(a(38)),o=a(6),s=d(a(1)),i=d(a(0)),u=d(a(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,a,l){return u.default.isNil(u.default.get(t,a))?{label:e,content:"REQUIRED",className:"error"}:(0,n.default)({label:e,content:u.default.get(t,a)},l)},f=function(e){var t=e.trip,a=(e.commentUrl,{});return"incomplete"===t.status&&(a.alert={color:"grey",message:"This trip is missing required information"}),"pending"===t.status&&(a.alert={color:"teal",message:"This trip has not yet been submitted"}),"submitted"===t.status&&(a.alert={color:"blue",message:"This trip has been submitted for review"}),"approved"===t.status&&(a.alert={color:"green",message:"This trip has been approved"}),"rejected"===t.status&&(a.alert={color:"red",message:"This trip has been rejected"}),"reviewed"===t.status&&(a.alert={color:"pink",message:"This trip has been reviewed"}),"processed"===t.status&&(a.alert={color:"violet",message:"This trip was processed"}),a.items=[c("User",t,"user.full_name"),{label:"Date ",content:t.date,format:"date"},{label:"Description ",content:t.description},c("Project",t,"project.title",{content:t,format:r.default}),c("Expense Type",t,"expense_type.title",{content:t,format:l.default}),{label:"Time Leaving",content:t.time_leaving,format:"time|hh:mm A",empty:"NONE"},{label:"Time Arriving ",content:t.time_arriving,format:"time|hh:mm A",empty:"NONE"},c("Odometer Start",t,"odometer_start"),c("Odometer End",t,"odometer_end"),c("Total Miles",t,"total_miles",{units:"mi"}),c("Mileage Rate",t,"mileage_rate",{format:"number|$0.000"}),c("Amount",t,"amount",{format:"currency"})],a.items.push({component:i.default.createElement(o.Audit,{entries:t.audit})}),a.footer=i.default.createElement(o.Comments,{entity:"expenses_trips/"+t.id}),i.default.createElement(o.List,a)};f.propTypes={trip:s.default.object,commentUrl:s.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(28)),i=f(a(1)),u=a(6),d=f(a(8)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l.state={time_leaving:"0:00"},l._handleChangeField=l._handleChangeField.bind(l),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return c.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props,t=e.projectEndpoint,a=e.trip;return{title:"Edit Mileage",method:"patch",endpoint:"/api/admin/expenses/trips/"+a.id+"/edit",action:"/api/admin/expenses/trips/"+a.id,onChangeField:this._handleChangeField,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Date",name:"date",type:"datefield",required:!0,defaultValue:(0,d.default)().format("YYYY-MM-DD")},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Project",name:"project_id",type:"lookup",endpoint:t,value:"id",text:"title",format:s.default},{label:"Time Leaving",name:"time_leaving",type:"timefield",placeholder:"Time Leaving"},this._getTimeArriving(),{label:"Odometer Start",name:"odometer_start",type:"textfield",placeholder:"Odometer Start"},{label:"Odometer End",name:"odometer_end",type:"textfield",placeholder:"Odometer End"},{label:"Distance",name:"total_miles",type:"textfield",placeholder:"Total Miles"}]}]}}},{key:"_getTimeArriving",value:function(){return{label:"Time Arriving",name:"time_arriving",type:"timefield",start:this.state.time_leaving,duration:!0}}},{key:"_handleChangeField",value:function(e,t){"time_leaving"===e&&this.setState({time_leaving:t})}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.modal.close()}}]),t}(c.default.Component);m.contextTypes={modal:i.default.object},m.propTypes={projectEndpoint:i.default.string,trip:i.default.object},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(39)),l=a(6),r=u(a(1480)),o=u(a(1481)),s=u(a(0)),i=u(a(1482));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(function(e,t){return{settings:"/api/admin/expenses/settings"}},function(e,t,a,l){return{title:"Vendors",collection:{endpoint:"/api/admin/expenses/vendors",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Name",key:"name",primary:!0,format:n.default},{label:"Items",key:"items_count",primary:!0,collapsing:!0}],export:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Items",key:"items_count"}],link:function(e){return"/admin/expenses/reports?$filter[vendor_id][$in][0]="+e.id},recordTasks:[{label:"Merge Vendor",modal:function(e){return s.default.createElement(r.default,{id:e.id})}},{label:"Edit Vendor",modal:function(e){return s.default.createElement(o.default,{integration:a.settings.integration,id:e.id})}}],defaultSort:{key:"name",order:"asc"},entity:"vendor",icon:"shop",new:function(){return s.default.createElement(i.default,{integration:a.settings.integration})}},task:{label:"New Vendor",icon:"plus",modal:function(){return s.default.createElement(i.default,{integration:a.settings.integration})}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"Merge Vendors",method:"patch",action:"/api/admin/expenses/vendors/"+this.props.id+"/merge",onCancel:this._handleCancel,onSuccess:this._handleSuccess,saveText:"Merge",sections:[{fields:[{label:"Merge Into",name:"vendor_id",type:"lookup",endpoint:"/api/admin/expenses/vendors",value:"id",text:"name"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={id:i.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.id;return{title:"Edit Vendors",method:"patch",endpoint:"/api/admin/expenses/vendors/"+e+"/edit",action:"/api/admin/expenses/vendors/"+e,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Vendor ID",name:"integration.vendor_id",type:"textfield",required:!0}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={id:u.default.number,integration:u.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(10)),l=c(a(2)),r=c(a(3)),o=c(a(4)),s=c(a(5)),i=c(a(0)),u=c(a(1)),d=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Vendor",method:"post",action:"/api/admin/expenses/vendors",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Name",name:"name",type:"textfield"},{label:"Address 1",name:"address_1",type:"textfield"},{label:"Address 2",name:"address_2",type:"textfield"},{label:"City",name:"city",type:"textfield"},{label:"State",name:"state",type:"textfield"},{label:"Zip",name:"zip",type:"textfield"}]}].concat((0,n.default)(this._getIntegration()))}}},{key:"_getIntegration",value:function(){return"accpac"===this.props.integration?[{label:"ACCPAC Details",fields:[{label:"Vendor ID",name:"integration.vendor_id",type:"textfield",required:!0}]}]:[]}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);f.contextTypes={modal:u.default.object},f.propTypes={integration:u.default.string},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=d(a(1484)),r=d(a(1487)),o=d(a(1488)),s=d(a(1489)),i=d(a(1490)),u=d(a(1492));function d(e){return e&&e.__esModule?e:{default:e}}var c=new n.Routes([{path:"/assets",component:l.default},{path:"/assets/:id",component:r.default},{path:"/queues",component:o.default},{path:"/queues/:id",component:s.default},{path:"/teams",component:i.default},{path:"/teams/:id",component:u.default}]);t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1485)),r=o(a(1486));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(null,function(e,t,a,o){return{title:"Team",collection:{table:[{label:"Filename",key:"original_file_name",primary:!0,format:l.default},{label:"Uploaded By",key:"user.full_name",primary:!0},{label:"Status",key:"status",primary:!0},{label:"Created",key:"created_at",primary:!0}],filters:[{label:"User",name:"user_id",type:"select",endpoint:"/api/admin/platform/users",value:"id",text:"full_name",format:n.CompactUserToken},{label:"Team",name:"team_id",type:"select",endpoint:"/api/admin/platform/teams",value:"id",text:"title"},{label:"Source",name:"source_id",type:"select",endpoint:"/api/admin/profiles/sources",value:"id",text:"text",format:r.default},{label:"Status",name:"status_id",type:"select",options:[{value:1,text:"chunked"},{value:2,text:"assembled"},{value:3,text:"processed"}]}],endpoint:"/api/admin/platform/assets",entity:"asset",link:function(e){return"/admin/platform/assets/"+e.id},defaultSort:{key:"created_at",order:"desc"},recordTasks:[{label:"Reprocess Asset",request:function(e){return{method:"PATCH",endpoint:"/api/admin/platform/assets/"+e+"/reprocess",onFailure:function(e){return t.flash.set("error","Unable to reprocess out this asset")},onSuccess:function(e){return t.flash.set("success","The asset has been reprocessed")}}}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.original_file_name,a=e.source;return l.default.createElement("div",{className:"token"},l.default.createElement("img",{src:"/images/"+a+".png",width:"16",height:"16"}),t)};o.propTypes={original_file_name:n.default.string,source:n.default.string},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(1)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.text;return l.default.createElement("div",{className:"token"},l.default.createElement("img",{src:"/images/"+t+".png",width:"16",height:"16"}),t)};o.propTypes={text:n.default.string},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.asset;return r.default.createElement(n.AssetPreview,{asset:t,comments:!0})};s.propTypes={asset:l.default.object};t.default=(0,n.Page)(function(e,t){return{asset:"/api/admin/platform/assets/"+e.params.id}},function(e,t,a,n){return{title:"Asset Viewer",component:s}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Queues",collection:{table:[{label:"Name",key:"name",primary:!0},{label:"Total",key:"total",primary:!1},{label:"Active",key:"active",primary:!1},{label:"Wait",key:"wait",primary:!1},{label:"Failed",key:"failed",primary:!1},{label:"Completed",key:"completed",primary:!1},{label:"Delayed",key:"delayed",primary:!1}],endpoint:"/api/admin/platform/queues",entity:"queue",link:function(e){return"/admin/platform/queues/"+e.id},recordTasks:[{label:"Empty Queue",request:function(e){return{method:"PATCH",endpoint:"/api/admin/platform/queues/"+e+"/empty",onFailure:function(e){return t.flash.set("error","Unable to empty this queue")},onSuccess:function(e){return t.flash.set("success","The queue has been emptied")}}}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=(r(a(1)),r(a(0)));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){return l.default.createElement("div",null,"queue")};t.default=(0,n.Page)(function(e,t){return{asset:"/api/admin/platform/queues/"+e.params.id}},function(e,t,a,n){return{title:"Queue",component:o}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=function(e){return e&&e.__esModule?e:{default:e}}(a(1491));t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Team",collection:{table:[{label:"Title",key:"title",primary:!0}],endpoint:"/api/admin/platform/teams",entity:"users",link:function(e){return"/admin/platform/teams/"+e.id},defaultSort:{key:"title",order:"asc"}},task:{icon:"plus",modal:l.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(515)),i=c(a(1)),u=a(6),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Team",method:"post",action:"/api/admin/platform/teams",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Team Name",name:"subdomain",type:"textfield",required:!0}]},{label:"Administrative User",fields:[{label:"First Name",name:"first_name",type:"textfield",required:!0},{label:"Last Name",name:"last_name",type:"textfield",required:!0},{label:"Email",name:"email",type:"textfield",required:!0}]},{label:"Apps",fields:[{name:"app_ids",type:s.default,required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/platform/teams/"+e.id),this.context.modal.close()}}]),t}(d.default.Component);f.contextTypes={admin:i.default.object,modal:i.default.object,platform:i.default.object,router:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(0)),r=o(a(1493));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(function(e,t){return{team:"/api/admin/platform/teams/"+e.params.id}},function(e,t,a){return{title:a.team.title,tasks:{items:[{label:"Edit Team",modal:l.default.createElement(r.default,{team:a.team})}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.team;return{title:"Edit Team",method:"patch",endpoint:"/api/admin/platform/teams/"+e.id+"/edit",action:"/api/admin/platform/teams/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Team Name",name:"subdomain",type:"textfield",required:!0}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={team:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=C(a(1495)),r=C(a(1496)),o=C(a(1497)),s=C(a(1498)),i=C(a(1499)),u=C(a(1500)),d=C(a(1501)),c=C(a(1503)),f=C(a(1505)),m=C(a(1508)),p=C(a(1509)),h=C(a(1510)),_=C(a(1512)),v=C(a(1515)),y=C(a(1516)),g=C(a(1518)),b=C(a(1520)),E=C(a(1522)),k=C(a(1525));function C(e){return e&&e.__esModule?e:{default:e}}var S=new n.Routes([{path:"/apps",component:l.default},{path:"/apps/:id",component:r.default},{path:"/foobar",component:l.default},{path:"/activities",component:o.default},{path:"/email_templates",component:u.default},{path:"/email_templates/:id",component:d.default},{path:"/emails",component:s.default},{path:"/emails/:id",component:i.default},{path:"/groups",component:c.default},{path:"/groups/:id",component:f.default},{path:"/imports",component:m.default},{path:"/imports/:id",component:p.default},{path:"/roles",component:h.default},{path:"/roles/:id",component:_.default},{path:"/sessions",component:v.default},{path:"/settings",component:y.default},{path:"/supervisors",component:g.default},{path:"/supervisors/:id",component:b.default},{path:"/users",component:E.default},{path:"/users/:id",component:k.default}]);t.default=S},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(524)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.records;return d.default.createElement("div",{className:"reframe-list"},t.map(function(t,a){return d.default.createElement("div",{key:"app_"+a,className:"reframe-list-item maha-app-item"},d.default.createElement("div",{className:"reframe-list-item-content",onClick:e._handleClick.bind(e,t.id)},d.default.createElement(i.AppToken,t)),d.default.createElement("div",{className:"reframe-list-item-extra"},d.default.createElement(s.default,{app:t})),d.default.createElement("div",{className:"reframe-list-item-proceed"},d.default.createElement("i",{className:"fa fa-fw fa-chevron-right"})))}))}},{key:"_handleClick",value:function(e){this.context.router.push("/admin/team/apps/"+e)}}]),t}(d.default.Component);f.contextTypes={router:u.default.object},f.propTypes={records:u.default.array,status:u.default.string};t.default=(0,i.Page)(null,function(e,t,a,n){return{title:"Apps",rights:["team:manage_apps"],collection:{endpoint:"/api/admin/team/apps",entity:"app",filters:[{label:"Author",name:"app_author_id",type:"select",multiple:!0,endpoint:"/api/admin/team/apps/authors",value:"id",text:"name"},{label:"Category",name:"app_category_id",type:"select",multiple:!0,endpoint:"/api/admin/team/apps/categories",value:"id",text:"title"}],defaultSort:{key:"created_at",order:"desc"},layout:f}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(524)),i=a(6),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f={},m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.app;return d.default.createElement("div",{className:"maha-app-detail"},d.default.createElement("div",{className:"maha-app-detail-header "+e.color},d.default.createElement("i",{className:"fa fa-fw fa-"+e.icon})),d.default.createElement("div",{className:"maha-app-detail-body"},d.default.createElement(i.List,{items:this._getItems()})))}},{key:"_getItems",value:function(){var e=this.props.app;return[{label:"Title",content:e.title},{label:"Version",content:e.version},{label:"Author",content:e.author.name},{label:"Description",content:e.description},{label:"Category",content:e.category.title}]}}]),t}(d.default.Component);m.propTypes={app:u.default.object};t.default=(0,i.Page)(function(e,t){return{app:"/api/admin/team/apps/"+e.params.id}},function(e,t,a){var n=f[a.app.title]?[{label:"Edit Settings",modal:f[a.app.title],rights:["team:manage_apps"]}]:null;return{title:a.app.title,component:m,color:a.app.color,rights:["team:manage_apps"],tasks:n,footer:[d.default.createElement(s.default,{app:a.app,key:"install"})]}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(7)),l=o(a(0)),r=a(6);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.Page)(null,function(e,t,a,o){return{title:"Activities",rights:["team:manage_team"],collection:{endpoint:"/api/admin/team/activities",filters:[{label:"User",name:"user_id",type:"select",multiple:!0,endpoint:"/api/admin/team/users",value:"id",text:"full_name",sort:{key:"last_name",order:"asc"},format:r.CompactUserToken},{label:"App",name:"app_id",type:"select",multiple:!0,endpoint:"/api/admin/team/apps",value:"id",text:"title",sort:{key:"title",order:"asc"},format:r.AppToken},{label:"Date Range",name:"created_at",type:"daterange",include:["this","last"]}],export:[{label:"ID",key:"id"},{label:"Date",key:"created_at"},{label:"User",key:"user.full_name"},{label:"App",key:"app.title"},{label:"Description",key:"description"}],icon:"bolt",empty:"We have not yet recorded any activities",entity:"activity",defaultSort:{key:"created_at",order:"desc"},layout:function(e){return l.default.createElement(r.Feed,(0,n.default)({},e,{onClick:function(e){return t.router.push(e.url)}}))}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(1)),l=a(6),r=s(a(8)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.sent_at,a=e.subject,n=e.to,l=e.was_opened;return o.default.createElement("div",{className:"email-token"},o.default.createElement("div",{className:"email-token-icon"},l&&o.default.createElement("i",{className:"fa fa-fw fa-envelope-open"}),!l&&o.default.createElement("i",{className:"fa fa-fw fa-envelope"})),o.default.createElement("div",{className:"email-token-details"},o.default.createElement("small",null,u(t)),o.default.createElement("br",null),o.default.createElement("strong",null,n.match(/([^<]*).*/)[1]),o.default.createElement("br",null),a))};i.propTypes={sent_at:n.default.object,subject:n.default.string,to:n.default.string,was_opened:n.default.object};var u=function(e){if(!e)return"NOT SENT";var t=(0,r.default)(e);return t.isSame((0,r.default)(),"d")?t.format("h:mm A"):t.isSame((0,r.default)().subtract(1,"day"),"d")?"Yesterday":t.format("MMM D, YYYY")};t.default=(0,l.Page)(null,function(e,t,a,n){return{title:"Sent Mail",rights:["team:manage_team"],collection:{endpoint:"/api/admin/team/emails",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"To",key:"to",visible:!1},{label:"Subject",key:"subject",primary:!0,format:i},{label:"Status",key:"status",visible:!1},{label:"Sent At",key:"sent_at",visible:!1}],export:[{label:"ID",key:"id"},{label:"To",key:"to"},{label:"Subject",key:"subject"},{label:"Status",key:"status"},{label:"Sent At",key:"sent_at"}],icon:"envelope",entity:"email",filters:[{label:"User",name:"user_id",type:"select",multiple:!0,endpoint:"/api/admin/team/users",value:"id",text:"full_name",sort:{key:"last_name",order:"asc"}},{label:"Sent",name:"sent_at",type:"daterange",include:["this","last"]}],link:function(e){return"/admin/team/emails/"+e.id},defaultSort:{key:"created_at",order:"desc"}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(1)),i=a(6),u=c(a(8)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.email,t=e.html;return d.default.createElement("div",{className:"email-canvas"},d.default.createElement("div",{className:"email"},d.default.createElement("div",{className:"email-header"},d.default.createElement("div",{className:"email-header-avatar"},d.default.createElement(i.Avatar,{user:e.user})),d.default.createElement("div",{className:"email-header-details"},d.default.createElement("strong",null,"To:")," ",e.to,d.default.createElement("br",null),d.default.createElement("strong",null,"Subject:")," ",e.subject)),d.default.createElement("div",{className:"email-body",dangerouslySetInnerHTML:{__html:t}}),d.default.createElement("div",{className:"email-feed"},e.sent_at&&d.default.createElement("div",{className:"email-feed-item"},d.default.createElement("div",{className:"email-feed-item-icon"},d.default.createElement("div",{className:"email-feed-item-icon-badge"},d.default.createElement("i",{className:"fa fa-fw fa-paper-plane"}))),d.default.createElement("div",{className:"email-feed-item-content"},d.default.createElement("strong",null,(0,u.default)(e.sent_at).format("MMM D, YYYY @ h:mm:ss A")),d.default.createElement("br",null),"email was sent")),e.activities.map(function(e,t){return d.default.createElement("div",{className:"email-feed-item",key:"feed_item_"+t},d.default.createElement("div",{className:"email-feed-item-icon"},d.default.createElement("div",{className:"email-feed-item-icon-badge"},"open"===e.type&&d.default.createElement("i",{className:"fa fa-fw fa-envelope-open"}),"click"===e.type&&d.default.createElement("i",{className:"fa fa-fw fa-mouse-pointer"}))),d.default.createElement("div",{className:"email-feed-item-content"},d.default.createElement("strong",null,(0,u.default)(e.created_at).format("MMM D, YYYY @ h:mm:ss A")),d.default.createElement("br",null),"open"===e.type&&"opened email","click"===e.type&&"clicked the link "+e.link.text))}))))}}]),t}(d.default.Component);f.propTypes={email:s.default.object};t.default=(0,i.Page)(function(e,t){return{email:"/api/admin/team/emails/"+e.params.id}},function(e,t,a,n){return{title:a.email.subject,rights:["team:manage_team"],component:f,tasks:{items:[{label:"Resend Email",rights:["team:manage_team"],show:!0!==a.email.was_opened,request:{method:"PATCH",endpoint:"/api/admin/team/emails/"+a.email.id+"/resend",onFailure:function(e){t.flash.set("error","Unable to resend email")},onSuccess:function(e){t.flash.set("success","The email was successfully resent")}}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=(0,n.Page)(null,function(e,t,a,l){return{title:"Emails",rights:["team:manage_team"],collection:{endpoint:"/api/admin/team/email_templates",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Name",key:"name",primary:!0},{label:"Code",key:"code",visible:!1},{label:"Subject",key:"subject",visible:!1}],export:[{label:"ID",key:"id"},{label:"Name",key:"name"},{label:"Code",key:"code"},{label:"Subject",key:"subject"}],entity:"email",icon:"envelope",filters:[{label:"App",name:"app_id",type:"select",multiple:!0,endpoint:"/api/admin/team/apps",value:"id",text:"title",sort:{key:"title",order:"asc"},format:n.AppToken}],link:function(e){return"/admin/team/email_templates/"+e.id},defaultSort:{key:"name",order:"asc"}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=f(a(0)),i=f(a(1)),u=a(6),d=f(a(1502)),c=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.email_template,t=c.default.template(e.layout,{interpolate:/<%=([\s\S]+?)%>/g})({content:e.html});return s.default.createElement("div",{className:"email-canvas"},s.default.createElement("div",{className:"email"},s.default.createElement("div",{className:"email-header"},s.default.createElement("strong",null,"Name:")," ",e.name,s.default.createElement("br",null),s.default.createElement("strong",null,"Subject:")," ",e.subject),s.default.createElement("div",{className:"email-body",dangerouslySetInnerHTML:{__html:t}})))}}]),t}(s.default.Component);m.propTypes={email_template:i.default.object};t.default=(0,u.Page)(function(e,t){return{email_template:"/api/admin/team/email_templates/"+e.params.id}},function(e,t,a,n){return{title:a.email_template.name,component:m,rights:["team:manage_team"],tasks:{items:[{label:"Edit Email Template",modal:function(e){return s.default.createElement(d.default,{emailTemplate:a.email_template})},rights:["team:manage_team"]}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.emailTemplate;return{title:"Edit Email Template",method:"patch",endpoint:"/api/admin/team/email_templates/"+e.id,action:"/api/admin/team/email_templates/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Subject",name:"subject",type:"textfield"},{label:"Body",name:"body",type:"textarea",rows:12}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={emailTemplate:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=function(e){return e&&e.__esModule?e:{default:e}}(a(1504));t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Groups",rights:["team:manage_people"],collection:{endpoint:"/api/admin/team/groups",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"}],empty:"You have not yet created any groups",entity:"group",icon:"sitemap",link:function(e){return"/admin/team/groups/"+e.id},new:l.default,defaultSort:{key:"title",order:"asc"}},task:{label:"New Group",icon:"plus",modal:l.default,rights:["team:manage_people"]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Group",method:"post",action:"/api/admin/team/groups",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/team/groups/"+e.id),this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object,router:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=i(a(1)),r=i(a(1506)),o=i(a(1507)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.group,a=e.users,l={items:a.map(function(e,t){return{content:e,component:n.UserToken}}),empty:{icon:"user-circle",title:"No users",text:"This group has not been assigned to any users",button:{label:"Assign Users",modal:s.default.createElement(r.default,{group:t,users:a})}}};return s.default.createElement(n.List,l)};u.propTypes={group:l.default.object,users:l.default.array};t.default=(0,n.Page)(function(e,t){return{group:"/api/admin/team/groups/"+e.params.id,users:"/api/admin/team/groups/"+e.params.id+"/users"}},function(e,t,a,n){return{title:a.group.title,rights:["team:manage_people"],panel:{component:s.default.createElement(u,{group:a.group,users:a.users})},tasks:{items:[{label:"Edit Group",modal:s.default.createElement(o.default,{group:a.group}),rights:["team:manage_people"]},{label:"Manage Users",modal:s.default.createElement(r.default,{group:a.group,users:a.users}),rights:["team:manage_people"]}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props.group;return{action:"/api/admin/team/groups/"+e.id+"/users",assignedEndpoint:"/api/admin/team/groups/"+e.id+"/users",assignedFormat:s.CompactUserToken,empty:{icon:"users",title:"Add users",text:"Please add users to this group"},label:"User",text:"full_name",title:"Manage Users",unassignedEndpoint:"/api/admin/users",unassignedFormat:s.CompactUserToken,value:"id"}}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={group:i.default.object,users:i.default.array},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(1)),i=a(6),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(i.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.group;return{title:"Edit Group",method:"patch",endpoint:"/api/admin/team/groups/"+e.id,action:"/api/admin/team/groups/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield"}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(u.default.Component);c.contextTypes={modal:s.default.object},c.propTypes={group:s.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.asset,a=e.name;return r.default.createElement("div",{className:"token"},a||t.original_file_name)};s.propTypes={asset:l.default.object,name:l.default.string};t.default=(0,n.Page)(null,function(e,t,a,n){return{title:"Imports",rights:["team:manage_people"],collection:{endpoint:"/api/admin/team/imports",table:[{label:"Name",key:"name",primary:!0,format:s},{label:"Table",key:"object_type"},{label:"User",key:"user.full_name"},{label:"Stage",key:"stage"}],empty:"There are no imports from your team",entity:"import",icon:"upload",link:function(e){return"/admin/team/imports/"+e.id},defaultSort:{key:"created_at",order:"desc"}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),l=a(6);t.default=(0,l.Page)(function(e,t){return{group:"/api/admin/team/imports/"+e.params.id}},function(e,t,a,l){return{title:a.import.name||a.import.asset.original_file_name,rights:[],component:n.default.createElement("div",null,"Foo"),tasks:{items:[{label:"Delete Import",handler:function(){}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(129)),l=a(6),r=o(a(1511));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.Page)(null,function(e,t,a,l){return{title:"Roles",rights:["team:manage_people"],collection:{endpoint:"/api/admin/team/roles",table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Title",key:"title",primary:!0,RoleToken:n.default}],export:[{label:"ID",key:"id"},{label:"Title",key:"title"}],empty:"You have not yet created any roles",entity:"role",icon:"protect",link:function(e){return"/admin/team/roles/"+e.id},new:r.default,recordActions:[{label:"edit",icon:"edit",redirect:"/admin/team/users/#{id}/edit"}],defaultSort:{key:"title",order:"asc"}},task:{label:"New Role",icon:"plus",modal:r.default,rights:["team:manage_people"]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(6),d=c(a(194));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){return{title:"New Role",method:"post",action:"/api/admin/team/roles",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Access",name:"assignments",type:d.default}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/team/roles/"+e.id),this.context.modal.close()}}]),t}(s.default.Component);f.contextTypes={modal:i.default.object,router:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=i(a(1)),r=i(a(1513)),o=i(a(1514)),s=i(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.role,a=[{label:"Title ",content:t.title},{label:"Description ",content:t.description}];return s.default.createElement(n.List,{items:a})};u.propTypes={role:l.default.object};var d=function(e){var t=e.role,a=e.users,l={items:a.map(function(e,t){return{content:e,component:n.UserToken}}),empty:{icon:"user-circle",title:"No users",text:"This role has not been assigned to any users",button:{label:"Assign Users",modal:function(e){return s.default.createElement(r.default,{role:t,users:a})}}}};return s.default.createElement(n.List,l)};d.propTypes={role:l.default.object,users:l.default.array};var c=function(e){var t=e.access.map(function(e,t){return{content:e.installed?null:"This role doesn't have access to this app",empty:e.installed?"This app doesn't have any rights":null,items:e.installed?e.rights.map(function(e,t){return{icon:e.assigned?"check":"time",content:s.default.createElement("span",null,s.default.createElement("strong",null,e.text),s.default.createElement("br",null),e.description)}}):[],title:s.default.createElement(n.AppToken,e)}});return s.default.createElement(n.List,{className:"app-access",sections:t})};c.propTypes={access:l.default.array};t.default=(0,n.Page)(function(e,t){return{role:"/api/admin/team/roles/"+e.params.id,users:"/api/admin/team/roles/"+e.params.id+"/users",access:"/api/admin/team/roles/"+e.params.id+"/access"}},function(e,t,a,n){return{title:a.role.title,rights:["team:manage_people"],tabs:{items:[{label:"Details",component:s.default.createElement(u,{role:a.role})},{label:"Users",component:s.default.createElement(d,{role:a.role,users:a.users})},{label:"Access",component:s.default.createElement(c,{access:a.access})}]},tasks:{items:[{label:"Edit Role",modal:function(e){return s.default.createElement(o.default,{role:a.role})},rights:["team:manage_people"]},{label:"Manage Users",modal:function(e){return s.default.createElement(r.default,{role:a.role,users:a.users})},rights:["team:manage_people"]}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.Assignment,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props.role;return{action:"/api/admin/team/roles/"+e.id+"/users",assignedEndpoint:"/api/admin/team/roles/"+e.id+"/users",assignedFormat:s.CompactUserToken,empty:{icon:"users",title:"Add users",text:"Please add users to this role"},label:"User",text:"full_name",title:"Manage Users",unassignedEndpoint:"/api/admin/users",unassignedFormat:s.CompactUserToken,value:"id"}}}]),t}(u.default.Component);c.propTypes={role:i.default.object,users:i.default.array},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(0)),i=c(a(1)),u=a(6),d=c(a(194));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.role;return{title:"Edit Role",method:"patch",endpoint:"/api/admin/team/roles/"+e.id,action:"/api/admin/team/roles/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",required:!0},{label:"Description",name:"description",type:"textfield",required:!0},{label:"Access",name:"assignments",type:d.default}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);f.contextTypes={modal:i.default.object},f.propTypes={role:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(7)),l=a(6),r=s(a(1)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.user;return o.default.createElement(l.CompactUserToken,(0,n.default)({},t,{presence:!1}))};i.propTypes={user:r.default.object};t.default=(0,l.Page)(null,function(e,t,a,n){return{title:"Sessions",rights:["team:manage_people"],collection:{endpoint:"/api/admin/team/sessions",table:[{label:"User",key:"user",format:i,primary:!0},{label:"Device",key:"device.device_type",sort:"device_types.text"},{label:"OS",key:"device.os_name",sort:"os_names.text"},{label:"Browser",key:"device.browser_name",sort:"browser_names.text"},{label:"Push",key:"device.is_push_enabled",format:"check"},{label:"Last Active",key:"last_online_at",format:l.PresenceToken,primary:!0}],filters:[{label:"Device Type",name:"maha_devices.device_type_id",type:"select",endpoint:"/api/admin/team/device_values/device_types",value:"id",text:"text",sort:{key:"text",order:"asc"}},{label:"OS",name:"maha_devices.os_name_id",type:"select",endpoint:"/api/admin/team/device_values/os_names",value:"id",text:"text",sort:{key:"text",order:"asc"}},{label:"Browser",name:"maha_devices.browser_name_id",type:"select",endpoint:"/api/admin/team/device_values/browser_names",value:"id",text:"text",sort:{key:"text",order:"asc"}},{label:"User",name:"user_id",type:"select",endpoint:"/api/admin/users",value:"id",text:"full_name",sort:{key:"last_name",order:"asc"},format:l.CompactUserToken}],defaultSort:{key:"last_active_at",order:"desc"}}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=s(a(1)),r=s(a(1517)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.team,a=[{label:"Title ",content:t.title},{label:"Team Name ",content:t.subdomain}];return o.default.createElement(n.List,{items:a})};i.propTypes={team:l.default.object};t.default=(0,n.Page)(function(e,t){return{team:"/api/admin/team/settings"}},function(e,t,a,l){return{title:a.team.title,rights:["team:manage_team"],tabs:{header:o.default.createElement(n.Logo,{team:a.team,width:"120"}),items:[{label:"Details",component:o.default.createElement(i,{team:a.team})}]},tasks:{items:[{label:"Edit Settings",modal:r.default,rights:["team:manage_team"]}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleCancel=l._handleCancel.bind(l),l._handleSuccess=l._handleSuccess.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context.admin.team.token;return{title:"Edit Team",method:"patch",endpoint:"/api/admin/team/settings",action:"/api/admin/team/settings",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"Title",name:"title",type:"textfield",placeholder:"Title",required:!0},{label:"Team Name",name:"subdomain",type:"textfield",placeholder:"Subdomain",required:!0},{label:"Logo",name:"logo_id",type:"filefield",prompt:"Choose Logo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:e,multiple:!1}]}]}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(s.default.Component);c.contextTypes={admin:i.default.object,modal:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=function(e){return e&&e.__esModule?e:{default:e}}(a(1519));t.default=(0,n.Page)(null,function(e,t){return{title:"Supervisors",collection:{endpoint:"/api/admin/team/supervisors",table:[{label:"Name",key:"maha_users.last_name",primary:!0,format:n.CompactUserToken}],defaultSort:{key:"maha_users.last_name",order:"asc"},entity:"supervisor",icon:"user-circle",link:function(e){return"/admin/team/supervisors/"+e.id},new:l.default},task:{icon:"plus",modal:l.default}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=a(6),i=d(a(1)),u=d(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return u.default.createElement(s.Assignment2,this._getAssignment())}},{key:"_getAssignment",value:function(){return{action:"/api/admin/team/supervisors",method:"POST",endpoint:"/api/admin/team/supervisors/all",multiple:!1,name:"user_id",value:"id",text:"full_name",format:s.CompactUserToken,filters:[{label:"Group",name:"group_id",type:"select",multiple:!0,endpoint:"/api/admin/team/groups",value:"id",text:"title",sort:{key:"title",order:"asc"}}],title:"Choose Supervisor"}}}]),t}(u.default.Component);c.contextTypes={modal:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=s(a(1521)),r=s(a(1)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.supervisor,a=e.employees,r={items:a.map(function(e){return{content:e,component:n.CompactUserToken}}),empty:{icon:"user-circle",title:"No employees",text:"No employees have been assigned to this supervisor",button:{label:"Manage Employees",modal:o.default.createElement(l.default,{supervisor:t,employees:a})}}};return o.default.createElement(n.List,r)};i.propTypes={employees:r.default.array,supervisor:r.default.object};t.default=(0,n.Page)(function(e,t){return{supervisor:"/api/admin/team/supervisors/"+e.params.id,employees:"/api/admin/team/supervisors/"+e.params.id+"/employees"}},function(e,t,a){return{title:a.supervisor.full_name,tabs:{header:o.default.createElement(n.Avatar,{user:a.supervisor,width:"120"}),items:[{label:"Employees",component:o.default.createElement(i,{supervisor:a.supervisor,employees:a.employees})}]},tasks:{items:[{label:"Manage Employees",modal:o.default.createElement(l.default,{supervisor:a.supervisor,employees:a.employees})}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(2)),l=d(a(3)),r=d(a(4)),o=d(a(5)),s=d(a(0)),i=d(a(1)),u=a(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return s.default.createElement(u.Assignment2,this._getAssignment())}},{key:"_getAssignment",value:function(){var e=this.props,t=e.supervisor,a=e.employees;return{action:"/api/admin/team/supervisors/"+t.id+"/employees",defaultValue:a.map(function(e){return e.id}),endpoint:"/api/admin/team/supervisors/"+t.id+"/employees/all",filters:[{label:"Group",name:"group_id",type:"select",multiple:!0,endpoint:"/api/admin/team/groups",value:"id",text:"title",sort:{key:"title",order:"asc"}}],label:"employee",multiple:!0,format:u.CompactUserToken,text:"full_name",title:"Manage Employees",value:"id"}}}]),t}(s.default.Component);c.contextTypes={modal:i.default.object},c.propTypes={employees:i.default.array,supervisor:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=s(a(1523)),r=s(a(1524)),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.Page)(null,function(e,t,a,s){return{title:"Users",rights:["team:manage_people"],collection:{table:[{label:"ID",key:"id",visible:!1,collapsing:!0},{label:"Name",key:"last_name",primary:!0,format:n.CompactUserToken},{label:"Email",key:"email"}],endpoint:"/api/admin/team/users",entity:"user",export:[{label:"ID",key:"id"},{label:"First Name",key:"first_name"},{label:"Last Name",key:"last_name"},{label:"Email",key:"email"}],filters:[{label:"Group",name:"group_id",type:"select",endpoint:"/api/admin/team/groups",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"Role",name:"role_id",type:"select",endpoint:"/api/admin/team/roles",value:"id",text:"title",sort:{key:"title",order:"asc"}},{label:"App",name:"app_id",type:"select",endpoint:"/api/admin/team/apps",value:"id",text:"title",sort:{key:"title",order:"asc"},format:n.AppToken},{label:"Active",name:"is_active",type:"select",options:[{value:"1",text:"Active"},{value:"0",text:"Inactive"}]}],link:function(e){return"/admin/team/users/"+e.id},defaultSort:{key:"last_name",order:"asc"}},tasks:{icon:"plus",rights:["team:manage_people"],items:[{label:"Add User",modal:function(){return o.default.createElement(l.default,null)}},{label:"Import Users",modal:function(){return o.default.createElement(n.Import,{table:"maha_users",fields:[{label:"First Name",name:"first_name",type:"textfield"},{label:"Last Name",name:"last_name",type:"textfield"},{label:"Email",name:"email",type:"textfield",required:!0},{label:"Photo",name:"photo_id",type:"integer"}],primaryKey:"email",rules:{email:["required","email"]},destination:function(e){return"/admin/team/users?$filter[import_id][$in]="+e},defaultParams:{values:{}},defaultMapping:[{field:"first_name",header:"First Name",type:"text",relation:null},{field:"last_name",header:"Last Name",type:"text",relation:null},{field:"email",header:"Email",type:"text",relation:null},{field:"photo_id",header:"Photo",type:"upload",relation:null}],finalizeComponent:r.default})}}]}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(10)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=m(a(0)),u=m(a(1)),d=a(6),c=m(a(129)),f=m(a(201));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.context,t=e.admin,a=e.platform,l=t.team.token;return{title:"New User",method:"post",action:"/api/admin/team/users",onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"First Name",name:"first_name",type:"textfield",required:!0},{label:"Last Name",name:"last_name",type:"textfield",required:!0},{label:"Email",name:"email",type:"textfield",required:!0},{label:"Secondary Email",name:"secondary_email",type:"textfield"},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:l,multiple:!1},{label:"Roles",name:"role_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/roles",value:"id",text:"title",format:c.default},{label:"Groups",name:"group_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/groups",value:"id",text:"title",format:f.default},{label:"Supervisors",name:"supervisor_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/supervisors",value:"user_id",text:"full_name",format:d.CompactUserToken}]}].concat((0,n.default)(a.appUserFields.reduce(function(e,t){return[].concat((0,n.default)(e),(0,n.default)(t))},[])))}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(e){this.context.router.push("/admin/team/users/"+e.id),this.context.modal.close()}}]),t}(i.default.Component);p.contextTypes={admin:u.default.object,modal:u.default.object,platform:u.default.object,router:u.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(2)),l=f(a(3)),r=f(a(4)),o=f(a(5)),s=a(6),i=f(a(129)),u=f(a(201)),d=f(a(1)),c=f(a(0));function f(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleDone=l._handleDone.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.import;return c.default.createElement("div",{className:"user-import-finalize"},e&&c.default.createElement(s.Form,this._getForm()))}},{key:"componentDidMount",value:function(){}},{key:"_getForm",value:function(){var e=this.context,t=e.admin;e.platform,t.team.token;return{title:"Finalize User Import",instructions:"Set some additional information about each of the users you just imported",method:"patch",action:"/api/admin/team/users/import/"+this.props.import.id+"/finalize",cancelText:null,saveText:"Next",onSuccess:this._handleDone,sections:[{fields:[{label:"Roles",name:"role_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/roles",value:"id",text:"title",format:i.default},{label:"Groups",name:"group_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/groups",value:"id",text:"title",format:u.default},{label:"Supervisors",name:"supervisor_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/supervisors",value:"user_id",text:"full_name",format:s.CompactUserToken}]}]}}},{key:"_handleDone",value:function(){(0,this.props.onDone)(this.props.import)}}]),t}(c.default.Component);m.contextTypes={admin:d.default.object,modal:d.default.object,platform:d.default.object},m.PropTypes={import:d.default.object,status:d.default.string,onDone:d.default.func},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(10)),l=a(6),r=i(a(1)),o=i(a(0)),s=i(a(1526));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.user,a=e.appUserValues,r={sections:[{items:[{label:"Email",content:t.email},{label:"Secondary Email",content:t.secondary_email},{label:"Notifications",content:t.notification_method},{label:"Roles",content:t.roles.map(function(e){return e.title}).join(", ")},{label:"Groups",content:t.groups.map(function(e){return e.title}).join(", ")},{label:"Supervisors",content:t.supervisors.map(function(e){return e.full_name}).join(", ")}]}].concat((0,n.default)(a.reduce(function(e,a){return[].concat((0,n.default)(e),(0,n.default)(a(t)))},[])))};return t.activated_at?t.is_active||(r.alert={color:"red",message:"This user has been disabled"}):r.alert={color:"grey",message:"This user hasn't yet activated their account"},o.default.createElement(l.List,r)};u.propTypes={appUserValues:r.default.array,user:r.default.object};var d=function(e){var t=e.access.map(function(e,t){return{content:e.installed?null:"This user doesn't have access to this app",empty:e.installed?"This app doesn't have any rights":null,items:e.installed?e.rights.map(function(e,t){return{icon:e.assigned?"check":"times",content:o.default.createElement("span",null,o.default.createElement("strong",null,e.text),o.default.createElement("br",null),e.description)}}):[],title:o.default.createElement(l.AppToken,e)}});return o.default.createElement(l.List,{className:"app-access",sections:t})};d.propTypes={access:r.default.array};t.default=(0,l.Page)(function(e,t){return{user:"/api/admin/team/users/"+e.params.id,access:"/api/admin/team/users/"+e.params.id+"/access"}},function(e,t,a){return{title:a.user.full_name,rights:["team:manage_people"],tabs:{header:o.default.createElement(l.Avatar,{user:a.user,width:"120",presence:!1}),items:[{label:"Details",component:o.default.createElement(u,{user:a.user,appUserValues:t.platform.appUserValues})},{label:"Access",component:o.default.createElement(d,{access:a.access})}]},tasks:{items:[{label:"Edit User",modal:function(e){return o.default.createElement(s.default,{user:a.user})},rights:["team:manage_people"]},{label:"Disable User",rights:["team:manage_people"],show:null!==a.user.activated_at&&a.user.is_active,request:{method:"PATCH",endpoint:"/api/admin/team/users/"+a.user.id+"/disable",onFailure:function(e){return t.flash.set("error","Unable to disable this user")}}},{label:"Enable User",rights:["team:manage_people"],show:null!==a.user.activated_at&&!a.user.is_active,request:{method:"PATCH",endpoint:"/api/admin/team/users/"+a.user.id+"/enable",onFailure:function(e){return t.flash.set("error","Unable to enable this user")}}},{label:"Resend Activation Email",rights:["team:manage_people"],show:null===a.user.activated_at,request:{method:"PATCH",endpoint:"/api/admin/team/users/"+a.user.id+"/activate",onFailure:function(e){return t.flash.set("error","Unable to resend activation")},onSuccess:function(e){return t.flash.set("success","An activation email has been resent to "+a.user.email)}}}].concat((0,n.default)(t.platform.appUserTasks.reduce(function(e,l){return[].concat((0,n.default)(e),(0,n.default)(l(a.user,t)))},[])),[{label:"Reset Password",rights:["team:manage_people"],show:a.user.is_active&&null!==a.user.activated_at,request:{method:"PATCH",endpoint:"/api/admin/team/users/"+a.user.id+"/reset",onFailure:function(e){return t.flash.set("error","Unable to reset the users password")},onSuccess:function(e){return t.flash.set("success","A reset email has been sent to "+a.user.email)}}},{label:"Sign Out of All Devices",rights:["team:manage_people"],show:a.user.is_active&&null!==a.user.activated_at,request:{method:"PATCH",endpoint:"/api/admin/team/users/"+a.user.id+"/signout",onFailure:function(e){return t.flash.set("error","Unable to sign out this user")},onSuccess:function(e){return t.flash.set("success","The user has been signed out of all devices")}}}])}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(10)),l=m(a(2)),r=m(a(3)),o=m(a(4)),s=m(a(5)),i=m(a(0)),u=m(a(1)),d=a(6),c=m(a(129)),f=m(a(201));function m(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=n=(0,o.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n._handleCancel=n._handleCancel.bind(n),n._handleSuccess=n._handleSuccess.bind(n),r=a,(0,o.default)(n,r)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return i.default.createElement(d.Form,this._getForm())}},{key:"_getForm",value:function(){var e=this.props.user,t=this.context,a=t.admin,l=t.platform,r=a.team.token;return{title:"Edit User",method:"patch",endpoint:"/api/admin/team/users/"+e.id+"/edit",action:"/api/admin/team/users/"+e.id,onCancel:this._handleCancel,onSuccess:this._handleSuccess,sections:[{fields:[{label:"First Name",name:"first_name",type:"textfield",required:!0},{label:"Last Name",name:"last_name",type:"textfield",required:!0},{label:"Email",name:"email",type:"textfield",required:!0},{label:"Secondary Email",name:"secondary_email",type:"textfield"},{label:"Notification Method",name:"notification_method_id",type:"lookup",endpoint:"/api/admin/notification_methods",value:"id",text:"title"},{label:"Photo",name:"photo_id",type:"filefield",prompt:"Choose Photo",action:"/api/admin/assets/upload",endpoint:"/api/admin/assets",token:r,multiple:!1},{label:"Roles",name:"role_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/roles",value:"id",text:"title",format:c.default},{label:"Groups",name:"group_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/groups",value:"id",text:"title",format:f.default},{label:"Supervisors",name:"supervisor_ids",type:"lookup2",multiple:!0,endpoint:"/api/admin/team/supervisors",value:"user_id",text:"full_name",format:d.CompactUserToken}]}].concat((0,n.default)(l.appUserFields.reduce(function(e,t){return[].concat((0,n.default)(e),(0,n.default)(t))},[])))}}},{key:"_handleCancel",value:function(){this.context.modal.close()}},{key:"_handleSuccess",value:function(){this.context.modal.close()}}]),t}(i.default.Component);p.contextTypes={admin:u.default.object,platform:u.default.object,modal:u.default.object},p.propTypes={user:u.default.object},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=i(a(1528)),r=i(a(1529)),o=i(a(1530)),s=i(a(1531));function i(e){return e&&e.__esModule?e:{default:e}}var u=new n.Routes([{path:"/assets/:id/info",component:r.default},{path:"/assets/:id",component:l.default},{path:"/search",component:o.default},{path:"/notifications",component:s.default}]);t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.asset;return r.default.createElement(n.AssetPreview,{asset:t,comments:!0})};s.propTypes={asset:l.default.object};t.default=(0,n.Page)(function(e,t){return{asset:"/api/admin/assets/"+e.params.id}},function(e,t,a,n){return{title:"Asset Viewer",component:s,task:{icon:"info-circle",route:"/assets/"+e.params.id+"/info"}}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),l=o(a(1)),r=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.asset;return r.default.createElement(n.AssetInfo,{asset:t})};s.propTypes={asset:l.default.object};t.default=(0,n.Page)(function(e,t){return{asset:"/api/admin/assets/"+e.params.id}},function(e,t,a,n){return{title:"Asset Info",component:s}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(195)),l=a(6);t.default=(0,l.Page)(null,function(e,t,a){return{title:"Search",component:n.default}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(525)),l=a(6);t.default=(0,l.Page)(null,function(e,t,a){return{title:"Notifications",component:n.default}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(1533));function l(e){return e&&e.__esModule?e:{default:e}}var r=[{sidebar:l(a(1535)).default,route:"/admin/chat",component:n.default}];t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(20),i=a(1534),u=c(a(1)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleNotification=l._handleNotification.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props.count;return d.default.createElement("div",{className:"maha-badge",title:e+" unread"},e>0&&d.default.createElement("div",{className:"maha-badge-label"},e>99?"99+":e),d.default.createElement("i",{className:"fa fa-fw fa-comment"}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.count;t!==e.count&&this.context.admin.updateUnseen(t-e.count),t>e.count&&"pending"!==e.unread_status&&this._handleNotification()}},{key:"_handleNotification",value:function(){new Audio("/admin/audio/message.mp3").play()}}]),t}(d.default.Component);f.contextTypes={admin:u.default.object},f.propTypes={count:u.default.number,unread_status:u.default.string};t.default=(0,s.connect)(function(e,t){return{count:(0,i.count)(e,t),unread_status:e.chat.root.unread_status}})(f)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var n=a(12);t.count=(0,n.createSelector)(function(e,t){return e.chat.root.unread},function(e){return Object.values(e).reduce(function(e,t){return e+t},0)})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(518),l=a(20),r=function(e){return e&&e.__esModule?e:{default:e}}(a(498));t.default=(0,l.connect)(function(e,t){return{channels:(0,n.channels)(e,t),status:e.chat.root.channels_status}})(r.default)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[]},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(1538));function l(e){return e&&e.__esModule?e:{default:e}}var r=[{icon:"bell",sidebar:l(a(1539)).default,route:"/admin/notifications",channel:"/admin/notifications/unread",sound:"/admin/audio/notification.mp3"},{icon:"search",sidebar:n.default,route:"/admin/search"}];t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=a(24),i=c(a(1)),u=c(a(195)),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,n.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(s.ModalPanel,this._getPanel(),d.default.createElement(u.default,this.props))}},{key:"_getPanel",value:function(){return{title:"Search",leftItems:[{icon:"remove",handler:this.context.portal.closeSidebar}]}}}]),t}(d.default.Component);f.contextTypes={portal:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(2)),l=c(a(3)),r=c(a(4)),o=c(a(5)),s=c(a(525)),i=c(a(1)),u=a(24),d=c(a(0));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){var e,a,l,o;(0,n.default)(this,t);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return a=l=(0,r.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),l._handleClose=l._handleClose.bind(l),o=a,(0,r.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return d.default.createElement(u.ModalPanel,this._getPanel(),d.default.createElement(s.default,this.props))}},{key:"_getPanel",value:function(){return{title:"Notifications",leftItems:[{icon:"remove",handler:this._handleClose}]}}},{key:"_handleClose",value:function(){this.context.portal.closeSidebar()}}]),t}(d.default.Component);f.contextTypes={portal:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(497)).default];t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(504)).default];t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(516)),l=r(a(517));function r(e){return e&&e.__esModule?e:{default:e}}var o=[n.default,l.default];t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(193)),l=r(a(0));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return[{label:"Manage Projects",rights:["expenses:manage_configuration"],show:e.is_active,modal:l.default.createElement(n.default,{type:"project",unassignedEndpoint:"/api/admin/expenses/projects",assignedEndpoint:"/api/admin/expenses/users/"+e.id+"/memberships",action:"/api/admin/expenses/users/"+e.id+"/memberships"})}]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return[{title:"ACCPAC Details",items:[{label:"Employee ID",content:e.values.employee_id,empty:"NONE"},{label:"Vendor ID",content:e.values.vendor_id,empty:"NONE"}]}]}}]);
//# sourceMappingURL=bundle-73d85bb257b2c288b76e.min.js.map